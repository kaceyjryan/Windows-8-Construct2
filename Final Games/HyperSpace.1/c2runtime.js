// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function r(){return function(){}}function aa(a){return function(b){this[a]=b}}function v(a){return function(){return this[a]}}function w(a){return function(){return a}}var B,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,ra,sa,I,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,$a,ab,bb,cb,db,eb,fb,jb,kb,lb,mb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function b(){this.Zc=this.Yc=this.bd=this.$c=this.kd=this.jd=this.Yb=this.Xb=0}function c(){h?this.Fg=new Set:(this.fh={},this.pk=0);this.Mj=[];this.Ri=!0}function d(a){k[l++]=a}function e(){this.Bb=this.rp=this.y=this.r=0}function f(a){this.gd=[];this.Lm(a)}ba=function(a){window.console&&window.console.log&&window.console.log(a)};ca=function(a){return"undefined"===typeof a};da=function(a){return"number"===typeof a};ea=function(a){return"string"===
typeof a};fa=function(a){return 0<a&&0===(a-1&a)};ga=function(a){return 0>a?-a:a};ha=function(a,b){return a>b?a:b};ia=function(a,b){return a<b?a:b};ja=Math.PI;ka=function(a){return a|0};la=function(a,b,c,d,g,e,h,f){if(ha(a,c)<ia(g,h)||ia(a,c)>ha(g,h)||ha(b,d)<ia(e,f)||ia(b,d)>ha(e,f))return!1;var k=g-a+h-c,m=e-b+f-d;a=c-a;b=d-b;g=h-g;e=f-e;f=ga(b*g-e*a);return ga(g*m-e*k)<=f&&ga(a*m-b*k)<=f};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.uB=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.Ze=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};ma=a;b.prototype.et=function(a){this.Xb=a.left;this.Yb=a.top;this.jd=a.right;this.kd=a.top;this.$c=a.right;this.bd=a.bottom;this.Yc=
a.left;this.Zc=a.bottom};b.prototype.cx=function(a,b){if(0===b)this.et(a);else{var c=Math.sin(b),d=Math.cos(b),g=a.left*c,e=a.top*c,h=a.right*c,c=a.bottom*c,f=a.left*d,k=a.top*d,m=a.right*d,d=a.bottom*d;this.Xb=f-e;this.Yb=k+g;this.jd=m-e;this.kd=k+h;this.$c=m-c;this.bd=d+h;this.Yc=f-c;this.Zc=d+g}};b.prototype.offset=function(a,b){this.Xb+=a;this.Yb+=b;this.jd+=a;this.kd+=b;this.$c+=a;this.bd+=b;this.Yc+=a;this.Zc+=b;return this};b.prototype.Tu=function(a){a.left=ia(ia(this.Xb,this.jd),ia(this.$c,
this.Yc));a.top=ia(ia(this.Yb,this.kd),ia(this.bd,this.Zc));a.right=ha(ha(this.Xb,this.jd),ha(this.$c,this.Yc));a.bottom=ha(ha(this.Yb,this.kd),ha(this.bd,this.Zc))};b.prototype.Ze=function(a,b){var c=this.jd-this.Xb,d=this.kd-this.Yb,g=this.$c-this.Xb,e=this.bd-this.Yb,h=a-this.Xb,f=b-this.Yb,k=c*c+d*d,m=c*g+d*e,d=c*h+d*f,l=g*g+e*e,z=g*h+e*f,A=1/(k*l-m*m),c=(l*d-m*z)*A,k=(k*z-m*d)*A;if(0<=c&&0<k&&1>c+k)return!0;c=this.Yc-this.Xb;d=this.Zc-this.Yb;k=c*c+d*d;m=c*g+d*e;d=c*h+d*f;A=1/(k*l-m*m);c=(l*
d-m*z)*A;k=(k*z-m*d)*A;return 0<=c&&0<k&&1>c+k};b.prototype.Mh=function(a,b){switch(a){case 0:return b?this.Xb:this.Yb;case 1:return b?this.jd:this.kd;case 2:return b?this.$c:this.bd;case 3:return b?this.Yc:this.Zc;case 4:return b?this.Xb:this.Yb;default:return b?this.Xb:this.Yb}};b.prototype.xj=function(){return(this.Xb+this.jd+this.$c+this.Yc)/4};b.prototype.yj=function(){return(this.Yb+this.kd+this.bd+this.Zc)/4};b.prototype.tB=function(a){var b=a.xj(),c=a.yj();if(this.Ze(b,c))return!0;b=this.xj();
c=this.yj();if(a.Ze(b,c))return!0;var d,g,e,h,f,k,m,l;for(m=0;4>m;m++)for(l=0;4>l;l++)if(b=this.Mh(m,!0),c=this.Mh(m,!1),d=this.Mh(m+1,!0),g=this.Mh(m+1,!1),e=a.Mh(l,!0),h=a.Mh(l,!1),f=a.Mh(l+1,!0),k=a.Mh(l+1,!1),la(b,c,d,g,e,h,f,k))return!0;return!1};na=b;oa=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};pa=function(a,b){var c,d;b=ka(b);if(!(0>b||b>=a.length))if(0===b)a.shift();else if(b===a.length-1)a.pop();else{c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};ra=function(a,
b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};sa=function(a,b){var c=a.indexOf(b);-1!==c&&pa(a,c)};I=function(a){return a/(180/ja)};ta=function(a){return a*(180/ja)};ua=function(a){a%=360;0>a&&(a+=360);return a};va=function(a){a%=2*ja;0>a&&(a+=2*ja);return a};wa=function(a){return ua(ta(a))};xa=function(a){return va(I(a))};ya=function(a,b,c,d){return Math.atan2(d-b,c-a)};za=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),e=Math.cos(b),c=c*g+d*e;return 1<=
c?0:-1>=c?ja:Math.acos(c)};Aa=function(a,b,c){var d=Math.sin(a),g=Math.cos(a),e=Math.sin(b),h=Math.cos(b);return Math.acos(d*e+g*h)>c?0<g*e-d*h?va(a+c):va(a-c):va(b)};Ba=function(a,b){var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),e=Math.cos(b);return 0>=d*g-c*e};Ca=function(a,b,c,d,g,e){if(0===c)return e?a:b;var h=Math.sin(c);c=Math.cos(c);a-=d;b-=g;var f=a*h;a=a*c-b*h;b=b*c+f;return e?a+d:b+g};Da=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Ea=function(a,b){return!a!==!b};Fa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;
return!1};Ga=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var g=+new Date;Ha=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-g};var h="undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;c.prototype.contains=function(a){return h?this.Fg.has(a):this.fh.hasOwnProperty(a.toString())};
c.prototype.add=function(a){if(h)this.Fg.has(a)||(this.Fg.add(a),this.Ri=!1);else{var b=a.toString();this.fh.hasOwnProperty(b)||(this.fh[b]=a,this.pk++,this.Ri=!1)}return this};c.prototype.remove=function(a){h?this.Fg.has(a)&&(this.Fg["delete"](a),this.Ri=!1):(a=a.toString(),this.fh.hasOwnProperty(a)&&(delete this.fh[a],this.pk--,this.Ri=!1));return this};c.prototype.clear=function(){h?this.Fg.clear():(Ga(this.fh),this.pk=0);this.Mj.length=0;this.Ri=!0;return this};c.prototype.Vl=function(){return h?
0===this.Fg.size:0===this.pk};c.prototype.count=function(){return h?this.Fg.size:this.pk};var k=null,l=0;c.prototype.bD=function(){if(!this.Ri){if(h)this.Mj.length=this.Fg.size,k=this.Mj,l=0,this.Fg.forEach(d),k=null,l=0;else{this.Mj.length=this.pk;var a,b=0;for(a in this.fh)this.fh.hasOwnProperty(a)&&(this.Mj[b++]=this.fh[a])}this.Ri=!0}};c.prototype.Lj=function(){this.bD();return this.Mj};Ia=c;e.prototype.add=function(a){this.y=a-this.r;this.rp=this.Bb+this.y;this.r=this.rp-this.Bb-this.y;this.Bb=
this.rp};e.prototype.reset=function(){this.Bb=this.rp=this.y=this.r=0};Ja=e;Ka=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.Lm=function(a){this.Nw=a;this.zg=a.length/2;this.gd.length=a.length;this.zq=this.Aq=-1;this.Vu=0};f.prototype.nk=function(){return!this.Nw.length};f.prototype.op=function(a,b,c,d,g){this.gd.length=8;this.zg=4;var e=this.gd;e[0]=a.Xb-b;e[1]=a.Yb-c;e[2]=a.jd-b;e[3]=a.kd-c;e[4]=a.$c-b;e[5]=a.bd-c;e[6]=a.Yc-b;e[7]=a.Zc-c;this.Aq=d;this.zq=g};f.prototype.bx=
function(a){this.zg=a.zg;ra(this.gd,a.gd)};f.prototype.Yj=function(a,b,c){if(this.Aq!==a||this.zq!==b||this.Vu!==c){this.Aq=a;this.zq=b;this.Vu=c;var d,g,e,h=0,f=1,k=this.Nw,m=this.gd;0!==c&&(h=Math.sin(c),f=Math.cos(c));c=0;for(d=this.zg;c<d;c++)g=k[2*c]*a,e=k[2*c+1]*b,m[2*c]=g*f-e*h,m[2*c+1]=e*f+g*h}};f.prototype.Ze=function(a,b){var c=this.gd;if(a===c[0]&&b===c[1])return!0;var d,g,e,h=this.zg,f=c[0],k=f,m=c[1],l=m;for(d=1;d<h;d++)g=c[2*d],e=c[2*d+1],g<f&&(f=g),g>k&&(k=g),e<m&&(m=e),e>l&&(l=e);
g=f-110;var m=m-101,k=k+131,l=l+120,z,A,t=0,y=0;for(d=0;d<h;d++)e=c[2*d],f=c[2*d+1],z=c[2*((d+1)%h)],A=c[2*((d+1)%h)+1],la(g,m,a,b,e,f,z,A)&&t++,la(k,l,a,b,e,f,z,A)&&y++;return 1===t%2||1===y%2};f.prototype.Mv=function(a,b,c){var d=a.gd,g=this.gd;if(this.Ze(d[0]+b,d[1]+c)||a.Ze(g[0]-b,g[1]-c))return!0;var e,h,f,k,m,l,z,A,t,y,H,N;e=0;for(h=this.zg;e<h;e++)for(m=g[2*e],l=g[2*e+1],z=g[2*((e+1)%h)],A=g[2*((e+1)%h)+1],f=0,k=a.zg;f<k;f++)if(t=d[2*f]+b,y=d[2*f+1]+c,H=d[2*((f+1)%k)]+b,N=d[2*((f+1)%k)+1]+
c,la(m,l,z,A,t,y,H,N))return!0;return!1};Na=f;var m="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Oa=function(a){return 0>=a||11<=a?"source-over":m[a-1]};Pa=function(a,b,c){if(c)switch(a.wd=c.ONE,a.qd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.wd=c.ONE;a.qd=c.ONE;break;case 3:a.wd=c.ONE;a.qd=c.ZERO;break;case 4:a.wd=c.ONE_MINUS_DST_ALPHA;a.qd=c.ONE;break;case 5:a.wd=c.DST_ALPHA;a.qd=c.ZERO;break;case 6:a.wd=c.ZERO;a.qd=c.SRC_ALPHA;
break;case 7:a.wd=c.ONE_MINUS_DST_ALPHA;a.qd=c.ZERO;break;case 8:a.wd=c.ZERO;a.qd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.wd=c.DST_ALPHA;a.qd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.wd=c.ONE_MINUS_DST_ALPHA,a.qd=c.SRC_ALPHA}};Qa=function(a){return Math.round(1E6*a)/1E6};Ra=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()}})();var nb="undefined"!==typeof Float32Array?Float32Array:Array;
function ob(a){var b=new nb(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function pb(a){var b=new nb(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}function qb(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}
function rb(a,b){var c=b[0],d=b[1];b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function sb(a,b,c,d){d||(d=pb());var e,f,g,h,k,l,m,n,p=a[0],u=a[1];a=a[2];f=c[0];g=c[1];e=c[2];c=b[1];l=b[2];p===b[0]&&u===c&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=p-b[0],l=u-b[1],m=a-b[2],n=1/Math.sqrt(c*c+l*l+m*m),c*=n,l*=n,m*=n,b=g*m-e*l,e=e*c-f*m,f=f*l-g*c,(n=Math.sqrt(b*b+e*e+f*f))?(n=1/n,b*=n,e*=n,f*=n):f=e=b=0,g=l*f-m*e,h=m*b-c*f,k=c*e-l*b,(n=Math.sqrt(g*g+h*h+k*k))?(n=1/n,g*=n,h*=n,k*=n):k=h=g=0,
d[0]=b,d[1]=g,d[2]=c,d[3]=0,d[4]=e,d[5]=h,d[6]=l,d[7]=0,d[8]=f,d[9]=k,d[10]=m,d[11]=0,d[12]=-(b*p+e*u+f*a),d[13]=-(g*p+h*u+k*a),d[14]=-(c*p+l*u+m*a),d[15]=1)}
(function(){function a(a){this.height=this.width=0;this.Wu=ob([0,0,100]);this.bw=ob([0,0,0]);this.Hx=ob([0,1,0]);this.Gt=ob([1,1,1]);this.ts=pb();this.mf=pb();this.Vv=pb();this.Nq=pb();this.ja=a;this.Iv()}function b(a,c,b){this.ja=a;this.Mm=c;this.name=b;this.hf=a.getAttribLocation(c,"aPos");this.ci=a.getAttribLocation(c,"aTex");this.$v=a.getUniformLocation(c,"matP");this.wk=a.getUniformLocation(c,"matMV");this.xk=a.getUniformLocation(c,"opacity");this.aw=a.getUniformLocation(c,"samplerFront");this.Fo=
a.getUniformLocation(c,"samplerBack");this.vk=a.getUniformLocation(c,"destStart");this.uk=a.getUniformLocation(c,"destEnd");this.Yr=a.getUniformLocation(c,"seconds");this.Xr=a.getUniformLocation(c,"pixelWidth");this.Wr=a.getUniformLocation(c,"pixelHeight");this.Vr=a.getUniformLocation(c,"layerScale");this.xk&&a.uniform1f(this.xk,1);this.aw&&a.uniform1i(this.aw,0);this.Fo&&a.uniform1i(this.Fo,1);this.vk&&a.uniform2f(this.vk,0,0);this.uk&&a.uniform2f(this.uk,1,1);this.cj=!1}function c(a,c){this.type=
a;this.ea=c;this.ja=c.ja;this.hg=this.rf=this.Aw=0;this.qa=this.Ij=null;this.ft=[]}function d(a){--a;for(var c=1;32>c;c<<=1)a|=a>>c;return a+1}a.prototype.Iv=function(){var a=this.ja,c;this.Wv=1;this.hj=null;this.hv=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Xv=a.ONE;this.Uv=a.ONE_MINUS_SRC_ALPHA;this.Ms=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ms);this.Um=Array(4);this.Pm=
Array(4);for(c=0;4>c;c++)this.Um[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Um[c]),this.Pm[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Pm[c]);this.Xg=0;this.sB=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.sB);this.Et=new Float32Array(16E3);this.lt=new Float32Array(16E3);this.tC=new Float32Array(32E3);for(var b=new Uint16Array(12E3),d=c=0;12E3>c;)b[c++]=d,b[c++]=d+1,b[c++]=d+2,b[c++]=d,b[c++]=d+2,b[c++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.Ns=
this.Kg=0;this.Ic=[];c=this.Kq({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.Ic.push(c);
c=this.Kq({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ic.push(c);for(var e in tb)tb.hasOwnProperty(e)&&this.Ic.push(this.Kq(tb[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Oh=[];this.Tg=0;this.ie=!1;this.iv=this.am=-1;this.Dl=null;this.KA=a.createFramebuffer();this.Sw=null;this.xi=ob([0,0,0]);this.Gg(0)};a.prototype.Kq=function(a,c,d){var e=this.ja,f=e.createShader(e.FRAGMENT_SHADER);
e.shaderSource(f,a.src);e.compileShader(f);if(!e.getShaderParameter(f,e.COMPILE_STATUS))return e.deleteShader(f),null;var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,c);e.compileShader(n);if(!e.getShaderParameter(n,e.COMPILE_STATUS))return e.deleteShader(f),e.deleteShader(n),null;c=e.createProgram();e.attachShader(c,f);e.attachShader(c,n);e.linkProgram(c);if(!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(f),e.deleteShader(n),e.deleteProgram(c),null;e.useProgram(c);e.deleteShader(f);
e.deleteShader(n);d=new b(e,c,d);d.Uq=a.Uq||0;d.Vq=a.Vq||0;d.cv=!!a.cv;d.Mu=!!a.Mu;d.la=a.la||[];a=0;for(f=d.la.length;a<f;a++)d.la[a][1]=e.getUniformLocation(c,d.la[a][0]),e.uniform1f(d.la[a][1],0);return d};a.prototype.jr=function(a){var c,b;c=0;for(b=this.Ic.length;c<b;c++)if(this.Ic[c].name===a)return c;return-1};a.prototype.Mw=function(a,c,b){var d=[0,0,this.width,this.height],e=this.mf,n=this.ts,p=[0,0,0,0,0,0,0,0];p[0]=e[0]*a+e[4]*c+e[12];p[1]=e[1]*a+e[5]*c+e[13];p[2]=e[2]*a+e[6]*c+e[14];p[3]=
e[3]*a+e[7]*c+e[15];p[4]=n[0]*p[0]+n[4]*p[1]+n[8]*p[2]+n[12]*p[3];p[5]=n[1]*p[0]+n[5]*p[1]+n[9]*p[2]+n[13]*p[3];p[6]=n[2]*p[0]+n[6]*p[1]+n[10]*p[2]+n[14]*p[3];p[7]=-p[2];0!==p[7]&&(p[7]=1/p[7],p[4]*=p[7],p[5]*=p[7],p[6]*=p[7],b[0]=(0.5*p[4]+0.5)*d[2]+d[0],b[1]=(0.5*p[5]+0.5)*d[3]+d[1])};a.prototype.dt=function(a,c,b){if(this.width!==a||this.height!==c||b){this.Th();this.width=a;this.height=c;this.ja.viewport(0,0,a,c);c=a/c;var d=this.ts,e;e=1*Math.tan(45*Math.PI/360);c*=e;a=-c;b=-e;d||(d=pb());var n=
c-a,p=e-b;d[0]=2/n;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/p;d[6]=0;d[7]=0;d[8]=(c+a)/n;d[9]=(e+b)/p;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;sb(this.Wu,this.bw,this.Hx,this.mf);a=[0,0];c=[0,0];this.Mw(0,0,a);this.Mw(1,1,c);this.Gt[0]=1/(c[0]-a[0]);this.Gt[1]=-1/(c[1]-a[1]);a=0;for(c=this.Ic.length;a<c;a++)b=this.Ic[a],b.cj=!1,b.$v&&(this.ja.useProgram(b.Mm),this.ja.uniformMatrix4fv(b.$v,!1,this.ts));this.ja.useProgram(this.Ic[this.am].Mm);this.ja.bindTexture(this.ja.TEXTURE_2D,
null);this.hj=null}};a.prototype.Dg=function(){sb(this.Wu,this.bw,this.Hx,this.mf);rb(this.mf,this.Gt)};a.prototype.translate=function(a,c){if(0!==a||0!==c){this.xi[0]=a;this.xi[1]=c;this.xi[2]=0;var b=this.mf,d=this.xi,e=d[0],n=d[1],d=d[2];b[12]=b[0]*e+b[4]*n+b[8]*d+b[12];b[13]=b[1]*e+b[5]*n+b[9]*d+b[13];b[14]=b[2]*e+b[6]*n+b[10]*d+b[14];b[15]=b[3]*e+b[7]*n+b[11]*d+b[15]}};a.prototype.scale=function(a,c){if(1!==a||1!==c)this.xi[0]=a,this.xi[1]=c,this.xi[2]=1,rb(this.mf,this.xi)};a.prototype.Xs=function(a){if(0!==
a){var c=this.mf,b,d=Math.sin(a);a=Math.cos(a);var e=c[0],n=c[1],p=c[2],f=c[3],s=c[4],q=c[5],x=c[6],C=c[7];b?c!==b&&(b[8]=c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15]):b=c;b[0]=e*a+s*d;b[1]=n*a+q*d;b[2]=p*a+x*d;b[3]=f*a+C*d;b[4]=e*-d+s*a;b[5]=n*-d+q*a;b[6]=p*-d+x*a;b[7]=f*-d+C*a}};a.prototype.Jg=function(){for(var a=!1,c=0;16>c;c++)if(this.Vv[c]!==this.mf[c]){a=!0;break}a&&(a=this.Qf(),a.type=5,a.qa?qb(this.mf,a.qa):a.qa=pb(this.mf),qb(this.mf,this.Vv),this.ie=
!1)};c.prototype.aA=function(){this.ja.bindTexture(this.ja.TEXTURE_2D,this.Ij)};c.prototype.Yz=function(){var a=this.Aw,c=this.ea;c.hv=a;c=c.Dl;c.xk&&this.ja.uniform1f(c.xk,a)};c.prototype.Vz=function(){this.ja.drawElements(this.ja.TRIANGLES,this.hg,this.ja.UNSIGNED_SHORT,2*this.rf)};c.prototype.Xz=function(){this.ja.blendFunc(this.rf,this.hg)};c.prototype.bA=function(){var a,c,b,d=this.ea.Ic,e=this.ea.iv;a=0;for(c=d.length;a<c;a++)b=d[a],a===e&&b.wk?(this.ja.uniformMatrix4fv(b.wk,!1,this.qa),b.cj=
!0):b.cj=!1;qb(this.qa,this.ea.Nq)};c.prototype.Wz=function(){var a=this.ja,c=this.ea;this.Ij?(a.bindFramebuffer(a.FRAMEBUFFER,c.KA),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ij,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};c.prototype.Qz=function(){var a=this.ja;0===this.rf?(a.clearColor(this.qa[0],this.qa[1],this.qa[2],this.qa[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.qa[0],
this.qa[1],this.qa[2],this.qa[3]),a.clearColor(0,0,0,0),a.clear(this.ja.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};c.prototype.Uz=function(){var a=this.ja,c=this.ea,b=c.Ic[1];a.useProgram(b.Mm);!b.cj&&b.wk&&(a.uniformMatrix4fv(b.wk,!1,c.Nq),b.cj=!0);a.enableVertexAttribArray(b.hf);a.bindBuffer(a.ARRAY_BUFFER,c.Ms);a.vertexAttribPointer(b.hf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.rf/4,this.hg);b=c.Dl;a.useProgram(b.Mm);0<=b.hf&&(a.enableVertexAttribArray(b.hf),a.bindBuffer(a.ARRAY_BUFFER,
c.Um[c.Xg]),a.vertexAttribPointer(b.hf,2,a.FLOAT,!1,0,0));0<=b.ci&&(a.enableVertexAttribArray(b.ci),a.bindBuffer(a.ARRAY_BUFFER,c.Pm[c.Xg]),a.vertexAttribPointer(b.ci,2,a.FLOAT,!1,0,0))};c.prototype.Zz=function(){var a=this.ja,c=this.ea,b=c.Ic[this.rf];c.iv=this.rf;c.Dl=b;a.useProgram(b.Mm);!b.cj&&b.wk&&(a.uniformMatrix4fv(b.wk,!1,c.Nq),b.cj=!0);b.xk&&a.uniform1f(b.xk,c.hv);0<=b.hf&&(a.enableVertexAttribArray(b.hf),a.bindBuffer(a.ARRAY_BUFFER,c.Um[c.Xg]),a.vertexAttribPointer(b.hf,2,a.FLOAT,!1,0,
0));0<=b.ci&&(a.enableVertexAttribArray(b.ci),a.bindBuffer(a.ARRAY_BUFFER,c.Pm[c.Xg]),a.vertexAttribPointer(b.ci,2,a.FLOAT,!1,0,0))};c.prototype.$z=function(){var a,c,b=this.ea.Dl,d=this.ja;b.Fo&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Ij),d.activeTexture(d.TEXTURE0));b.Xr&&d.uniform1f(b.Xr,this.qa[0]);b.Wr&&d.uniform1f(b.Wr,this.qa[1]);b.vk&&d.uniform2f(b.vk,this.qa[2],this.qa[3]);b.uk&&d.uniform2f(b.uk,this.qa[4],this.qa[5]);b.Vr&&d.uniform1f(b.Vr,this.qa[6]);b.Yr&&d.uniform1f(b.Yr,
Ha()/1E3);if(b.la.length)for(a=0,c=b.la.length;a<c;a++)d.uniform1f(b.la[a][1],this.ft[a])};a.prototype.Qf=function(){this.Tg===this.Oh.length&&this.Oh.push(new c(0,this));return this.Oh[this.Tg++]};a.prototype.Th=function(){if(0!==this.Tg&&!this.ja.isContextLost()){var a=this.ja;0<this.Ns&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ms),a.bufferData(a.ARRAY_BUFFER,this.tC.subarray(0,this.Ns),a.STREAM_DRAW),c&&0<=c.hf&&"<point>"===c.name&&a.vertexAttribPointer(c.hf,4,a.FLOAT,!1,0,0));if(0<this.Kg){var c=this.Dl;
a.bindBuffer(a.ARRAY_BUFFER,this.Um[this.Xg]);a.bufferData(a.ARRAY_BUFFER,this.Et.subarray(0,this.Kg),a.STREAM_DRAW);c&&0<=c.hf&&"<point>"!==c.name&&a.vertexAttribPointer(c.hf,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Pm[this.Xg]);a.bufferData(a.ARRAY_BUFFER,this.lt.subarray(0,this.Kg),a.STREAM_DRAW);c&&0<=c.ci&&"<point>"!==c.name&&a.vertexAttribPointer(c.ci,2,a.FLOAT,!1,0,0)}for(var b,a=0,c=this.Tg;a<c;a++)switch(b=this.Oh[a],b.type){case 1:b.Vz();break;case 2:b.aA();break;case 3:b.Yz();
break;case 4:b.Xz();break;case 5:b.bA();break;case 6:b.Wz();break;case 7:b.Qz();break;case 8:b.Uz();break;case 9:b.Zz();break;case 10:b.$z()}this.Ns=this.Kg=this.Tg=0;this.ie=!1;this.Xg++;4<=this.Xg&&(this.Xg=0)}};a.prototype.Dj=function(a){if(a!==this.Wv){var c=this.Qf();c.type=3;this.Wv=c.Aw=a;this.ie=!1}};a.prototype.Re=function(a){if(a!==this.hj){var c=this.Qf();c.type=2;this.hj=c.Ij=a;this.ie=!1}};a.prototype.qi=function(a,c){if(a!==this.Xv||c!==this.Uv){var b=this.Qf();b.type=4;b.rf=a;b.hg=
c;this.Xv=a;this.Uv=c;this.ie=!1}};a.prototype.Zw=function(){this.qi(this.ja.ONE,this.ja.ONE_MINUS_SRC_ALPHA)};a.prototype.ep=function(a,c,b,d,e,n,f,u){15992<=this.Kg&&this.Th();var s=this.Kg,q=this.Et,x=this.lt;if(this.ie)this.Oh[this.Tg-1].hg+=6;else{var C=this.Qf();C.type=1;C.rf=3*(s/4);C.hg=6;this.ie=!0}q[s]=a;x[s++]=0;q[s]=c;x[s++]=0;q[s]=b;x[s++]=1;q[s]=d;x[s++]=0;q[s]=e;x[s++]=1;q[s]=n;x[s++]=1;q[s]=f;x[s++]=0;q[s]=u;x[s++]=1;this.Kg=s};a.prototype.Ag=function(a,c,b,d,e,n,f,u,s){15992<=this.Kg&&
this.Th();var q=this.Kg,x=this.Et,C=this.lt;if(this.ie)this.Oh[this.Tg-1].hg+=6;else{var D=this.Qf();D.type=1;D.rf=3*(q/4);D.hg=6;this.ie=!0}x[q]=a;C[q++]=s.left;x[q]=c;C[q++]=s.top;x[q]=b;C[q++]=s.right;x[q]=d;C[q++]=s.top;x[q]=e;C[q++]=s.right;x[q]=n;C[q++]=s.bottom;x[q]=f;C[q++]=s.left;x[q]=u;C[q++]=s.bottom;this.Kg=q};a.prototype.Gg=function(a){if(this.am!==a){if(!this.Ic[a]){if(0===this.am)return;a=0}var c=this.Qf();c.type=9;this.am=c.rf=a;this.ie=!1}};a.prototype.Gm=function(a){a=this.Ic[a];
return!(!a.vk&&!a.uk)};a.prototype.Qs=function(a){return this.Ic[a].cv};a.prototype.xC=function(a){a=this.Ic[a];return 0!==a.Uq||0!==a.Vq};a.prototype.ZA=function(a){return this.Ic[a].Uq};a.prototype.$A=function(a){return this.Ic[a].Vq};a.prototype.aB=function(a,c){return this.Ic[a].la[c][2]};a.prototype.$o=function(a){return this.Ic[a].Mu};a.prototype.Pk=function(a,c,b,d,e,n,f,u,s){var q=this.Ic[this.am];if(q.Xr||q.Wr||q.Yr||q.Fo||q.vk||q.uk||q.Vr||s.length){q=this.Qf();q.type=10;q.qa?qb(this.mf,
q.qa):q.qa=pb();q.qa[0]=c;q.qa[1]=b;q.qa[2]=d;q.qa[3]=e;q.qa[4]=n;q.qa[5]=f;q.qa[6]=u;q.Ij=a;if(s.length)for(q.ft.length=s.length,a=0,c=s.length;a<c;a++)q.ft[a]=s[a];this.ie=!1}};a.prototype.clear=function(a,c,b,d){var e=this.Qf();e.type=7;e.rf=0;e.qa||(e.qa=pb());e.qa[0]=a;e.qa[1]=c;e.qa[2]=b;e.qa[3]=d;this.ie=!1};a.prototype.clearRect=function(a,c,b,d){var e=this.Qf();e.type=7;e.rf=1;e.qa||(e.qa=pb());e.qa[0]=a;e.qa[1]=c;e.qa[2]=b;e.qa[3]=d;this.ie=!1};a.prototype.wC=function(){this.Th();this.ja.flush()};
var e=[],f={};a.prototype.Co=function(a,c,b,l){c=!!c;b=!!b;var m=a.src+","+c+","+b+(c?",undefined":""),n=null;if("undefined"!==typeof a.src&&f.hasOwnProperty(m))return n=f[m],n.Fn++,n;this.Th();var p=this.ja,u=fa(a.width)&&fa(a.height),n=p.createTexture();p.bindTexture(p.TEXTURE_2D,n);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var s=p.RGBA,q=p.RGBA,x=p.UNSIGNED_BYTE;if(l)switch(l){case 1:q=s=p.RGB;break;case 2:x=p.UNSIGNED_SHORT_4_4_4_4;break;case 3:x=p.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=
s=p.RGB,x=p.UNSIGNED_SHORT_5_6_5}!u&&c?(l=document.createElement("canvas"),l.width=d(a.width),l.height=d(a.height),l.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,l.width,l.height),p.texImage2D(p.TEXTURE_2D,0,s,q,x,l)):p.texImage2D(p.TEXTURE_2D,0,s,q,x,a);c?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE));
b?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),u?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR_MIPMAP_LINEAR),p.generateMipmap(p.TEXTURE_2D)):p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST));p.bindTexture(p.TEXTURE_2D,null);this.hj=null;n.yl=a.width;n.xl=a.height;n.Fn=1;n.Uu=m;e.push(n);return f[m]=n};a.prototype.Wg=function(a,c,b,d){this.Th();
var f=this.ja,n=f.createTexture();f.bindTexture(f.TEXTURE_2D,n);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,c,0,f.RGBA,d?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,b?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,b?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.hj=null;n.yl=a;n.xl=c;e.push(n);
return n};a.prototype.gD=function(a,c,b){this.Th();var d=this.ja;d.bindTexture(d.TEXTURE_2D,c);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,b?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,null);this.hj=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Fn&&1<a.Fn?a.Fn--:(this.Th(),this.ja.bindTexture(this.ja.TEXTURE_2D,null),this.hj=null,sa(e,a),"undefined"!==typeof a.Uu&&delete f[a.Uu],this.ja.deleteTexture(a)))};a.prototype.yh=function(a){if(a!==this.Sw){var c=
this.Qf();c.type=6;this.Sw=c.Ij=a;this.ie=!1}};Sa=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.gj="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.Ef=!!a.dc;this.kk="undefined"!==typeof window.AppMobi||this.Ef;if(this.ig=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)});this.fd=this.Ef||this.ig;
this.po=/tizen/i.test(navigator.userAgent);this.Nv=/android/i.test(navigator.userAgent)&&!this.po;this.to=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Sv=/ipad/i.test(navigator.userAgent);this.Fr=this.to||this.Sv;this.Ov=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.AB=!this.Ov&&/safari/i.test(navigator.userAgent);this.Pv=/windows/i.test(navigator.userAgent);this.fj="undefined"!==typeof window.c2nodewebkit;this.Qv=!("undefined"===typeof window.c2isWindows8||
!window.c2isWindows8);this.BB=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.xB=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.devicePixelRatio=1;this.jg=this.gj||this.kk||this.ig||this.Nv||this.Fr||this.BB||this.xB||this.po;this.jg||(this.jg=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.fj||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||
(this.fj=!0);this.yB="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.Xu=document.getElementById("c2canvasdiv");this.nb=this.ea=this.ja=null;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Ef&&(window.c2runtime=this);this.fj&&(window.GE=function(a){a.preventDefault();return!1},window.HE=function(a){a.preventDefault();return!1});
this.width=a.width;this.height=a.height;this.jj=this.width;this.ij=this.height;this.cb=!0;this.Yl=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.X=[];this.Tb=[];this.Or={};this.Hf=[];this.Tq={};this.Xi=[];this.Ch=[];this.zp=[];this.wz=[];this.xz=[];this.bg=new Ia;this.tr=!1;this.Fe=0;this.xr=!1;this.Ce=[];this.hh=this.Hd=this.Bo=this.$s="";this.Nm=this.mx=!1;this.Hq=this.gm=this.Rh=this.Ca=0;this.zh=1;this.Ge=new Ja;this.yo=0;this.mw=!0;this.So=this.ao=this.Zi=
this.tf=this.cm=this.$q=0;this.zl=null;this.Rn=[];this.Sq=[];this.Tn=-1;this.Zr=[[]];this.xt=this.Go=0;this.cp(null);this.Fl=this.sw=this.zm=0;this.Om=[];this.qt=this.Rs=0;this.$l=!0;this.Eo=0;this.Wl=!1;this.RC=0;this.bj=!1;this.zs=new Ia;this.As=new Ia;this.gp=[];this.Fj=new Na([]);this.kt=new Na([]);this.Kh=[];this.wl={};this.$j={};this.Vj={};this.Vk={};this.Su={};this.Gf=this.He=this.Zv=this.Ao=this.Ra=null;this.Uk=this.Cr=!1;this.br=[null,null];this.$i=0;this.Aj={};this.pp=this.tk=null;this.load();
this.devicePixelRatio=(this.Xl=!this.fd&&this.eD&&(this.Fr||this.po))?window.devicePixelRatio||1:1;this.nd();var b;"undefined"!==typeof jQuery&&0<this.ge&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.kA&&(this.ig||!this.fd)){b={depth:!1,antialias:!this.jg};var d=!0;if(this.Ov&&this.Pv){var e=document.createElement("canvas");"OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",b)||e.getContext("experimental-webgl",b)).getSupportedExtensions().toString()&&
(d=!1)}d&&(this.ja=a.getContext("webgl",b)||a.getContext("experimental-webgl",b))}}catch(f){}if(this.ja){this.fd||(this.Yd=document.createElement("canvas"),jQuery(this.Yd).appendTo(this.canvas.parentNode),this.Yd.oncontextmenu=w(!1),this.Yd.onselectstart=w(!1),this.Yd.width=a.width,this.Yd.height=a.height,this.Jw(),this.Ks=this.Yd.getContext("2d"));this.ea=new Sa(this.ja,this.jg);this.ea.dt(a.width,a.height);this.nb=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();
c.hC();window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){c.ea.Iv();c.ea.dt(c.ea.width,c.ea.height,!0);c.He=null;c.Gf=null;c.br[0]=null;c.br[1]=null;c.iC();c.cb=!0;window.cr_setSuspended(!1)},!1);var h,g,m,k,l;a=0;for(b=this.X.length;a<b;a++)for(h=this.X[a],d=0,e=h.Aa.length;d<e;d++)m=h.Aa[d],m.hd=this.ea.jr(m.id),this.Uk=this.Uk||this.ea.Gm(m.hd);a=0;for(b=this.Hf.length;a<b;a++){k=this.Hf[a];d=0;for(e=k.Aa.length;d<e;d++)m=k.Aa[d],m.hd=this.ea.jr(m.id);
d=0;for(e=k.Ya.length;d<e;d++)for(l=k.Ya[d],h=0,g=l.Aa.length;h<g;h++)m=l.Aa[h],m.hd=this.ea.jr(m.id),this.Uk=this.Uk||this.ea.Gm(m.hd)}}else{if(0<this.ge&&this.Ef){this.canvas=null;document.oncontextmenu=w(!1);document.onselectstart=w(!1);this.nb=AppMobi.canvas.getContext("2d");try{this.nb.samplingMode=this.Wb?"smooth":"sharp",this.nb.globalScale=1,this.nb.HTML5CompatibilityMode=!0,this.nb.imageSmoothingEnabled=this.Wb}catch(z){}0!==this.width&&0!==this.height&&(this.nb.width=this.width,this.nb.height=
this.height)}this.nb||(this.ig?(b={antialias:!!this.Wb},this.nb=a.getContext("2d",b)):this.nb=a.getContext("2d"),this.nb.webkitImageSmoothingEnabled=this.Wb,this.nb.mozImageSmoothingEnabled=this.Wb,this.nb.msImageSmoothingEnabled=this.Wb,this.nb.imageSmoothingEnabled=this.Wb);this.Ks=this.Yd=null}this.yx=function(){c.Jc()};window==window.top||this.fd||this.Qv||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));
"undefined"!==typeof cr_is_preview&&(this.ig&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ba("Reloading for continuous preview"),this.Bo="__c2_continuouspreview",this.Nm=!0),this.sC&&!this.jg&&(jQuery(window).focus(function(){c.setSuspended(!1)}),jQuery(window).blur(function(){c.setSuspended(!0)})));this.go();this.Y={}}}function b(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function c(a,c,d,e){var h=indexedDB.open("_C2SaveStates");
h.onupgradeneeded=b;h.onerror=e;h.onsuccess=function(b){b=b.target.result;b.onerror=e;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}function d(a,c,d){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=b;e.onerror=d;e.onsuccess=function(b){b=b.target.result;b.onerror=d;var e=b.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?c(e.result.data):c(null)}}}function e(){ba("Reloading for continuous preview");window.c2cocoonjs?
CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function f(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof Ia||"undefined"===typeof a[c].Ug&&(b[c]=a[c]);return b}a.prototype.setSize=function(a,c){var b=this.qB&&this.to&&!navigator.standalone&&!this.fd&&!this.gj,d=0;b&&(this.to?d=60:this.Nv&&(d=56),c+=d);var e=0,h=0,f=0,g=0,m=0,m=this.ge,k=document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.Wl;k&&0<this.$i&&(m=this.$i);4<=m?(f=this.pe/this.oe,a/c>f?(f*=c,5===m?(m=f/this.pe,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),f=this.pe*m,g=this.oe*m,e=(a-f)/2,h=(c-g)/2,a=f,c=g):(e=(a-f)/2,a=f)):(g=a/f,5===m?(m=g/this.oe,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),f=this.pe*m,g=this.oe*m,e=(a-f)/2,h=(c-g)/2,a=f):h=(c-g)/2,c=g),k&&!this.fj&&(h=e=0),e=Math.floor(e),h=Math.floor(h),a=Math.floor(a),c=Math.floor(c)):this.fj&&this.Wl&&0===this.tv&&(e=Math.floor((a-this.pe)/
2),h=Math.floor((c-this.oe)/2),a=this.pe,c=this.oe);this.Xl&&this.Sv&&1<this.devicePixelRatio&&(1024<=a&&(a=1023),1024<=c&&(c=1023));k=this.devicePixelRatio;this.width=a*k;this.height=c*k;this.cb=!0;this.Xu&&!this.fd&&(jQuery(this.Xu).css({width:a+"px",height:c+"px","margin-left":e,"margin-top":h}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:c+"px"}));this.canvas&&(this.canvas.width=a*k,this.canvas.height=c*k,this.Xl&&jQuery(this.canvas).css({width:a+"px",height:c+
"px"}));this.Yd&&(this.Yd.width=a,this.Yd.height=c);this.ea&&this.ea.dt(a,c);this.Ef&&this.nb&&(this.nb.width=a,this.nb.height=c);this.nb&&(this.nb.webkitImageSmoothingEnabled=this.Wb,this.nb.mozImageSmoothingEnabled=this.Wb,this.nb.msImageSmoothingEnabled=this.Wb,this.nb.imageSmoothingEnabled=this.Wb);b&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};a.prototype.hC=function(){this.Cr=!0;var a,c,b;a=0;for(c=this.X.length;a<c;a++)b=this.X[a],b.To&&b.To()};a.prototype.iC=function(){this.Cr=
!1;var a,c,b;a=0;for(c=this.X.length;a<c;a++)b=this.X[a],b.Hs&&b.Hs()};a.prototype.Jw=function(){if(!this.fd){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Wl?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Yd).css(a)}};var g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=
function(a){var c;if(a&&!this.Yl)for(ba("[Construct 2] Suspending"),this.Yl=!0,0!==this.Rs&&g&&g(this.Rs),0!==this.qt&&clearTimeout(this.qt),a=0,c=this.Om.length;a<c;a++)this.Om[a](!0);else if(!a&&this.Yl){ba("[Construct 2] Resuming");this.Yl=!1;this.yo=Ha();this.cm=Ha();a=this.gm=this.ao=0;for(c=this.Om.length;a<c;a++)this.Om[a](!1);this.Jc()}};a.prototype.uz=function(a){this.Om.push(a)};a.prototype.load=function(){var a=ub();this.name=a[0];this.sv=a[1];this.ge=a[11];this.tv=a[11];this.fd&&(4<=a[11]||
0===a[11])&&(ba("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.tv=this.ge=3);this.Ct=a[17];this.fm=a[18];0===this.fm&&(this.tk=new Image,this.tk.src="loading-logo.png");this.zm=a[20];this.Hg=new L(this);var c,b,d,e,f,h,g,m,k;c=0;for(b=a[2].length;c<b;c++)g=a[2][c],vb(g),k=new g[0](this),k.ht=g[1],k.Yh=g[2],k.pw=g[9],k.Ka&&k.Ka(),this.plugins.push(k);a=ub();c=0;for(b=a[3].length;c<b;c++){g=a[3][c];f=g[1];k=null;d=0;for(e=this.plugins.length;d<
e;d++)if(this.plugins[d]instanceof f){k=this.plugins[d];break}var l=new k.ub(k);l.name=g[0];l.ua=g[2];l.sr=g[3].slice(0);l.fD=g[3].length;l.Cz=g[4];l.NA=g[5];l.Sa=g[11];l.ua?(l.Qo=[],l.fg=this.Fl++,l.Eb=null):(l.Qo=null,l.fg=-1,l.Eb=[]);l.Wn=null;l.ek=null;l.ov=null;l.Wd=!1;l.Rd=null;g[6]?(l.mt=g[6][0],l.nt=g[6][1],l.ot=g[6][2]):(l.mt=null,l.nt=0,l.ot=0);l.de=g[7]?g[7]:null;l.index=c;l.A=[];l.On=[];l.ti=[new Ta(l)];l.Yg=0;l.bf=null;l.Rk=!0;l.Ap=wb;l.TA=xb;l.YA=yb;l.Wa=zb;l.Hm=Ab;l.bp=Db;l.Bj=Eb;l.eo=
Fb;l.dr=Gb;l.hr=Hb;l.Lh=Ib;l.Y={};l.toString=Jb;l.Tb=[];d=0;for(e=g[8].length;d<e;d++){m=g[8][d];var z=m[1],A=null;f=0;for(h=this.Tb.length;f<h;f++)if(this.Tb[f]instanceof z){A=this.Tb[f];break}A||(A=new z(this),A.Ro=new Ia,A.Ka&&A.Ka(),this.Tb.push(A));f=new A.ub(A,l);f.name=m[0];f.Sa=m[2];f.Ka();l.Tb.push(f)}l.global=g[9];l.ur=g[10];l.Aa=[];d=0;for(e=g[12].length;d<e;d++)l.Aa.push({id:g[12][d][0],name:g[12][d][1],hd:-1,Ae:!0,index:d});this.Ct&&!l.ua&&!l.ur&&k.Yh||l.Ka();l.name&&(this.types[l.name]=
l);this.X.push(l);k.ht&&(d=new k.mb(l),d.uid=this.zm++,d.Ow=this.sw++,d.dj=0,d.Ql=Kb,d.toString=Lb,d.Z=g[13],d.Ka(),l.A.push(d),this.Aj[d.uid.toString()]=d)}c=0;for(b=a[4].length;c<b;c++)for(f=a[4][c],h=this.X[f[0]],d=1,e=f.length;d<e;d++)g=this.X[f[d]],g.Eb.push(h),h.Qo.push(g);c=0;for(b=a[22].length;c<b;c++){f=a[22][c];h=[];d=0;for(e=f.length;d<e;d++)h.push(this.X[f[d]]);d=0;for(e=h.length;d<e;d++)h[d].Wd=!0,h[d].Rd=h}if(0<this.Fl)for(c=0,b=this.X.length;c<b;c++)if(g=this.X[c],!g.ua&&g.Eb.length){g.Wn=
Array(this.Fl);g.ek=Array(this.Fl);g.ov=Array(this.Fl);l=[];d=A=z=m=0;for(e=g.Eb.length;d<e;d++)for(k=g.Eb[d],g.Wn[k.fg]=m,m+=k.fD,g.ek[k.fg]=z,z+=k.Cz,g.ov[k.fg]=A,A+=k.NA,f=0,h=k.Aa.length;f<h;f++)l.push(oa({},k.Aa[f]));g.Aa=l.concat(g.Aa);d=0;for(e=g.Aa.length;d<e;d++)g.Aa[d].index=d}c=0;for(b=a[5].length;c<b;c++)g=a[5][c],d=new Ua(this,g),this.Or[d.name]=d,this.Hf.push(d);c=0;for(b=a[6].length;c<b;c++)g=a[6][c],d=new Va(this,g),this.Tq[d.name]=d,this.Xi.push(d);c=0;for(b=this.Xi.length;c<b;c++)this.Xi[c].mc();
c=0;for(b=this.zp.length;c<b;c++)this.zp[c].mc();this.zp.length=0;this.yg=a[8];this.pe=a[9];this.oe=a[10];this.xn=1;this.kA=a[12];this.Wb=a[13];this.Yu=a[14];c=a[16];2===c&&(c=this.to?1:0);this.eD=0!==c;this.qB=a[19];this.sC=a[21];this.qp=Date.now()};a.prototype.LA=function(a){var c,b;c=0;for(b=this.Ch.length;c<b;c++)if(this.Ch[c].Kz===a)return this.Ch[c];return null};a.prototype.Nu=function(){var a=0,c=0,b=!0,d,e;d=0;for(e=this.Ch.length;d<e;d++){var f=this.Ch[d].bv;if(!f||0>=f)f=5E4;a+=f;this.Ch[d].complete||
this.Ch[d].loaded?c+=f:b=!1}this.Cj=0==a?0:c/a;return b};a.prototype.go=function(){if(this.nb||this.ea){var a=this.nb||this.Ks;this.Yd&&this.Jw();this.Cj=0;this.Yv=-1;if(this.Nu())this.oB();else{var c=Date.now()-this.qp,b=1;this.po&&(b=this.devicePixelRatio);if(a){if(3!==this.fm&&500<=c&&this.Yv!=this.Cj){a.clearRect(0,0,this.width,this.height);var c=this.width/(2*b),b=this.height/(2*b),d=0===this.fm&&this.tk.complete,e=40,f=0,h=80;d&&(h=this.tk.width,e=h/2,f=this.tk.height/2,a.drawImage(this.tk,
ka(c-e),ka(b-f)));1>=this.fm?(c=ka(c-e)+0.5,b=ka(b+(f+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(c,b,Math.floor(h*this.Cj),6),a.strokeStyle="black",a.strokeRect(c,b,h,6),a.strokeStyle="white",a.strokeRect(c-1,b-1,h+2,8)):2===this.fm&&(a.font="12pt Arial",a.fillStyle="#999",a.OE="middle",d=Math.round(100*this.Cj)+"%",e=a.measureText?a.measureText(d):null,a.fillText(d,c-(e?e.width:0)/2,b))}this.Yv=this.Cj}setTimeout(function(a){return function(){a.go()}}(this),100)}}};a.prototype.oB=function(){this.Yd&&
(this.canvas.parentNode.removeChild(this.Yd),this.Yd=this.Ks=null);this.qp=Date.now();this.cm=Ha();var a,c,b;if(this.Ct)for(a=0,c=this.X.length;a<c;a++)b=this.X[a],b.ua||b.ur||!b.sb.Yh||b.Ka();else this.$l=!1;a=0;for(c=this.Hf.length;a<c;a++)this.Hf[a].Lz();2<=this.ge&&(a=this.pe/this.oe,c=this.width/this.height,this.xn=2!==this.ge&&c>a||2===this.ge&&c<a?this.height/this.oe:this.width/this.pe);this.sv?this.Or[this.sv].it():this.Hf[0].it();this.Ct||(this.Eo=1,this.trigger(L.prototype.L.fu,null));this.Jc();
this.Ef&&AppMobi.webview.execute("onGameReady();")};var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.Jc=function(){if(this.Ra){var a=Ha();if(!this.fd&&window!=window.top){var c=this.ge;(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Wl)&&0<this.$i&&(c=this.$i);if(0<c){var c=window.innerWidth,b=window.innerHeight;
if(this.jj!==c||this.ij!==b)this.jj=c,this.ij=b,this.setSize(c,b)}}this.$l&&(c=this.Nu(),this.Eo=this.Cj,c&&(this.$l=!1,this.Cj=1,this.trigger(L.prototype.L.fu,null)));this.GB();!this.cb&&!this.ig||this.Cr||this.Nm||(this.cb=!1,this.ea?this.df():this.cg(),this.pp&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.pp[0],this.pp[1]),this.trigger(L.prototype.L.xy,null)),this.pp=null));this.EE||(this.tf++,this.Zi++,this.ao++);this.gm+=Ha()-a;this.Yl||(h?this.Rs=h(this.yx,this.canvas):this.qt=
setTimeout(this.yx,this.jg?1:16))}};a.prototype.GB=function(){var a,c,b,d,e,f,h,g,m;a=Ha();1E3<=a-this.cm&&(this.cm+=1E3,this.$q=this.ao,this.ao=0,this.Hq=this.gm,this.gm=0);this.mw&&(0!==this.yo&&(c=a-this.yo,0!==c||this.yB?(this.Rh=c/1E3,0.5<this.Rh?this.Rh=0:0.1<this.Rh&&(this.Rh=0.1)):(10<=this.PE&&(this.mw=!1),this.Rh=1/60)),this.yo=a);this.Ca=this.Rh*this.zh;this.Ge.add(this.Ca);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Wl;
2<=this.ge||a&&0<this.$i?(c=this.pe/this.oe,b=this.width/this.height,d=this.ge,a&&0<this.$i&&(d=this.$i),this.xn=2!==d&&b>c||2===d&&b<c?this.height/this.oe:this.width/this.pe,this.Ra&&(this.Ra.Xw(this.Ra.scrollX),this.Ra.Yw(this.Ra.scrollY))):this.xn=1;this.nd();this.Fe++;this.Hg.GC();this.Fe--;this.nd();this.Fe++;a=0;for(c=this.X.length;a<c;a++)if(h=this.X[a],!h.ua&&(h.Tb.length||h.Eb.length))for(b=0,d=h.A.length;b<d;b++)for(g=h.A[b],e=0,f=g.Va.length;e<f;e++)g.Va[e].Jc();a=0;for(c=this.X.length;a<
c;a++)if(h=this.X[a],!h.ua&&(h.Tb.length||h.Eb.length))for(b=0,d=h.A.length;b<d;b++)for(g=h.A[b],e=0,f=g.Va.length;e<f;e++)m=g.Va[e],m.vC&&m.vC();b=this.zs.Lj();a=0;for(c=b.length;a<c;a++)b[a].Jc();this.Fe--;this.pB();for(a=0;this.zl&&10>a++;)this.lv(this.zl);a=0;for(c=this.Xi.length;a<c;a++)this.Xi[a].mr=!1;this.Ra.Sn&&this.Ra.Sn.vc();this.gp.length=0;this.Fe++;a=0;for(c=this.X.length;a<c;a++)if(h=this.X[a],!h.ua&&(h.Tb.length||h.Eb.length))for(b=0,d=h.A.length;b<d;b++)for(g=h.A[b],e=0,f=g.Va.length;e<
f;e++)m=g.Va[e],m.pt&&m.pt();b=this.As.Lj();a=0;for(c=b.length;a<c;a++)b[a].pt();this.Fe--};a.prototype.lv=function(a){var c=this.Ra;this.Ra.TC();var b,d,e,f,h,g,m;if(this.ea)for(b=0,d=this.X.length;b<d;b++)h=this.X[b],h.ua||!h.zt||h.global&&0!==h.A.length||-1!==a.Tl.indexOf(h)||h.zt();c==a&&(this.Hg.Zd.length=0);a.it();b=0;for(d=this.X.length;b<d;b++)if(h=this.X[b],h.global||h.sb.ht)for(a=0,c=h.A.length;a<c;a++)if(g=h.A[a],g.Ds&&g.Ds(),g.Va)for(e=0,f=g.Va.length;e<f;e++)m=g.Va[e],m.Ds&&m.Ds();this.cb=
!0;this.nd()};a.prototype.tp=function(a){this.zs.add(a)};a.prototype.WC=function(a){this.As.add(a)};a.prototype.Kl=function(a){return a&&-1!==a.ym?this.Rh*a.ym:this.Ca};a.prototype.cg=function(){this.Ra.cg(this.nb);this.Ef&&this.nb.present()};a.prototype.df=function(){this.Ra.df(this.ea);this.ea.wC()};a.prototype.wq=function(a){a&&this.Rn.push(a)};a.prototype.DC=function(a){sa(this.Rn,a)};a.prototype.aj=function(a){return this.Aj[a.toString()]};a.prototype.Og=function(a){var c,b;if(!this.bg.contains(a)){this.bg.add(a);
if(a.Wd)for(c=0,b=a.siblings.length;c<b;c++)this.Og(a.siblings[c]);this.tr&&this.bg.Mj.push(a);this.Fe++;this.trigger(Object.getPrototypeOf(a.type.sb).L.du,a);this.Fe--}};a.prototype.nd=function(){var a,c,b,d,e,h,f,g,m,k;this.tr=!0;d=0;for(h=this.Ce.length;d<h;d++)for(a=this.Ce[d],c=a.type,c.A.push(a),e=0,f=c.Eb.length;e<f;e++)c.Eb[e].A.push(a),c.Eb[e].Rk=!0;this.Ce.length=0;h=this.bg.Lj();for(d=0;d<h.length;d++){a=h[d];c=a.type;b=c.A;e=0;for(f=this.Rn.length;e<f;e++)this.Rn[e](a);sa(b,a);a.O&&(pa(a.O.A,
a.Ee()),a.O.xe=!0);e=0;for(f=c.Eb.length;e<f;e++)sa(c.Eb[e].A,a),c.Eb[e].Rk=!0;if(a.Va)for(e=0,f=a.Va.length;e<f;e++)b=a.Va[e],b.Nk&&b.Nk(),b.pb.Ro.remove(a);this.zs.remove(a);this.As.remove(a);e=0;for(f=this.Hg.Zd.length;e<f;e++)if(m=this.Hg.Zd[e],m.Od.hasOwnProperty(c.index)&&sa(m.Od[c.index].dh,a),!c.ua)for(b=0,g=c.Eb.length;b<g;b++)k=c.Eb[b],m.Od.hasOwnProperty(k.index)&&sa(m.Od[k.index].dh,a);a.Nk&&a.Nk();this.Aj.hasOwnProperty(a.uid.toString())&&delete this.Aj[a.uid.toString()];this.So--;64>
c.On.length&&c.On.push(a);c.Rk=!0}this.bg.Vl()||(this.cb=!0);this.bg.clear();this.tr=!1};a.prototype.Jq=function(a,c,b,d){if(a.ua){var e=ka(Math.random()*a.Qo.length);return this.Jq(a.Qo[e],c,b,d)}return a.bf?this.Qh(a.bf,c,!1,b,d,!1):null};var k=[];a.prototype.Qh=function(a,c,b,d,e,h){var f,g,m,l;if(!a)return null;var G=this.X[a[1]],z=G.sb.Yh;if(this.$l&&z&&!G.ur||z&&!this.ea&&11===a[0][11])return null;var A=c;z||(c=null);var t;G.On.length?(t=G.On.pop(),t.se=!0,G.sb.mb.call(t,G)):(t=new G.sb.mb(G),
t.se=!1);t.uid=b&&!h?a[2]:this.zm++;this.Aj[t.uid.toString()]=t;t.Ow=this.sw++;t.dj=G.A.length;f=0;for(g=this.Ce.length;f<g;++f)this.Ce[f].type===G&&t.dj++;t.Ql=Kb;m=a[3];if(t.se)Ga(t.Y);else{t.Y={};if("undefined"!==typeof cr_is_preview)for(t.Lv=[],t.Lv.length=m.length,f=0,g=m.length;f<g;f++)t.Lv[f]=m[f][1];t.Fc=[];t.Fc.length=m.length}f=0;for(g=m.length;f<g;f++)t.Fc[f]=m[f][0];if(z){var y=a[0];t.x=ca(d)?y[0]:d;t.y=ca(e)?y[1]:e;t.z=y[2];t.width=y[3];t.height=y[4];t.depth=y[5];t.F=y[6];t.opacity=y[7];
t.Ud=y[8];t.Vd=y[9];t.Qd=y[10];f=y[11];!this.ea&&G.Aa.length&&(t.Qd=f);t.Bl=Oa(t.Qd);this.ja&&Pa(t,t.Qd,this.ja);if(t.se){f=0;for(g=y[12].length;f<g;f++)for(m=0,l=y[12][f].length;m<l;m++)t.$b[f][m]=y[12][f][m];t.Qa.set(0,0,0,0);t.wb.et(t.Qa);t.zn.length=0}else{t.$b=y[12].slice(0);f=0;for(g=t.$b.length;f<g;f++)t.$b[f]=y[12][f].slice(0);t.gb=[];t.Jh=[];t.Jh.length=G.Aa.length;t.Qa=new ma(0,0,0,0);t.wb=new na;t.zn=[];t.Oa=Mb;t.vE=Nb;t.Ze=Ob;t.wc=Pb;t.Ee=Qb}f=0;for(g=G.Aa.length;f<g;f++)t.Jh[f]=!0;t.Bh=
Rb;t.Bh();t.Kx=!!t.gb.length;t.yq=!0;t.visible=!0;t.ym=-1;t.O=c;t.Nj=c.A.length;"undefined"===typeof t.hb&&(t.hb=null);this.cb=t.Ph=!0}t.toString=Lb;var H;f=k.length=0;for(g=G.Eb.length;f<g;f++)k.push.apply(k,G.Eb[f].Tb);k.push.apply(k,G.Tb);if(t.se)for(f=0,g=k.length;f<g;f++){var N=k[f];H=t.Va[f];H.se=!0;N.pb.mb.call(H,N,t);y=a[4][f];m=0;for(l=y.length;m<l;m++)H.Z[m]=y[m];H.Ka();N.pb.Ro.add(t)}else for(t.Va=[],f=0,g=k.length;f<g;f++)N=k[f],H=new N.pb.mb(N,t),H.se=!1,H.Z=a[4][f].slice(0),H.Ka(),t.Va.push(H),
N.pb.Ro.add(t);y=a[5];if(t.se)for(f=0,g=y.length;f<g;f++)t.Z[f]=y[f];else t.Z=y.slice(0);this.Ce.push(t);c&&c.A.push(t);this.So++;if(G.Wd){if(t.Wd=!0,t.se?t.siblings.length=0:t.siblings=[],!b&&!h){f=0;for(g=G.Rd.length;f<g;f++)if(G.Rd[f]!==G){if(!G.Rd[f].bf)return null;t.siblings.push(this.Qh(G.Rd[f].bf,A,!1,z?t.x:d,z?t.y:e,!0))}f=0;for(g=t.siblings.length;f<g;f++)for(t.siblings[f].siblings.push(t),m=0;m<g;m++)f!==m&&t.siblings[f].siblings.push(t.siblings[m])}}else t.Wd=!1,t.siblings=null;t.Ka();
f=0;for(g=t.Va.length;f<g;f++)t.Va[f].Kw&&t.Va[f].Kw();return t};a.prototype.Nl=function(a){var c,b;c=0;for(b=this.Ra.Ya.length;c<b;c++){var d=this.Ra.Ya[c];if(Ra(d.name,a))return d}return null};a.prototype.ah=function(a){a=ka(a);0>a&&(a=0);a>=this.Ra.Ya.length&&(a=this.Ra.Ya.length-1);return this.Ra.Ya[a]};a.prototype.Cq=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Wa().lb=!0};a.prototype.Hm=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Hm()};a.prototype.bp=function(a){var c,b;c=0;for(b=
a.length;c<b;c++)a[c].bp()};a.prototype.Bj=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Bj()};a.prototype.tx=function(a,c,b){var d=a.Wa(),e,f,h,g,m,k;if(d.lb)for(d.lb=!1,e=d.A.length=0,g=a.A.length;e<g;e++)h=a.A[e],h.wc(),m=h.O.cd(c,b,!0),k=h.O.cd(c,b,!1),h.Ze(m,k)&&d.A.push(h);else{e=f=0;for(g=d.A.length;e<g;e++)h=d.A[e],h.wc(),m=h.O.cd(c,b,!0),k=h.O.cd(c,b,!1),h.Ze(m,k)&&(d.A[f]=d.A[e],f++);d.A.length=f}a.Lh();return d.lr()};a.prototype.Gj=function(a,c){if(!(a&&c&&a!==c&&a.Ph&&c.Ph))return!1;
a.wc();c.wc();var b=a.O,d=c.O,e,f,h,g,m,k;if(b===d||b.Pe===d.Pe&&d.Qe===d.Qe&&b.scale===d.scale&&b.F===d.F&&b.yd===d.yd){if(!a.Qa.uB(c.Qa)||!a.wb.tB(c.wb))return!1;m=a.hb&&!a.hb.nk();e=c.hb&&!c.hb.nk();if(!m&&!e)return!0;m?(a.hb.Yj(a.width,a.height,a.F),m=a.hb):(this.Fj.op(a.wb,a.x,a.y,a.width,a.height),m=this.Fj);e?(c.hb.Yj(c.width,c.height,c.F),k=c.hb):(this.Fj.op(c.wb,c.x,c.y,c.width,c.height),k=this.Fj);return m.Mv(k,c.x-a.x,c.y-a.y)}m=a.hb&&!a.hb.nk();e=c.hb&&!c.hb.nk();m?(a.hb.Yj(a.width,a.height,
a.F),this.Fj.bx(a.hb)):this.Fj.op(a.wb,a.x,a.y,a.width,a.height);m=this.Fj;e?(c.hb.Yj(c.width,c.height,c.F),this.kt.bx(c.hb)):this.kt.op(c.wb,c.x,c.y,c.width,c.height);k=this.kt;e=0;for(f=m.zg;e<f;e++)h=m.gd[2*e],g=m.gd[2*e+1],m.gd[2*e]=b.Vb(h+a.x,g+a.y,!0),m.gd[2*e+1]=b.Vb(h+a.x,g+a.y,!1);e=0;for(f=k.zg;e<f;e++)h=k.gd[2*e],g=k.gd[2*e+1],k.gd[2*e]=d.Vb(h+c.x,g+c.y,!0),k.gd[2*e+1]=d.Vb(h+c.x,g+c.y,!1);return m.Mv(k,0,0)};new na;new ma(0,0,0,0);a.prototype.Ex=function(a,c){if(!c)return!1;var b,d,e,
f,h;b=0;for(d=a.Tb.length;b<d;b++)if(a.Tb[b].pb instanceof c)return!0;if(!a.ua)for(b=0,d=a.Eb.length;b<d;b++)for(h=a.Eb[b],e=0,f=h.Tb.length;e<f;e++)if(h.Tb[e].pb instanceof c)return!0;return!1};a.prototype.Fx=function(a){return this.Ex(a,mb.RD)};a.prototype.yt=function(a){return this.Ex(a,mb.SD)};a.prototype.bB=function(){if(!mb.QC)return null;var a,c;a=0;for(c=this.Tb.length;a<c;a++)if(this.Tb[a]instanceof mb.QC)return this.Tb[a];return null};a.prototype.Hj=function(a){var c=this.bB();if(!c)return null;
var b,d,e=c.Ro.Lj(),c=0;for(b=e.length;c<b;++c)if(d=e[c],d.Y.NE&&this.Gj(a,d))return d;return null};a.prototype.AC=function(a,c,b,d){d=d||50;var e=a.x,f=a.y,h,g=null,m=null;for(h=0;h<d;h++)if(a.x=e+c*h,a.y=f+b*h,a.Oa(),!this.Gj(a,g)&&((g=this.Hj(a))&&(m=g),!g&&!g))return m&&this.yC(a,c,b,m),!0;a.x=e;a.y=f;a.Oa();return!1};a.prototype.yC=function(a,c,b,d){var e=2,f,h=!1;f=!1;for(var g=a.x,m=a.y;16>=e;)f=1/e,e*=2,a.x+=c*f*(h?1:-1),a.y+=b*f*(h?1:-1),a.Oa(),this.Gj(a,d)?f=h=!0:(f=h=!1,g=a.x,m=a.y);f&&
(a.x=g,a.y=m,a.Oa())};a.prototype.BC=function(a){var c=0,b=a.x,d=a.y,e=0,f=0,h=0,g=this.Hj(a);if(g){for(;100>=c;){switch(e){case 0:f=0;h=-1;c++;break;case 1:f=1;h=-1;break;case 2:f=1;h=0;break;case 3:h=f=1;break;case 4:f=0;h=1;break;case 5:f=-1;h=1;break;case 6:f=-1;h=0;break;case 7:h=f=-1}e=(e+1)%8;a.x=ka(b+f*c);a.y=ka(d+h*c);a.Oa();if(!this.Gj(a,g)&&(g=this.Hj(a),!g))return}a.x=b;a.y=d;a.Oa()}};a.prototype.Rw=function(a,c){a.Ph&&c.Ph&&this.gp.push([a,c])};a.prototype.Jz=function(a,c){var b,d,e;
b=0;for(d=this.gp.length;b<d;b++)if(e=this.gp[b],e[0]==a&&e[1]==c||e[0]==c&&e[1]==a)return!0;return!1};a.prototype.Gz=function(a,c,b){var d=a.x,e=a.y,f=ha(10,Da(c,b,d,e)),h=ya(c,b,d,e),g=this.Hj(a);if(!g)return va(h+ja);var m=g,k,l,z,A,t=I(5);for(k=1;36>k;k++)if(l=h-k*t,a.x=c+Math.cos(l)*f,a.y=b+Math.sin(l)*f,a.Oa(),!this.Gj(a,m)&&(m=this.Hj(a),!m)){z=l;break}36===k&&(z=va(h+ja));m=g;for(k=1;36>k;k++)if(l=h+k*t,a.x=c+Math.cos(l)*f,a.y=b+Math.sin(l)*f,a.Oa(),!this.Gj(a,m)&&(m=this.Hj(a),!m)){A=l;break}36===
k&&(A=va(h+ja));a.x=d;a.y=e;a.Oa();if(A===z)return A;a=za(A,z)/2;a=Ba(A,z)?va(z+a+ja):va(A+a);z=Math.cos(h);h=Math.sin(h);A=Math.cos(a);a=Math.sin(a);c=z*A+h*a;return ya(0,0,z-2*c*A,h-2*c*a)};var l=[],m=-1;a.prototype.trigger=function(a,c,b){if(!this.Ra)return!1;var d=this.Ra.Sn;if(!d)return!1;m++;m===l.length?l.push(new Ia):l[m].clear();a=this.Bx(a,c,d,b);m--;return a};a.prototype.Bx=function(a,c,b,d){var e=l[m];if(e.contains(b))return!1;e.add(b);var e=b.Gv.Lj(),f=!1,h,g,k;h=0;for(g=e.length;h<g;h++)e[h].wB()&&
(k=this.Bx(a,c,e[h].Sl,d),f=f||k);if(c)for(k=this.ut(a,c,c.type.name,b,d),f=f||k,h=0,g=c.type.Eb.length;h<g;h++)k=this.ut(a,c,c.type.Eb[h].name,b,d),f=f||k;else k=this.ut(a,c,"system",b,d),f=f||k;return f};a.prototype.ut=function(a,c,b,d,e){var f,h=!1,g=!1,g="undefined"!==typeof e,m=(g?d.qv:d.Dx)[b];if(!m)return h;var k=null;d=0;for(f=m.length;d<f;d++)if(m[d].method==a){k=m[d].Un;break}if(!k)return h;a=g?k[e]:k;if(!a)return null;d=0;for(f=a.length;d<f;d++)e=a[d][0],g=a[d][1],g=this.JA(c,b,e,g),h=
h||g;return h};a.prototype.JA=function(a,c,b,d){var e,f,h=!1;this.xt++;var g=this.rd().Sd;g&&this.Hm(g.ri);var k=1<this.xt;this.Hm(b.ri);k&&this.zC();var l=this.cp(b);l.Sd=b;a&&(e=this.types[c].Wa(),e.lb=!1,e.A.length=1,e.A[0]=a,this.types[c].Lh());a=!0;if(b.parent){c=l.rx;for(e=b.parent;e;)c.push(e),e=e.parent;c.reverse();e=0;for(f=c.length;e<f;e++)if(!c[e].IC()){a=!1;break}}a&&(this.Zi++,b.Nf?b.HC(d):b.vc(),h=h||l.sk);this.Xo();k&&this.uC();this.Bj(b.ri);g&&this.Bj(g.ri);0!==this.Fe||0!==m||this.xr||
this.bg.Vl()&&!this.Ce.length||this.nd();this.xt--;return h};a.prototype.er=function(){var a=this.rd();return a.Sd.Ub[a.Bc]};a.prototype.SA=function(){var a=this.rd();return a.Sd.Xe[a.Pd]};a.prototype.zC=function(){this.Go++;this.Go>=this.Zr.length&&this.Zr.push([])};a.prototype.uC=function(){this.Go--};a.prototype.vv=function(){return this.Zr[this.Go]};a.prototype.cp=function(a){this.Tn++;this.Tn>=this.Sq.length&&this.Sq.push(new Wa);var c=this.rd();c.reset(a);return c};a.prototype.Xo=function(){this.Tn--};
a.prototype.rd=function(){return this.Sq[this.Tn]};a.prototype.wv=function(a,c){for(var b,d,e,f,h,g;c;){b=0;for(d=c.sf.length;b<d;b++)if(g=c.sf[b],g instanceof Xa&&Ra(a,g.name))return g;c=c.parent}b=0;for(d=this.Xi.length;b<d;b++)for(h=this.Xi[b],e=0,f=h.Uh.length;e<f;e++)if(g=h.Uh[e],g instanceof Xa&&Ra(a,g.name))return g;return null};a.prototype.xv=function(a){var c,b;c=0;for(b=this.Hf.length;c<b;c++)if(this.Hf[c].Sa===a)return this.Hf[c];return null};a.prototype.ho=function(a){var c,b;c=0;for(b=
this.X.length;c<b;c++)if(this.X[c].Sa===a)return this.X[c];return null};a.prototype.UA=function(a){var c,b;c=0;for(b=this.Kh.length;c<b;c++)if(this.Kh[c].Sa===a)return this.Kh[c];return null};a.prototype.pB=function(){var a=this,b=this.$s,f=this.hh,h=this.Bo,g=!1;this.mx&&(g=!0,b="__c2_continuouspreview",this.mx=!1);if(b.length){this.nd();f=this.NC();if(window.indexedDB&&!this.ig)c(b,f,function(){ba("Saved state to IndexedDB storage ("+f.length+" bytes)");a.hh=f;a.trigger(L.prototype.L.bq,null);a.hh=
"";g&&e()},function(c){try{localStorage.setItem("__c2save_"+b,f),ba("Saved state to WebStorage ("+f.length+" bytes)"),a.hh=f,a.trigger(L.prototype.L.bq,null),a.hh="",g&&e()}catch(d){ba("Failed to save game state: "+c+"; "+d)}});else try{localStorage.setItem("__c2save_"+b,f),ba("Saved state to WebStorage ("+f.length+" bytes)"),a.hh=f,this.trigger(L.prototype.L.bq,null),a.hh="",g&&e()}catch(m){ba("Error saving to WebStorage: "+m)}this.Hd=this.Bo=this.$s=""}h.length&&(window.indexedDB&&!this.ig?d(h,
function(c){c?(a.Hd=c,ba("Loaded state from IndexedDB storage ("+a.Hd.length+" bytes)")):(a.Hd=localStorage.getItem("__c2save_"+h)||"",ba("Loaded state from WebStorage ("+a.Hd.length+" bytes)"));a.Nm=!1;a.Hd.length||a.trigger(L.prototype.L.$p,null)},function(){a.Hd=localStorage.getItem("__c2save_"+h)||"";ba("Loaded state from WebStorage ("+a.Hd.length+" bytes)");a.Nm=!1;a.Hd.length||a.trigger(L.prototype.L.$p,null)}):(this.Hd=localStorage.getItem("__c2save_"+h)||"",ba("Loaded state from WebStorage ("+
this.Hd.length+" bytes)"),this.Nm=!1,a.Hd.length||a.trigger(L.prototype.L.$p,null)),this.$s=this.Bo="");this.Hd.length&&(this.nd(),this.EB(this.Hd),this.hh=this.Hd,this.trigger(L.prototype.L.eu,null),this.Hd=this.hh="")};a.prototype.NC=function(){var a,c,b,d,e,h,g,m={c2save:!0,version:1,rt:{time:this.Ge.Bb,timescale:this.zh,tickcount:this.tf,execcount:this.Zi,next_uid:this.zm,running_layout:this.Ra.Sa,start_time_offset:Date.now()-this.qp},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};
a=0;for(c=this.X.length;a<c;a++)if(e=this.X[a],!e.ua&&!this.Fx(e)){h={instances:[]};Fa(e.Y)&&(h.ex=f(e.Y));b=0;for(d=e.A.length;b<d;b++)h.instances.push(this.Ww(e.A[b]));m.types[e.Sa.toString()]=h}a=0;for(c=this.Hf.length;a<c;a++)b=this.Hf[a],m.layouts[b.Sa.toString()]=b.Nd();d=m.events.groups;a=0;for(c=this.Kh.length;a<c;a++)b=this.Kh[a],d[b.Sa.toString()]=!!this.wl[b.hk];c=m.events.cnds;for(g in this.$j)this.$j.hasOwnProperty(g)&&(a=this.$j[g],Fa(a.Y)&&(c[g]={ex:f(a.Y)}));c=m.events.acts;for(g in this.Vj)this.Vj.hasOwnProperty(g)&&
(a=this.Vj[g],Fa(a.Y)&&(c[g]={ex:a.Y}));c=m.events.vars;for(g in this.Vk)this.Vk.hasOwnProperty(g)&&(a=this.Vk[g],a.qo||a.parent&&!a.Zl||(c[g]=a.data));m.system=this.Hg.Nd();return JSON.stringify(m)};a.prototype.Qw=function(){var a,c,b,d,e,f;this.Aj={};a=0;for(c=this.X.length;a<c;a++)if(b=this.X[a],!b.ua)for(d=0,e=b.A.length;d<e;d++)f=b.A[d],this.Aj[f.uid.toString()]=f};a.prototype.EB=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var c=a.rt;this.Ge.reset();this.Ge.Bb=c.time;this.zh=c.timescale;
this.tf=c.tickcount;this.Zi=c.execcount;this.qp=Date.now()-c.start_time_offset;var b=c.running_layout;if(b!==this.Ra.Sa)if(b=this.xv(b))this.lv(b);else return;var d,e,f,h,g,m,k;m=a.types;for(e in m)if(m.hasOwnProperty(e)&&(h=this.ho(parseInt(e,10)))&&!h.ua&&!this.Fx(h)){m[e].ex?h.Y=m[e].ex:Ga(h.Y);g=h.A;f=m[e].instances;b=0;for(d=ia(g.length,f.length);b<d;b++)this.Tr(g[b],f[b]);b=f.length;for(d=g.length;b<d;b++)this.Og(g[b]);b=g.length;for(d=f.length;b<d;b++){g=null;if(h.sb.Yh&&(g=this.Ra.fo(f[b].w.l),
!g))continue;g=this.Qh(h.bf,g,!1,0,0,!0);this.Tr(g,f[b])}h.Rk=!0}this.nd();this.Qw();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(b=this.xv(parseInt(e,10)))&&b.je(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(b=this.UA(parseInt(e,10)))&&(this.wl[b.hk]=d[e]);b=a.events.cnds;for(e in b)b.hasOwnProperty(e)&&this.$j.hasOwnProperty(e)&&(this.$j[e].Y=b[e].ex);b=a.events.acts;for(e in b)b.hasOwnProperty(e)&&this.Vj.hasOwnProperty(e)&&(this.Vj[e].Y=b[e].ex);b=a.events.vars;for(e in b)b.hasOwnProperty(e)&&
this.Vk.hasOwnProperty(e)&&(this.Vk[e].data=b[e]);this.zm=c.next_uid;this.Hg.je(a.system);b=0;for(d=this.X.length;b<d;b++)if(h=this.X[b],!h.ua)for(e=0,a=h.A.length;e<a;e++){g=h.A[e];if(h.Wd)for(m=g.Ql(),c=g.siblings.length=0,f=h.Rd.length;c<f;c++)k=h.Rd[c],h!==k&&g.siblings.push(k.A[m]);g.Wj&&g.Wj();if(g.Va)for(c=0,f=g.Va.length;c<f;c++)m=g.Va[c],m.Wj&&m.Wj()}this.cb=!0}};a.prototype.Ww=function(a){var c,b,d,e,h;e=a.type;d=e.sb;var g={uid:a.uid};Fa(a.Y)&&(g.ex=f(a.Y));if(a.Fc&&a.Fc.length)for(g.ivs=
{},c=0,b=a.Fc.length;c<b;c++)g.ivs[a.type.sr[c].toString()]=a.Fc[c];if(d.Yh){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.O.Sa,zi:a.Ee()};0!==a.F&&(d.a=a.F);1!==a.opacity&&(d.o=a.opacity);0.5!==a.Ud&&(d.hX=a.Ud);0.5!==a.Vd&&(d.hY=a.Vd);0!==a.Qd&&(d.bm=a.Qd);a.visible||(d.v=a.visible);a.Ph||(d.ce=a.Ph);-1!==a.ym&&(d.mts=a.ym);if(e.Aa.length)for(d.fx=[],c=0,b=e.Aa.length;c<b;c++)h=e.Aa[c],d.fx.push({name:h.name,active:a.Jh[h.index],params:a.$b[h.index]});g.w=d}if(a.Va&&a.Va.length)for(g.behs={},c=0,b=a.Va.length;c<
b;c++)e=a.Va[c],e.Nd&&(g.behs[e.type.Sa.toString()]=e.Nd());a.Nd&&(g.data=a.Nd());return g};a.prototype.WA=function(a,c){var b,d;b=0;for(d=a.sr.length;b<d;b++)if(a.sr[b]===c)return b;return-1};a.prototype.RA=function(a,c){var b,d;b=0;for(d=a.Va.length;b<d;b++)if(a.Va[b].type.Sa===c)return b;return-1};a.prototype.Tr=function(a,c){var b,d,e,f,h,g;g=a.type;e=g.sb;a.uid=c.uid;c.ex?a.Y=c.ex:Ga(a.Y);if(d=c.ivs)for(b in d)d.hasOwnProperty(b)&&(f=this.WA(g,parseInt(b,10)),0>f||f>=a.Fc.length||(a.Fc[f]=d[b]));
if(e.Yh){f=c.w;a.O.Sa!==f.l&&(d=a.O,a.O=this.Ra.fo(f.l),a.O?(a.O.A.push(a),a.O.xe=!0,sa(d.A,a),d.xe=!0):(a.O=d,this.Og(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.Nj=f.zi;a.F=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.Ud=f.hasOwnProperty("hX")?f.hX:0.5;a.Vd=f.hasOwnProperty("hY")?f.hY:0.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.Ph=f.hasOwnProperty("ce")?f.ce:!0;a.ym=f.hasOwnProperty("mts")?f.mts:-1;a.Qd=f.hasOwnProperty("bm")?f.bm:0;a.Bl=Oa(a.Qd);this.ja&&Pa(a,a.Qd,this.ja);
a.Oa();if(f.hasOwnProperty("fx"))for(d=0,e=f.fx.length;d<e;d++)h=g.hr(f.fx[d].name),0>h||(a.Jh[h]=f.fx[d].active,a.$b[h]=f.fx[d].params);a.Bh()}if(g=c.behs)for(b in g)g.hasOwnProperty(b)&&(f=this.RA(a,parseInt(b,10)),0>f||a.Va[f].je(g[b]));c.data&&a.je(c.data)};Ya=function(c){return new a(document.getElementById(c))};$a=function(c,b){return new a({dc:!0,width:c,height:b})};window.cr_createRuntime=Ya;window.cr_createDCRuntime=$a;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var c=document.createElement("screencanvas")||
document.createElement("canvas");document.body.appendChild(c);c=new a(c);window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_sizeCanvas=function(a,b){if(0!==a&&0!==b){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
(function(){function a(a,c){this.i=a;this.Sn=null;this.scrollX=this.i.pe/2;this.scrollY=this.i.oe/2;this.scale=1;this.F=0;this.Hl=!0;this.name=c[0];this.width=c[1];this.height=c[2];this.Gx=c[3];this.gx=c[4];this.Sa=c[5];var b=c[6],d,k;this.Ya=[];this.Tl=[];d=0;for(k=b.length;d<k;d++){var l=new ab(this,b[d]);l.vw=d;this.Ya.push(l)}b=c[7];this.ej=[];d=0;for(k=b.length;d<k;d++){var l=b[d],m=this.i.X[l[1]];m.bf||(m.bf=l);this.ej.push(l);-1===this.Tl.indexOf(m)&&this.Tl.push(m)}this.Aa=[];this.gb=[];this.$b=
[];d=0;for(k=c[8].length;d<k;d++)this.Aa.push({id:c[8][d][0],name:c[8][d][1],hd:-1,Ae:!0,index:d}),this.$b.push(c[8][d][2].slice(0));this.Bh();this.oi=new ma(0,0,1,1);this.Ss=new ma(0,0,1,1);this.li={}}function b(a,c){this.qb=a;this.i=a.i;this.A=[];this.scale=1;this.F=0;this.Vi=!1;this.Ah=new ma(0,0,0,0);this.zx=new na;this.te=this.we=this.ve=this.ue=0;this.xe=!1;this.name=c[0];this.index=c[1];this.Sa=c[2];this.visible=c[3];this.Nh=c[4];this.Kj=c[5];this.Pe=c[6];this.Qe=c[7];this.opacity=c[8];this.Zq=
c[9];this.yd=c[10];this.Qd=c[11];this.jA=c[12];this.Bl="source-over";this.qd=this.wd=0;this.pi=!1;var b=c[13],d,k;this.jk=[];d=0;for(k=b.length;d<k;d++){var l=b[d],m=this.i.X[l[1]];m.bf||(m.bf=l);this.jk.push(l);-1===this.qb.Tl.indexOf(m)&&this.qb.Tl.push(m)}this.Aa=[];this.gb=[];this.$b=[];d=0;for(k=c[14].length;d<k;d++)this.Aa.push({id:c[14][d][0],name:c[14][d][1],hd:-1,Ae:!0,index:d}),this.$b.push(c[14][d][2].slice(0));this.Bh();this.oi=new ma(0,0,1,1);this.Ss=new ma(0,0,1,1)}function c(a,c){return a.Nj-
c.Nj}a.prototype.MC=function(a){var c=a.type.Sa.toString();this.li.hasOwnProperty(c)||(this.li[c]=[]);this.li[c].push(this.i.Ww(a))};a.prototype.Dv=function(){var a=this.Ya[0];return!a.Kj&&1===a.opacity&&!a.Zq&&a.visible};a.prototype.Bh=function(){this.gb.length=0;var a,c,b;a=0;for(c=this.Aa.length;a<c;a++)b=this.Aa[a],b.Ae&&this.gb.push(b)};a.prototype.gr=function(a){var c,b,d;c=0;for(b=this.Aa.length;c<b;c++)if(d=this.Aa[c],d.name===a)return d;return null};var d=[];a.prototype.it=function(){this.gx&&
(this.Sn=this.i.Tq[this.gx]);this.i.Ra=this;this.scrollX=this.i.pe/2;this.scrollY=this.i.oe/2;var a,b,g,h,k,l,m;a=0;for(g=this.i.X.length;a<g;a++)if(b=this.i.X[a],!b.ua)for(k=b.A,b=0,h=k.length;b<h;b++)if(l=k[b],l.O){var n=l.O.vw;n>=this.Ya.length&&(n=this.Ya.length-1);l.O=this.Ya[n];l.O.A.push(l);l.O.xe=!0}d.length=0;this.Ez();a=0;for(g=this.Ya.length;a<g;a++)l=this.Ya[a],l.Mz(),l.Vi=!0,b=l.cd(0,0,!0),h=l.cd(0,0,!1),l.Vi=!1,this.i.yg&&(b=b+0.5|0,h=h+0.5|0),l.Ws(b,h,null);k=!1;if(!this.Hl){for(m in this.li)if(this.li.hasOwnProperty(m)&&
(b=this.i.ho(parseInt(m,10)))&&!b.ua&&this.i.yt(b)){h=this.li[m];a=0;for(g=h.length;a<g;a++){l=null;if(b.sb.Yh&&(l=this.fo(h[a].w.l),!l))continue;l=this.i.Qh(b.bf,l,!1,0,0,!0);this.i.Tr(l,h[a]);k=!0;d.push(l)}h.length=0}a=0;for(g=this.Ya.length;a<g;a++)this.Ya[a].A.sort(c),this.Ya[a].xe=!0}k&&(this.i.nd(),this.i.Qw());for(a=0;a<d.length;a++)if(l=d[a],l.type.Wd)for(g=l.Ql(),b=0,h=l.type.Rd.length;b<h;b++)m=l.type.Rd[b],l.type!==m&&(m.A.length>g?l.siblings.push(m.A[g]):m.bf&&(k=this.i.Qh(m.bf,l.O,!0,
l.x,l.y,!0),this.i.nd(),m.Ap(),l.siblings.push(k),d.push(k)));a=0;for(g=this.ej.length;a<g;a++)this.i.Qh(this.ej[a],null,!0);this.i.zl=null;this.i.nd();if(this.i.nb&&!this.i.fd)for(a=0,g=this.i.X.length;a<g;a++)m=this.i.X[a],!m.ua&&m.A.length&&m.Os&&m.Os(this.i.nb);a=0;for(g=d.length;a<g;a++)l=d[a],this.i.trigger(Object.getPrototypeOf(l.type.sb).L.ll,l);d.length=0;this.i.trigger(L.prototype.L.Fy,null);this.Hl=!1};a.prototype.Lz=function(){var a,c,b,d,k;c=a=0;for(b=this.ej.length;a<b;a++)d=this.ej[a],
k=this.i.X[d[1]],k.global?this.i.Qh(d,null,!0):(this.ej[c]=d,c++);this.ej.length=c};a.prototype.TC=function(){this.i.trigger(L.prototype.L.Ey,null);this.i.Hg.Zd.length=0;var a,c,b,d,k,l;a=0;for(c=this.Ya.length;a<c;a++){k=this.Ya[a].A;b=0;for(d=k.length;b<d;b++)l=k[b],l.type.global||(this.i.yt(l.type)&&this.MC(l),this.i.Og(l));this.i.nd();k.length=0;this.Ya[a].xe=!0}a=0;for(c=this.i.X.length;a<c;a++)if(k=this.i.X[a],!(k.global||k.sb.Yh||k.sb.ht||k.ua)){b=0;for(d=k.A.length;b<d;b++)this.i.Og(k.A[b]);
this.i.nd()}};a.prototype.cg=function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.i.Yu&&!this.Dv()&&a.clearRect(0,0,this.i.width,this.i.height);var c,b,d;c=0;for(b=this.Ya.length;c<b;c++)d=this.Ya[c],d.visible&&0<d.opacity&&11!==d.Qd&&d.cg(a)};a.prototype.df=function(a){var c=0<this.gb.length||this.i.Uk;if(c){this.i.Gf||(this.i.Gf=a.Wg(this.i.width,this.i.height,this.i.Wb));if(this.i.Gf.yl!==this.i.width||this.i.Gf.xl!==this.i.height)a.deleteTexture(this.i.Gf),this.i.Gf=a.Wg(this.i.width,
this.i.height,this.i.Wb);a.yh(this.i.Gf)}this.i.Yu&&!this.Dv()&&a.clear(0,0,0,0);var b,d;b=0;for(d=this.Ya.length;b<d;b++)this.Ya[b].visible&&0<this.Ya[b].opacity&&this.Ya[b].df(a);c&&(1>=this.gb.length?(1===this.gb.length?(c=this.gb[0].index,a.Gg(this.gb[0].hd),a.Pk(null,1/this.i.width,1/this.i.height,0,0,1,1,this.scale,this.$b[c]),a.$o(this.gb[0].hd)&&(this.i.cb=!0)):a.Gg(0),a.yh(null),a.Dj(1),a.Re(this.i.Gf),a.Zw(),a.Dg(),a.Jg(),c=this.i.width/2,b=this.i.height/2,a.ep(-c,b,c,b,c,-b,-c,-b),a.Re(null)):
this.Us(a,null,null,null))};a.prototype.Ol=function(){return 0<this.gb.length||this.i.Uk?this.i.Gf:null};a.prototype.yv=function(){var a=this.Ya[0].he(),c,b,d;c=1;for(b=this.Ya.length;c<b;c++)d=this.Ya[c],(0!==d.Pe||0!==d.Qe)&&d.he()<a&&(a=d.he());return a};a.prototype.Xw=function(a){if(!this.Gx){var c=this.i.width*(1/this.yv())/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.i.cb=!0)};a.prototype.Yw=function(a){if(!this.Gx){var c=this.i.height*(1/this.yv())/2;
a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.i.cb=!0)};a.prototype.Ez=function(){this.Xw(this.scrollX);this.Yw(this.scrollY)};a.prototype.Us=function(a,c,b,d){var k=b?b.gb:c?c.gb:this.gb,l=b?b.O.he():c?c.he():1,m=this.i.br,n,p,u,s,q=0,x=1,C,D=this.i.width,E=this.i.height,F=D/2,G=E/2,z=c?c.oi:this.oi,A=c?c.Ss:this.Ss,t=0,y=0,H=0,N=0,O=D,J=D,P=E,Y=E,S=u=0,K=b?b.O.Td():0;if(b){n=0;for(p=k.length;n<p;n++)u+=a.ZA(k[n].hd),S+=a.$A(k[n].hd);s=b.Qa;t=c.Vb(s.left,s.top,
!0);H=c.Vb(s.left,s.top,!1);O=c.Vb(s.right,s.bottom,!0);P=c.Vb(s.right,s.bottom,!1);0!==K&&(n=c.Vb(s.right,s.top,!0),p=c.Vb(s.right,s.top,!1),y=c.Vb(s.left,s.bottom,!0),N=c.Vb(s.left,s.bottom,!1),s=Math.min(t,O,n,y),O=Math.max(t,O,n,y),t=s,s=Math.min(H,P,p,N),P=Math.max(H,P,p,N),H=s);t-=u;H-=S;O+=u;P+=S;A.left=t/D;A.top=1-H/E;A.right=O/D;A.bottom=1-P/E;y=t=Math.floor(t);N=H=Math.floor(H);J=O=Math.ceil(O);Y=P=Math.ceil(P);y-=u;N-=S;J+=u;Y+=S;0>t&&(t=0);0>H&&(H=0);O>D&&(O=D);P>E&&(P=E);0>y&&(y=0);0>
N&&(N=0);J>D&&(J=D);Y>E&&(Y=E);z.left=t/D;z.top=1-H/E;z.right=O/D;z.bottom=1-P/E}else z.left=A.left=0,z.top=A.top=0,z.right=A.right=1,z.bottom=A.bottom=1;S=b&&((b.F||K)&&a.Gm(k[0].hd)||0!==u||0!==S||1!==b.opacity||b.type.sb.pw)||c&&!b&&1!==c.opacity;a.Zw();if(S){m[q]||(m[q]=a.Wg(D,E,this.i.Wb));if(m[q].yl!==D||m[q].xl!==E)a.deleteTexture(m[q]),m[q]=a.Wg(D,E,this.i.Wb);a.Gg(0);a.yh(m[q]);C=Y-N;a.clearRect(y,E-N-C,J-y,C);b?b.df(a):(a.Re(this.i.He),a.Dj(c.opacity),a.Dg(),a.translate(-F,-G),a.Jg(),a.Ag(t,
P,O,P,O,H,t,H,z));A.left=A.top=0;A.right=A.bottom=1;b&&(s=z.top,z.top=z.bottom,z.bottom=s);q=1;x=0}a.Dj(1);u=k.length-1;var K=a.Qs(k[u].hd),qa=0;n=0;for(p=k.length;n<p;n++){m[q]||(m[q]=a.Wg(D,E,this.i.Wb));if(m[q].yl!==D||m[q].xl!==E)a.deleteTexture(m[q]),m[q]=a.Wg(D,E,this.i.Wb);a.Gg(k[n].hd);qa=k[n].index;a.$o(k[n].hd)&&(this.i.cb=!0);0!=n||S?(a.Pk(d,1/D,1/E,A.left,A.top,A.right,A.bottom,l,b?b.$b[qa]:c?c.$b[qa]:this.$b[qa]),n!==u||K?(a.yh(m[q]),C=Y-N,s=E-N-C,a.clearRect(y,s,J-y,C)):(b?a.qi(b.wd,
b.qd):c&&a.qi(c.wd,c.qd),a.yh(d)),a.Re(m[x]),a.Dg(),a.translate(-F,-G),a.Jg(),a.Ag(t,P,O,P,O,H,t,H,z),n!==u||K||a.Re(null)):(a.yh(m[q]),C=Y-N,s=E-N-C,a.clearRect(y,s,J-y,C),b?(a.Pk(d,1/b.width,1/b.height,A.left,A.top,A.right,A.bottom,l,b.$b[qa]),b.df(a)):(a.Pk(d,1/D,1/E,0,0,1,1,l,c?c.$b[qa]:this.$b[qa]),a.Re(c?this.i.He:this.i.Gf),a.Dg(),a.translate(-F,-G),a.Jg(),a.Ag(t,P,O,P,O,H,t,H,z)),A.left=A.top=0,A.right=A.bottom=1,b&&!K&&(s=P,P=H,H=s));q=0===q?1:0;x=0===q?1:0}K&&(a.Gg(0),b?a.qi(b.wd,b.qd):
c&&a.qi(c.wd,c.qd),a.yh(d),a.Re(m[x]),a.Dg(),a.translate(-F,-G),a.Jg(),b&&1===k.length&&!S?a.Ag(t,H,O,H,O,P,t,P,z):a.Ag(t,P,O,P,O,H,t,H,z),a.Re(null))};a.prototype.fo=function(a){var c,b;c=0;for(b=this.Ya.length;c<b;c++)if(this.Ya[c].Sa===a)return this.Ya[c];return null};a.prototype.Nd=function(){var a,c,b,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.F,w:this.width,h:this.height,fv:this.Hl,persist:this.li,fx:[],layers:{}};a=0;for(c=this.Aa.length;a<c;a++)b=this.Aa[a],d.fx.push({name:b.name,
active:b.Ae,params:this.$b[b.index]});a=0;for(c=this.Ya.length;a<c;a++)b=this.Ya[a],d.layers[b.Sa.toString()]=b.Nd();return d};a.prototype.je=function(a){var c,b,d,k;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.F=a.a;this.width=a.w;this.height=a.h;this.li=a.persist;"undefined"!==typeof a.fv&&(this.Hl=a.fv);var l=a.fx;c=0;for(b=l.length;c<b;c++)if(d=this.gr(l[c].name))d.Ae=l[c].active,this.$b[d.index]=l[c].params;this.Bh();c=a.layers;for(k in c)c.hasOwnProperty(k)&&(a=this.fo(parseInt(k,
10)))&&a.je(c[k])};Ua=a;b.prototype.Bh=function(){this.gb.length=0;var a,c,b;a=0;for(c=this.Aa.length;a<c;a++)b=this.Aa[a],b.Ae&&this.gb.push(b)};b.prototype.gr=function(a){var c,b,d;c=0;for(b=this.Aa.length;c<b;c++)if(d=this.Aa[c],d.name===a)return d;return null};b.prototype.Mz=function(){var a,c,b,h,k,l;c=a=0;for(b=this.jk.length;a<b;a++){h=this.jk[a];k=this.i.X[h[1]];l=this.i.yt(k);k=!0;if(!l||this.qb.Hl)h=this.i.Qh(h,this,!0),d.push(h),h.type.global&&(k=!1);k&&(this.jk[c]=this.jk[a],c++)}this.jk.length=
c;this.i.nd();!this.i.ea&&this.Aa.length&&(this.Qd=this.jA);this.Bl=Oa(this.Qd);this.i.ja&&Pa(this,this.Qd,this.i.ja)};b.prototype.aD=function(){if(this.xe){var a,c;a=0;for(c=this.A.length;a<c;a++)this.A[a].Nj=a;this.xe=!1}};b.prototype.he=function(){return this.XA()*this.i.xn};b.prototype.XA=function(){return(this.scale*this.qb.scale-1)*this.yd+1};b.prototype.Td=function(){return this.Vi?0:va(this.qb.F+this.F)};b.prototype.cg=function(a){this.pi=this.Zq||1!==this.opacity||0!==this.Qd;var c=this.i.canvas,
b=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.pi&&(this.i.Ao||(this.i.Ao=document.createElement("canvas"),c=this.i.Ao,c.width=this.i.width,c.height=this.i.height,this.i.Zv=c.getContext("2d")),c=this.i.Ao,b=this.i.Zv,c.width!==this.i.width&&(c.width=this.i.width),c.height!==this.i.height&&(c.height=this.i.height),this.Kj&&b.clearRect(0,0,this.i.width,this.i.height));this.Kj||(b.fillStyle="rgb("+this.Nh[0]+","+this.Nh[1]+","+this.Nh[2]+")",b.fillRect(0,0,this.i.width,this.i.height));
b.save();this.Vi=!0;var d=this.cd(0,0,!0),k=this.cd(0,0,!1);this.Vi=!1;this.i.yg&&(d=d+0.5|0,k=k+0.5|0);this.Ws(d,k,b);var l=this.he();b.scale(l,l);b.translate(-d,-k);for(var m,d=0,k=this.A.length;d<k;d++)l=this.A[d],l.visible&&0!==l.width&&0!==l.height&&(l.wc(),m=l.Qa,m.right<this.ue||m.bottom<this.we||m.left>this.ve||m.top>this.te||(b.globalCompositeOperation=l.Bl,l.cg(b)));b.restore();this.pi&&(a.globalCompositeOperation=this.Bl,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};b.prototype.Ws=function(a,
c,b){var d=this.he();this.ue=a;this.we=c;this.ve=a+this.i.width*(1/d);this.te=c+this.i.height*(1/d);a=this.Td();0!==a&&(b&&(b.translate(this.i.width/2,this.i.height/2),b.rotate(-a),b.translate(this.i.width/-2,this.i.height/-2)),this.Ah.set(this.ue,this.we,this.ve,this.te),this.Ah.offset((this.ue+this.ve)/-2,(this.we+this.te)/-2),this.zx.cx(this.Ah,a),this.zx.Tu(this.Ah),this.Ah.offset((this.ue+this.ve)/2,(this.we+this.te)/2),this.ue=this.Ah.left,this.we=this.Ah.top,this.ve=this.Ah.right,this.te=this.Ah.bottom)};
b.prototype.df=function(a){var c=this.i.width,b=this.i.height,d=0,k=0;if(this.pi=this.Zq||1!==this.opacity||0<this.gb.length||0!==this.Qd){this.i.He||(this.i.He=a.Wg(this.i.width,this.i.height,this.i.Wb));if(this.i.He.yl!==this.i.width||this.i.He.xl!==this.i.height)a.deleteTexture(this.i.He),this.i.He=a.Wg(this.i.width,this.i.height,this.i.Wb);a.yh(this.i.He);this.Kj&&a.clear(0,0,0,0)}this.Kj||a.clear(this.Nh[0]/255,this.Nh[1]/255,this.Nh[2]/255,1);this.Vi=!0;var k=this.cd(0,0,!0),l=this.cd(0,0,!1);
this.Vi=!1;this.i.yg&&(k=k+0.5|0,l=l+0.5|0);this.Ws(k,l,null);l=this.he();a.Dg();a.scale(l,l);a.Xs(-this.Td());a.translate((this.ue+this.ve)/-2,(this.we+this.te)/-2);a.Jg();var m,n,p;m=0;for(n=this.A.length;m<n;m++)if(p=this.A[m],p.visible&&0!==p.width&&0!==p.height&&(p.wc(),d=p.Qa,!(d.right<this.ue||d.bottom<this.we||d.left>this.ve||d.top>this.te)))if(p.Kx)if(d=p.gb[0].hd,k=p.gb[0].index,1!==p.gb.length||a.Qs(d)||a.xC(d)||(p.F||p.O.Td())&&a.Gm(d)||1!==p.opacity||p.type.sb.pw)this.qb.Us(a,this,p,
this.pi?this.i.He:this.qb.Ol()),a.Dg(),a.scale(l,l),a.Xs(-this.Td()),a.translate((this.ue+this.ve)/-2,(this.we+this.te)/-2),a.Jg();else{a.Gg(d);a.qi(p.wd,p.qd);a.$o(d)&&(this.i.cb=!0);var u=0,s=0,q=0,x=0;a.Gm(d)&&(d=p.Qa,u=this.Vb(d.left,d.top,!0),s=this.Vb(d.left,d.top,!1),q=this.Vb(d.right,d.bottom,!0),d=this.Vb(d.right,d.bottom,!1),u/=c,s=1-s/b,q/=c,x=1-d/b);a.Pk(this.pi?this.i.He:this.qb.Ol(),1/p.width,1/p.height,u,s,q,x,this.he(),p.$b[k]);p.df(a)}else a.Gg(0),a.qi(p.wd,p.qd),p.df(a);this.pi&&
(d=this.gb.length?this.gb[0].hd:0,k=this.gb.length?this.gb[0].index:0,0===this.gb.length||1===this.gb.length&&!a.Qs(d)&&1===this.opacity?(1===this.gb.length?(a.Gg(d),a.Pk(this.qb.Ol(),1/this.i.width,1/this.i.height,0,0,1,1,this.he(),this.$b[k]),a.$o(d)&&(this.i.cb=!0)):a.Gg(0),a.yh(this.qb.Ol()),a.Dj(this.opacity),a.Re(this.i.He),a.qi(this.wd,this.qd),a.Dg(),a.Jg(),c=this.i.width/2,b=this.i.height/2,a.ep(-c,b,c,b,c,-b,-c,-b),a.Re(null)):this.qb.Us(a,this,null,this.qb.Ol()))};b.prototype.cd=function(a,
c,b){var d=this.i.devicePixelRatio;this.i.Xl&&0<this.i.ge&&(a*=d,c*=d);var d=this.i.pe/2,k=this.i.oe/2,d=(this.qb.scrollX-d)*this.Pe+d,k=(this.qb.scrollY-k)*this.Qe+k,l=1/this.he(),d=d-this.i.width*l/2,k=k-this.i.height*l/2,d=d+a*l,k=k+c*l;c=this.Td();0!==c&&(d-=this.qb.scrollX,k-=this.qb.scrollY,a=Math.cos(c),c=Math.sin(c),l=d*a-k*c,k=k*a+d*c,d=l+this.qb.scrollX,k+=this.qb.scrollY);return b?d:k};b.prototype.Vb=function(a,c,b){var d=this.Td();if(0!==d){a-=this.qb.scrollX;c-=this.qb.scrollY;var k=
Math.cos(-d),d=Math.sin(-d),l=a*k-c*d;c=c*k+a*d;a=l+this.qb.scrollX;c+=this.qb.scrollY}k=this.i.pe/2;d=this.i.oe/2;k=(this.qb.scrollX-k)*this.Pe+k;d=(this.qb.scrollY-d)*this.Qe+d;l=1/this.he();k-=this.i.width*l/2;d-=this.i.height*l/2;k=(a-k)/l;d=(c-d)/l;a=this.i.devicePixelRatio;this.i.Xl&&0<this.i.ge&&(k/=a,d/=a);return b?k:d};b.prototype.Nd=function(){var a,c,b,d={s:this.scale,a:this.F,vl:this.ue,vt:this.we,vr:this.ve,vb:this.te,v:this.visible,bc:this.Nh,t:this.Kj,px:this.Pe,py:this.Qe,o:this.opacity,
zr:this.yd,fx:[],instances:[]};a=0;for(c=this.Aa.length;a<c;a++)b=this.Aa[a],d.fx.push({name:b.name,active:b.Ae,params:this.$b[b.index]});return d};b.prototype.je=function(a){var b,d;this.scale=a.s;this.F=a.a;this.ue=a.vl;this.we=a.vt;this.ve=a.vr;this.te=a.vb;this.visible=a.v;this.Nh=a.bc;this.Kj=a.t;this.Pe=a.px;this.Qe=a.py;this.opacity=a.o;this.yd=a.zr;var h=a.fx;a=0;for(b=h.length;a<b;a++)if(d=this.gr(h[a].name))d.Ae=h[a].active,this.$b[d.index]=h[a].params;this.Bh();this.A.sort(c);this.xe=!0};
ab=b})();
(function(){function a(a,c){var b,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<d;b++)if(a[b]!==c[b])return!1;return!0}}function b(a,c){return a.index-c.index}function c(c){var d,e,h,f;2===c.length?c[0].index>c[1].index&&(d=c[0],c[0]=c[1],c[1]=d):2<c.length&&c.sort(b);c.length>=u.length&&(u.length=c.length+1);u[c.length]||(u[c.length]=[]);f=u[c.length];d=0;for(e=f.length;d<e;d++)if(h=f[d],a(c,h))return h;f.push(c);return c}
function d(a,c){this.i=a;this.Dx={};this.qv={};this.mr=!1;this.Gv=new Ia;this.name=c[0];var b=c[1];this.Uh=[];var d,e;d=0;for(e=b.length;d<e;d++)this.Jv(b[d],null,this.Uh)}function e(a){this.type=a;this.A=[];this.ob=[];this.lb=!0}function f(a,c,b){this.sheet=a;this.parent=c;this.i=a.i;this.Ab=[];this.ri=[];this.Ev=this.up=this.tt=this.oo=this.group=this.nx=!1;this.Ub=[];this.Xe=[];this.sf=[];b[1]?(this.hk=b[1][1].toLowerCase(),this.group=!0,this.oo=!!b[1][0],this.i.Kh.push(this),this.i.wl[this.hk.toLowerCase()]=
this.oo):(this.hk="",this.oo=this.group=!1);this.Nf=b[2];this.Sa=b[4];this.group||(this.i.Su[this.Sa.toString()]=this);var d=b[5];a=0;for(c=d.length;a<c;a++){var e=new bb(this,d[a]);e.index=a;this.Ub.push(e);this.Hu(e.type)}d=b[6];a=0;for(c=d.length;a<c;a++)e=new cb(this,d[a]),e.index=a,this.Xe.push(e);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.Jv(b[a],this,this.sf);this.ro=!1;this.Ub.length&&(this.ro=null==this.Ub[0].type&&this.Ub[0].rc==L.prototype.L.Rt)}function g(a,c){var b,
d,e;if(a&&(-1===c.indexOf(a)&&c.push(a),a.Wd))for(b=0,d=a.Rd.length;b<d;b++)e=a.Rd[b],a!==e&&-1===c.indexOf(e)&&c.push(e)}function h(a,c){this.Be=a;this.sheet=a.sheet;this.i=a.i;this.la=[];this.Fa=[];this.Y={};this.index=-1;this.rc=c[1];this.trigger=0<c[3];this.pv=2===c[3];this.ih=c[4];this.Ul=c[5];this.CB=c[6];this.Sa=c[7];this.i.$j[this.Sa.toString()]=this;-1===c[0]?(this.type=null,this.vc=this.Zs,this.Pi=null,this.Xc=-1):(this.type=this.i.X[c[0]],this.vc=this.CB?this.JC:this.Ys,c[2]?(this.Pi=this.type.eo(c[2]),
this.Xc=this.type.dr(c[2])):(this.Pi=null,this.Xc=-1),this.Be.parent&&this.Be.parent.np());this.pv&&(this.vc=this.KC);if(10===c.length){var b,d,e=c[9];b=0;for(d=e.length;b<d;b++){var f=new db(this,e[b]);this.la.push(f)}this.Fa.length=e.length}}function k(a,c){this.Be=a;this.sheet=a.sheet;this.i=a.i;this.la=[];this.Fa=[];this.Y={};this.index=-1;this.rc=c[1];-1===c[0]?(this.type=null,this.vc=this.Zs,this.Pi=null,this.Xc=-1):(this.type=this.i.X[c[0]],this.vc=this.Ys,c[2]?(this.Pi=this.type.eo(c[2]),
this.Xc=this.type.dr(c[2])):(this.Pi=null,this.Xc=-1));this.Sa=c[3];this.i.Vj[this.Sa.toString()]=this;if(6===c.length){var b,d,e=c[5];b=0;for(d=e.length;b<d;b++){var f=new db(this,e[b]);this.la.push(f)}this.Fa.length=e.length}}function l(a,c){this.pa=a;this.Be=a.Be;this.sheet=a.sheet;this.i=a.i;this.type=c[0];this.eg=null;this.$u=this.si=0;this.qb=null;this.key=0;this.object=null;this.index=0;this.Dp=this.Sk=this.rv=this.Yi=this.Rm=null;var b,d,e;switch(c[0]){case 0:case 7:this.eg=new eb(this,c[1]);
this.si=0;this.get=this.fB;break;case 1:this.eg=new eb(this,c[1]);this.si=0;this.get=this.gB;break;case 5:this.eg=new eb(this,c[1]);this.si=0;this.get=this.kB;break;case 3:case 8:this.$u=c[1];this.get=this.dB;break;case 6:this.qb=this.i.Or[c[1]];this.get=this.lB;break;case 9:this.key=c[1];this.get=this.jB;break;case 4:this.object=this.i.X[c[1]];this.get=this.mB;this.Be.Hu(this.object);this.pa instanceof cb?this.Be.np():this.Be.parent&&this.Be.parent.np();break;case 10:this.index=c[1];this.get=a.type.ua?
this.hB:this.iB;break;case 11:this.Rm=c[1];this.Yi=null;this.get=this.eB;break;case 2:case 12:this.rv=c[1];this.get=this.cB;break;case 13:for(this.get=this.nB,this.Sk=[],this.Dp=[],b=1,d=c.length;b<d;b++)e=new db(this.pa,c[b]),this.Sk.push(e),this.Dp.push(0)}}function m(a,c,b){this.sheet=a;this.parent=c;this.i=a.i;this.Ab=[];this.name=b[1];this.Ep=b[2];this.rr=b[3];this.Zl=!!b[4];this.qo=!!b[5];this.Sa=b[6];this.i.Vk[this.Sa.toString()]=this;this.data=this.rr;this.parent?(this.mj=this.Zl||this.qo?
-1:this.i.RC++,this.i.xz.push(this)):(this.mj=-1,this.i.wz.push(this))}function n(a,c,b){this.sheet=a;this.parent=c;this.i=a.i;this.Ab=[];this.Sl=null;this.rB=b[1]}function p(){this.rx=[];this.reset(null)}var u=[];d.prototype.toString=v("name");d.prototype.Jv=function(a,c,b){switch(a[0]){case 0:a=new fb(this,c,a);if(a.Nf)for(b.push(a),b=0,c=a.Ub.length;b<c;b++)a.Ub[b].trigger&&this.Kv(a,b);else a.Rv()?this.Kv(a,0):b.push(a);break;case 1:a=new Xa(this,c,a);b.push(a);break;case 2:a=new jb(this,c,a),
b.push(a)}};d.prototype.mc=function(){var a,c;a=0;for(c=this.Uh.length;a<c;a++)this.Uh[a].mc(a<c-1&&this.Uh[a+1].ro)};d.prototype.vc=function(a){this.i.JE||(this.mr=!0,a||(this.i.xr=!0));var c,b;c=0;for(b=this.Uh.length;c<b;c++){var d=this.Uh[c];d.vc();this.i.Cq(d.Ab);this.i.bg.Vl()&&!this.i.Ce.length||this.i.nd()}a||(this.i.xr=!1)};d.prototype.Kv=function(a,c){a.Nf||this.i.zp.push(a);var b,d,e=a.Ub[c],f;f=e.type?e.type.name:"system";var h=(b=e.pv)?this.qv:this.Dx;h[f]||(h[f]=[]);f=h[f];h=e.rc;if(b){if(e.la.length&&
(e=e.la[0],1===e.type&&2===e.eg.type)){e=e.eg.value.toLowerCase();b=0;for(d=f.length;b<d;b++)if(f[b].method==h){b=f[b].Un;b[e]?b[e].push([a,c]):b[e]=[[a,c]];return}b={};b[e]=[[a,c]];f.push({method:h,Un:b})}}else{b=0;for(d=f.length;b<d;b++)if(f[b].method==h){f[b].Un.push([a,c]);return}f.push({method:h,Un:[[a,c]]})}};Va=d;e.prototype.lr=function(){return this.lb?this.type.A.length:this.A.length};e.prototype.gf=function(){return this.lb?this.type.A:this.A};e.prototype.Em=function(a){a&&(a.i.rd().Sd.Nf?
(this.lb&&(this.A.length=0,ra(this.ob,a.type.A),this.lb=!1),a=this.ob.indexOf(a),-1!==a&&(this.A.push(this.ob[a]),this.ob.splice(a,1))):(this.lb=!1,this.A.length=1,this.A[0]=a))};Ta=e;f.prototype.mc=function(a){var b,d=this.parent;if(this.group)for(this.up=!0;d;){if(!d.group){this.up=!1;break}d=d.parent}this.tt=!this.Rv()&&(!this.parent||this.parent.group&&this.parent.up);this.Ev=!!a;this.ri=this.Ab.slice(0);for(d=this.parent;d;){a=0;for(b=d.Ab.length;a<b;a++)this.tz(d.Ab[a]);d=d.parent}this.Ab=c(this.Ab);
this.ri=c(this.ri);a=0;for(b=this.Ub.length;a<b;a++)this.Ub[a].mc();a=0;for(b=this.Xe.length;a<b;a++)this.Xe[a].mc();a=0;for(b=this.sf.length;a<b;a++)this.sf[a].mc(a<b-1&&this.sf[a+1].ro)};f.prototype.Hu=function(a){g(a,this.Ab)};f.prototype.tz=function(a){g(a,this.ri)};f.prototype.np=function(){this.nx=!0;this.parent&&this.parent.np()};f.prototype.Rv=function(){return this.Ub.length?this.Ub[0].trigger:!1};f.prototype.vc=function(){var a,c=!1,b,d=this.i.rd();d.Sd=this;this.ro||(d.Rq=!1);if(this.Nf){0===
this.Ub.length&&(c=!0);d.Bc=0;for(a=this.Ub.length;d.Bc<a;d.Bc++)this.Ub[d.Bc].trigger||(b=this.Ub[d.Bc].vc())&&(c=!0);(d.sk=c)&&this.ip()}else{d.Bc=0;for(a=this.Ub.length;d.Bc<a;d.Bc++)if(b=this.Ub[d.Bc].vc(),!b){d.sk=!1;!this.tt||this.i.bg.Vl()&&!this.i.Ce.length||this.i.nd();return}d.sk=!0;this.ip()}this.lA(d)};f.prototype.lA=function(a){a.sk&&this.Ev&&(a.Rq=!0);!this.tt||this.i.bg.Vl()&&!this.i.Ce.length||this.i.nd()};f.prototype.HC=function(a){this.i.rd().Sd=this;this.Ub[a].vc()&&this.ip()};
f.prototype.ip=function(){var a=this.i.rd(),c;a.Pd=0;for(c=this.Xe.length;a.Pd<c;a.Pd++)if(this.Xe[a.Pd].vc())return;this.Tw()};f.prototype.EC=function(){var a=this.i.rd(),c;for(c=this.Xe.length;a.Pd<c;a.Pd++)if(this.Xe[a.Pd].vc())return;this.Tw()};f.prototype.Tw=function(){if(this.sf.length){var a,c,b,d,e=this.sf.length-1;this.i.cp(this);if(this.nx)for(a=0,c=this.sf.length;a<c;a++)b=this.sf[a],(d=!this.up||!this.group&&a<e)&&this.i.bp(b.Ab),b.vc(),d?this.i.Bj(b.Ab):this.i.Cq(b.Ab);else for(a=0,c=
this.sf.length;a<c;a++)this.sf[a].vc();this.i.Xo()}};f.prototype.IC=function(){var a=this.i.rd();a.Sd=this;var c=!1,b;a.Bc=0;for(b=this.Ub.length;a.Bc<b;a.Bc++)if(this.Ub[a.Bc].vc())c=!0;else if(!this.Nf)return!1;return this.Nf?c:!0};f.prototype.FC=function(){this.i.Zi++;var a=this.i.rd().Bc,c=this.i.cp(this);if(!this.Nf)for(c.Bc=a+1,a=this.Ub.length;c.Bc<a;c.Bc++)if(!this.Ub[c.Bc].vc()){this.i.Xo();return}this.ip();this.i.Xo()};f.prototype.zB=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=
c;--c)if(this.Ub[c].type===a.type)return!1;return!0};fb=f;h.prototype.mc=function(){var a,c;a=0;for(c=this.la.length;a<c;a++)this.la[a].mc()};h.prototype.KC=w(!0);h.prototype.Zs=function(){var a,c;a=0;for(c=this.la.length;a<c;a++)this.Fa[a]=this.la[a].get();return Ea(this.rc.apply(this.i.Hg,this.Fa),this.Ul)};h.prototype.JC=function(){var a,c;a=0;for(c=this.la.length;a<c;a++)this.Fa[a]=this.la[a].get(a);a=this.rc.apply(this.Pi?this.Pi:this.type,this.Fa);this.type.Lh();return a};h.prototype.Ys=function(){var a,
c,b,d,e,f,h,g=this.type.Wa(),m=this.Be.Nf&&!this.trigger,k=0,n=this.type.Wd;if(g.lb){g.A.length=0;a=g.ob.length=0;for(b=this.type.A.length;a<b;a++){f=this.type.A[a];c=0;for(d=this.la.length;c<d;c++)this.Fa[c]=this.la[c].get(a);-1<this.Xc?(this.type.ua&&(k=f.type.ek[this.type.fg]),c=this.rc.apply(f.Va[this.Xc+k],this.Fa)):c=this.rc.apply(f,this.Fa);(e=Ea(c,this.Ul))?g.A.push(f):m&&g.ob.push(f)}this.type.finish&&this.type.finish(!0);g.lb=!1;this.type.Lh();return g.lr()}var l=0,u=(e=m&&!this.Be.zB(this))?
g.ob:g.A,p=!1;a=0;for(b=u.length;a<b;a++){f=u[a];c=0;for(d=this.la.length;c<d;c++)this.Fa[c]=this.la[c].get(a);-1<this.Xc?(this.type.ua&&(k=f.type.ek[this.type.fg]),c=this.rc.apply(f.Va[this.Xc+k],this.Fa)):c=this.rc.apply(f,this.Fa);if(Ea(c,this.Ul))if(p=!0,e){if(g.A.push(f),n)for(c=0,d=f.siblings.length;c<d;c++)h=f.siblings[c],h.type.Wa().A.push(h)}else{u[l]=f;if(n)for(c=0,d=f.siblings.length;c<d;c++)h=f.siblings[c],h.type.Wa().A[l]=h;l++}else if(e){u[l]=f;if(n)for(c=0,d=f.siblings.length;c<d;c++)h=
f.siblings[c],h.type.Wa().ob[l]=h;l++}else if(m&&(g.ob.push(f),n))for(c=0,d=f.siblings.length;c<d;c++)h=f.siblings[c],h.type.Wa().ob.push(h)}u.length=l;if(n)for(a=0,b=this.type.Rd.length;a<b;a++)f=this.type.Rd[a].Wa(),e?f.ob.length=l:f.A.length=l;k=p;if(e&&!p)for(a=0,b=g.A.length;a<b;a++){f=g.A[a];c=0;for(d=this.la.length;c<d;c++)this.Fa[c]=this.la[c].get(a);c=-1<this.Xc?this.rc.apply(f.Va[this.Xc],this.Fa):this.rc.apply(f,this.Fa);if(Ea(c,this.Ul)){p=!0;break}}this.type.finish&&this.type.finish(k||
m);return m?p:g.lr()};bb=h;k.prototype.mc=function(){var a,c;a=0;for(c=this.la.length;a<c;a++)this.la[a].mc()};k.prototype.Zs=function(){var a,c;a=0;for(c=this.la.length;a<c;a++)this.Fa[a]=this.la[a].get();return this.rc.apply(this.i.Hg,this.Fa)};k.prototype.Ys=function(){var a=this.type.Wa().gf(),c,b,d,e,f;c=0;for(d=a.length;c<d;c++){f=a[c];b=0;for(e=this.la.length;b<e;b++)this.Fa[b]=this.la[b].get(c);-1<this.Xc?(b=0,this.type.ua&&(b=f.type.ek[this.type.fg]),this.rc.apply(f.Va[this.Xc+b],this.Fa)):
this.rc.apply(f,this.Fa)}return!1};cb=k;var s=[],q=-1;l.prototype.mc=function(){var a,c;if(11===this.type)this.Yi=this.i.wv(this.Rm,this.Be.parent);else if(13===this.type)for(a=0,c=this.Sk.length;a<c;a++)this.Sk[a].mc();this.eg&&this.eg.mc()};l.prototype.Hc=function(){q++;s.length===q&&s.push(new kb);return s[q]};l.prototype.uc=function(){q--};l.prototype.fB=function(a){this.si=a||0;a=this.Hc();this.eg.get(a);this.uc();return a.data};l.prototype.gB=function(a){this.si=a||0;a=this.Hc();this.eg.get(a);
this.uc();return ea(a.data)?a.data:""};l.prototype.mB=v("object");l.prototype.dB=v("$u");l.prototype.kB=function(a){this.si=a||0;a=this.Hc();this.eg.get(a);this.uc();return a.Qc()?this.i.ah(a.data):this.i.Nl(a.data)};l.prototype.lB=v("qb");l.prototype.jB=v("key");l.prototype.iB=v("index");l.prototype.hB=function(a){var c=this.pa.type,b=null,b=c.Wa(),d=b.gf(),b=d.length?d[a%d.length].type:b.ob[a%b.ob.length].type;return this.index+b.Wn[c.fg]};l.prototype.eB=v("Yi");l.prototype.cB=v("rv");l.prototype.nB=
function(){var a,c;a=0;for(c=this.Sk.length;a<c;a++)this.Dp[a]=this.Sk[a].get();return this.Dp};db=l;m.prototype.mc=function(){this.Ab=c(this.Ab)};m.prototype.Ej=function(a){var c=this.i.vv();this.parent&&!this.Zl&&c?(this.mj>=c.length&&(c.length=this.mj+1),c[this.mj]=a):this.data=a};m.prototype.Pl=function(){var a=this.i.vv();return!this.parent||this.Zl||!a||this.qo?this.data:this.mj>=a.length||"undefined"===typeof a[this.mj]?this.rr:a[this.mj]};m.prototype.vc=function(){!this.parent||this.Zl||this.qo||
this.Ej(this.rr)};Xa=m;n.prototype.toString=function(){return"include:"+this.Sl.toString()};n.prototype.mc=function(){this.Sl=this.i.Tq[this.rB];this.sheet.Gv.add(this);this.Ab=c(this.Ab)};n.prototype.vc=function(){this.parent&&this.i.Hm(this.i.X);this.Sl.mr||this.Sl.vc(!0);this.parent&&this.i.Bj(this.i.X)};n.prototype.wB=function(){for(var a=this.parent;a;){if(a.group&&!this.i.wl[a.hk.toLowerCase()])return!1;a=a.parent}return!0};jb=n;p.prototype.reset=function(a){this.Sd=a;this.Pd=this.Bc=0;this.rx.length=
0;this.Rq=this.sk=!1};Wa=p})();
(function(){function a(a,b){this.pa=a;this.i=a.i;this.type=b[0];this.get=[this.xA,this.tA,this.FA,this.IA,this.nA,this.GA,this.BA,this.qA,this.AA,this.EA,this.oA,this.DA,this.rA,this.CA,this.yA,this.zA,this.uA,this.vA,this.pA,this.HA,this.nv,this.wA,this.nv,this.sA][this.type];var e=null;this.ne=this.la=this.Fa=this.rc=this.sp=this.Tc=this.first=this.value=null;this.Xc=-1;this.bh=null;this.Dt=-1;this.Yi=this.Rm=null;this.Im=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new eb(a,b[1]);break;case 18:this.first=new eb(a,b[1]);this.Tc=new eb(a,b[2]);this.sp=new eb(a,b[3]);break;case 19:this.rc=b[1];this.Fa=[];this.la=[];3===b.length?(e=b[2],this.Fa.length=e.length+1):this.Fa.length=1;break;case 20:this.ne=this.i.X[b[1]];this.Xc=-1;this.rc=b[2];this.Im=b[3];this.bh=b[4]?new eb(a,b[4]):null;this.Fa=[];this.la=[];6===b.length?(e=b[5],this.Fa.length=e.length+1):this.Fa.length=1;break;case 21:this.ne=this.i.X[b[1]];this.Im=b[2];this.bh=b[3]?new eb(a,b[3]):null;this.Dt=b[4];
break;case 22:this.ne=this.i.X[b[1]];this.ne.eo(b[2]);this.Xc=this.ne.dr(b[2]);this.rc=b[3];this.Im=b[4];this.bh=b[5]?new eb(a,b[5]):null;this.Fa=[];this.la=[];7===b.length?(e=b[6],this.Fa.length=e.length+1):this.Fa.length=1;break;case 23:this.Rm=b[1],this.Yi=null}4<=this.type&&17>=this.type&&(this.first=new eb(a,b[1]),this.Tc=new eb(a,b[2]));if(e){var f,g;f=0;for(g=e.length;f<g;f++)this.la.push(new eb(a,e[f]))}}function b(a,b){this.type=a||lb.hl;this.data=b||0;this.Kk=null;this.type==lb.hl&&(this.data=
Math.floor(this.data))}a.prototype.mc=function(){23===this.type&&(this.Yi=this.pa.i.wv(this.Rm,this.pa.Be.parent));this.first&&this.first.mc();this.Tc&&this.Tc.mc();this.sp&&this.sp.mc();this.bh&&this.bh.mc();if(this.la){var a,b;a=0;for(b=this.la.length;a<b;a++)this.la[a].mc()}};a.prototype.HA=function(a){this.Fa[0]=a;a=this.pa.Hc();var b,e;b=0;for(e=this.la.length;b<e;b++)this.la[b].get(a),this.Fa[b+1]=a.data;this.pa.uc();this.rc.apply(this.i.Hg,this.Fa)};a.prototype.nv=function(a){var b=this.ne.Wa(),
e=b.gf();if(!e.length)if(b.ob.length)e=b.ob;else{this.Im?a.Sf(""):a.Ib(0);return}this.Fa[0]=a;a.Kk=this.ne;a=this.pa.Hc();var f,b=0;for(f=this.la.length;b<f;b++)this.la[b].get(a),this.Fa[b+1]=a.data;b=this.pa.si;this.bh&&(this.bh.get(a),a.Qc()&&(b=a.data,e=this.ne.A));this.pa.uc();b%=e.length;0>b&&(b+=e.length);e=e[b];-1<this.Xc?(a=0,this.ne.ua&&(a=e.type.ek[this.ne.fg]),this.rc.apply(e.Va[this.Xc+a],this.Fa)):this.rc.apply(e,this.Fa)};a.prototype.wA=function(a){var b=this.ne.Wa(),e=b.gf();if(!e.length)if(b.ob.length)e=
b.ob;else{this.Im?a.Sf(""):a.Ib(0);return}b=this.pa.si;if(this.bh){var f=this.pa.Hc();this.bh.get(f);if(f.Qc()){b=f.data;e=this.ne.A;b%=e.length;0>b&&(b+=e.length);e=e[b].Fc[this.Dt];ea(e)?a.Sf(e):a.fa(e);this.pa.uc();return}this.pa.uc()}b%=e.length;0>b&&(b+=e.length);e=e[b];b=0;this.ne.ua&&(b=e.type.Wn[this.ne.fg]);e=e.Fc[this.Dt+b];ea(e)?a.Sf(e):a.fa(e)};a.prototype.xA=function(a){a.type=lb.hl;a.data=this.value};a.prototype.tA=function(a){a.type=lb.cl;a.data=this.value};a.prototype.FA=function(a){a.type=
lb.pq;a.data=this.value};a.prototype.IA=function(a){this.first.get(a);a.Qc()&&(a.data=-a.data)};a.prototype.nA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Qc()&&b.Qc()&&(a.data+=b.data,b.ok()&&a.Hk());this.pa.uc()};a.prototype.GA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Qc()&&b.Qc()&&(a.data-=b.data,b.ok()&&a.Hk());this.pa.uc()};a.prototype.BA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Qc()&&b.Qc()&&(a.data*=b.data,b.ok()&&a.Hk());
this.pa.uc()};a.prototype.qA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Qc()&&b.Qc()&&(a.data/=b.data,a.Hk());this.pa.uc()};a.prototype.AA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Qc()&&b.Qc()&&(a.data%=b.data,b.ok()&&a.Hk());this.pa.uc()};a.prototype.EA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Qc()&&b.Qc()&&(a.data=Math.pow(a.data,b.data),b.ok()&&a.Hk());this.pa.uc()};a.prototype.oA=function(a){this.first.get(a);var b=this.pa.Hc();
this.Tc.get(b);a.Qc()?b.so()?a.Sf(a.data.toString()+b.data):a.data&&b.data?a.Ib(1):a.Ib(0):a.so()&&(a.data=b.so()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.pa.uc()};a.prototype.DA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Qc()&&b.Qc()&&(a.data||b.data?a.Ib(1):a.Ib(0));this.pa.uc()};a.prototype.pA=function(a){this.first.get(a);a.data?this.Tc.get(a):this.sp.get(a)};a.prototype.rA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Ib(a.data===
b.data?1:0);this.pa.uc()};a.prototype.CA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Ib(a.data!==b.data?1:0);this.pa.uc()};a.prototype.yA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Ib(a.data<b.data?1:0);this.pa.uc()};a.prototype.zA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Ib(a.data<=b.data?1:0);this.pa.uc()};a.prototype.uA=function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Ib(a.data>b.data?1:0);this.pa.uc()};a.prototype.vA=
function(a){this.first.get(a);var b=this.pa.Hc();this.Tc.get(b);a.Ib(a.data>=b.data?1:0);this.pa.uc()};a.prototype.sA=function(a){var b=this.Yi.Pl();da(b)?a.fa(b):a.Sf(b)};eb=a;b.prototype.ok=function(){return this.type===lb.cl};b.prototype.Qc=function(){return this.type===lb.hl||this.type===lb.cl};b.prototype.so=function(){return this.type===lb.pq};b.prototype.Hk=function(){this.ok()||(this.so()&&(this.data=parseFloat(this.data)),this.type=lb.cl)};b.prototype.Ib=function(a){this.type=lb.hl;this.data=
Math.floor(a)};b.prototype.fa=function(a){this.type=lb.cl;this.data=a};b.prototype.Sf=function(a){this.type=lb.pq;this.data=a};kb=b;lb={hl:0,cl:1,pq:2}})();function L(a){this.i=a;this.Zd=[]}
L.prototype.Nd=function(){var a={},b,c,d,e,f,g,h,k;a.waits=[];var l=a.waits,m;b=0;for(c=this.Zd.length;b<c;b++){g=this.Zd[b];m={t:g.time,ev:g.ck.Sa,sm:[],sols:{}};g.ck.Xe[g.Pd]&&(m.act=g.ck.Xe[g.Pd].Sa);d=0;for(e=g.Ab.length;d<e;d++)m.sm.push(g.Ab[d].Sa);for(f in g.Od)if(g.Od.hasOwnProperty(f)){h=this.i.X[parseInt(f,10)];k={sa:g.Od[f].jp,insts:[]};d=0;for(e=g.Od[f].dh.length;d<e;d++)k.insts.push(g.Od[f].dh[d].uid);m.sols[h.Sa.toString()]=k}l.push(m)}return a};
L.prototype.je=function(a){a=a.waits;var b,c,d,e,f,g,h,k,l,m,n;b=this.Zd.length=0;for(c=a.length;b<c;b++)if(g=a[b],k=this.i.Su[g.ev.toString()]){l=-1;d=0;for(e=k.Xe.length;d<e;d++)if(k.Xe[d].Sa===g.act){l=d;break}if(-1!==l){h={Od:{},Ab:[],Pq:!1};h.time=g.t;h.ck=k;h.Pd=l;d=0;for(e=g.sm.length;d<e;d++)(k=this.i.ho(g.sm[d]))&&h.Ab.push(k);for(f in g.sols)if(g.sols.hasOwnProperty(f)&&(k=this.i.ho(parseInt(f,10)))){l=g.sols[f];m={jp:l.sa,dh:[]};d=0;for(e=l.insts.length;d<e;d++)(n=this.i.aj(l.insts[d]))&&
m.dh.push(n);h.Od[k.index.toString()]=m}this.Zd.push(h)}}};
(function(){function a(){}function b(){}function c(){}var d=L.prototype;a.prototype.Fy=w(!0);a.prototype.Ey=w(!0);a.prototype.Kp=function(a){var b=this.i.er(),c=b.Y.Lp||0,d=this.i.Ge.Bb;"undefined"===typeof b.Y.Mp&&(b.Y.Mp=a);var e=b.Y.Mp;return d>=c+e?(b.Y.Lp=c+e,d>=b.Y.Lp+e&&(b.Y.Lp=d),b.Y.Mp=a,!0):!1};a.prototype.an=function(a,b,c){return Sb(a.Pl(),b,c)};a.prototype.Rt=function(){var a=this.i.rd();return a.Rq?!1:!a.sk};a.prototype.fu=w(!0);a.prototype.xy=w(!0);a.prototype.bq=w(!0);a.prototype.eu=
w(!0);a.prototype.$p=w(!0);d.L=new a;b.prototype.Ot=function(a,b,c,d){if(b&&a&&(b=this.i.Jq(a,b,c,d))){this.i.Fe++;var e;this.i.trigger(Object.getPrototypeOf(a.sb).L.ll,b);if(b.Wd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.sb).L.ll,e);this.i.Fe--;a=a.Wa();a.lb=!1;a.A.length=1;a.A[0]=b;if(b.Wd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.Wa(),a.lb=!1,a.A.length=1,a.A[0]=e}};b.prototype.tu=function(a,b){a&&a.visible!==b&&(a.visible=
b,this.i.cb=!0)};b.prototype.nq=function(a,b){0===a.Ep?da(b)?a.Ej(b):a.Ej(parseFloat(b)):1===a.Ep&&a.Ej(b.toString())};b.prototype.Lt=function(a,b){0===a.Ep?da(b)?a.Ej(a.Pl()+b):a.Ej(a.Pl()+parseFloat(b)):1===a.Ep&&a.Ej(a.Pl()+b.toString())};b.prototype.un=function(a){0>a&&(a=0);this.i.zh=a};var e=[],f=[];b.prototype.cz=function(a){if(!(0>a)){var b,c,d,m=this.i.rd(),n;n=e.length?e.pop():{Od:{},Ab:[]};n.Pq=!1;n.time=this.i.Ge.Bb+a;n.ck=m.Sd;n.Pd=m.Pd+1;a=0;for(b=this.i.X.length;a<b;a++)d=this.i.X[a],
c=d.Wa(),c.lb&&-1===m.Sd.Ab.indexOf(d)||(n.Ab.push(d),d=void 0,d=f.length?f.pop():{dh:[]},d.jp=!1,d.jp=c.lb,ra(d.dh,c.A),n.Od[a.toString()]=d);this.Zd.push(n);return!0}};b.prototype.Py=function(){if(!this.i.$l&&!this.i.zl&&this.i.Ra){this.i.zl=this.i.Ra;var a,b,c;a=0;for(b=this.i.Kh.length;a<b;a++)c=this.i.Kh[a],this.i.wl[c.hk.toLowerCase()]=c.oo}};d.W=new b;c.prototype["int"]=function(a,b){ea(b)?(a.Ib(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Ib(b)};c.prototype["float"]=function(a,b){ea(b)?(a.fa(parseFloat(b)),
isNaN(a.data)&&(a.data=0)):a.fa(b)};c.prototype.random=function(a,b,c){void 0===c?a.fa(Math.random()*b):a.fa(Math.random()*(c-b)+b)};c.prototype.sqrt=function(a,b){a.fa(Math.sqrt(b))};c.prototype.abs=function(a,b){a.fa(Math.abs(b))};c.prototype.round=function(a,b){a.Ib(Math.round(b))};c.prototype.floor=function(a,b){a.Ib(Math.floor(b))};c.prototype.ceil=function(a,b){a.Ib(Math.ceil(b))};c.prototype.sin=function(a,b){a.fa(Math.sin(I(b)))};c.prototype.cos=function(a,b){a.fa(Math.cos(I(b)))};c.prototype.tan=
function(a,b){a.fa(Math.tan(I(b)))};c.prototype.asin=function(a,b){a.fa(ta(Math.asin(b)))};c.prototype.acos=function(a,b){a.fa(ta(Math.acos(b)))};c.prototype.exp=function(a,b){a.fa(Math.exp(b))};c.prototype.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.fa(b)};c.prototype.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.fa(b)};c.prototype.Ca=function(a){a.fa(this.i.Ca)};c.prototype.zh=
function(a){a.fa(this.i.zh)};c.prototype.time=function(a){a.fa(this.i.Ge.Bb)};c.prototype.tf=function(a){a.Ib(this.i.tf)};c.prototype.So=function(a){a.Ib(this.i.So)};c.prototype.$q=function(a){a.Ib(this.i.$q)};c.prototype.Zg=function(a,b,c,d,e){a.fa(Da(b,c,d,e))};c.prototype.F=function(a,b,c,d,e){a.fa(ta(ya(b,c,d,e)))};c.prototype.left=function(a,b,c){a.Sf(ea(b)?b.substr(0,c):"")};c.prototype.right=function(a,b,c){a.Sf(ea(b)?b.substr(b.length-c):"")};c.prototype.replace=function(a,b,c,d){ea(b)&&ea(c)&&
ea(d)?a.Sf(b.replace(RegExp(Ka(c),"gi"),d)):a.Sf(ea(b)?b:"")};c.prototype.Hq=function(a){a.fa(this.i.Hq/1E3)};c.prototype.Eo=function(a){a.fa(this.i.Eo)};d.Dc=new c;d.GC=function(){var a,b,c,d,m,n,p=this.i.rd();a=0;for(c=this.Zd.length;a<c;a++)if(d=this.Zd[a],!(d.time>this.i.Ge.Bb)){p.Sd=d.ck;p.Pd=d.Pd;p.Bc=0;for(b in d.Od)d.Od.hasOwnProperty(b)&&(m=this.i.X[parseInt(b,10)].Wa(),n=d.Od[b],m.lb=n.jp,ra(m.A,n.dh),m=n,m.dh.length=0,f.push(m));d.ck.EC();this.i.Cq(d.Ab);d.Pq=!0}b=a=0;for(c=this.Zd.length;a<
c;a++)d=this.Zd[a],this.Zd[b]=d,d.Pq?(Ga(d.Od),d.Ab.length=0,e.push(d)):b++;this.Zd.length=b}})();
function vb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],f=a[5],g=a[6],h=a[7];a=a[8];b.L||(b.L={});b.W||(b.W={});b.Dc||(b.Dc={});var k=b.L,l=b.W,b=b.Dc;d&&(k.Wx=function(a,b){return Sb(this.x,a,b)},k.xD=function(a,b){return Sb(this.y,a,b)},k.ED=function(){var a=this.O;this.wc();var b=this.Qa;return!(b.right<a.ue||b.bottom<a.we||b.left>a.ve||b.top>a.te)},k.FD=function(){this.wc();var a=this.Qa,b=this.i.Ra;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.UD=function(a,b,c){var d=this.Wa(),
e=d.gf();if(!e.length)return!1;var f=e[0],h=f,g=Da(f.x,f.y,b,c),k,l,F;k=1;for(l=e.length;k<l;k++)if(f=e[k],F=Da(f.x,f.y,b,c),0===a&&F<g||1===a&&F>g)g=F,h=f;d.Em(h);return!0},l.mE=function(a){this.x!==a&&(this.x=a,this.Oa())},l.nE=function(a){this.y!==a&&(this.y=a,this.Oa())},l.tn=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Oa()},l.jE=function(a,b){var c=a.YA(this);if(c){var d;c.ff?(d=c.ff(b,!0),c=c.ff(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Oa()}},
l.MD=function(a){0!==a&&(this.x+=Math.cos(this.F)*a,this.y+=Math.sin(this.F)*a,this.Oa())},l.LD=function(a,b){0!==b&&(this.x+=Math.cos(I(a))*b,this.y+=Math.sin(I(a))*b,this.Oa())},b.Bu=function(a){a.fa(this.x)},b.Cu=function(a){a.fa(this.y)},b.Ca=function(a){a.fa(this.i.Kl(this))});e&&(k.wD=function(a,b){return Sb(this.width,a,b)},k.tD=function(a,b){return Sb(this.height,a,b)},l.Ty=function(a){this.width!==a&&(this.width=a,this.Oa())},l.gE=function(a){this.height!==a&&(this.height=a,this.Oa())},l.kE=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Oa()},b.sE=function(a){a.fa(this.width)},b.zD=function(a){a.fa(this.height)},b.qD=function(a){this.wc();a.fa(this.Qa.left)},b.sD=function(a){this.wc();a.fa(this.Qa.top)},b.rD=function(a){this.wc();a.fa(this.Qa.right)},b.pD=function(a){this.wc();a.fa(this.Qa.bottom)});f&&(k.jD=function(a,b){return za(this.F,I(b))<=I(a)},k.DD=function(a){return Ba(this.F,I(a))},k.BD=function(a,b){var c=xa(a),d=xa(b),e=va(this.F);return Ba(d,
c)?Ba(e,c)&&!Ba(e,d):!(!Ba(e,c)&&Ba(e,d))},l.qn=function(a){a=I(ua(a));isNaN(a)||this.F===a||(this.F=a,this.Oa())},l.$D=function(a){0===a||isNaN(a)||(this.F+=I(a),this.F=va(this.F),this.Oa())},l.aE=function(a){0===a||isNaN(a)||(this.F-=I(a),this.F=va(this.F),this.Oa())},l.bE=function(a,b){var c=Aa(this.F,I(b),I(a));isNaN(c)||this.F===c||(this.F=c,this.Oa())},l.cE=function(a,b,c){a=Aa(this.F,Math.atan2(c-this.y,b-this.x),I(a));isNaN(a)||this.F===a||(this.F=a,this.Oa())},l.lE=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.F===c||(this.F=c,this.Oa())},b.iD=function(a){a.fa(wa(this.F))});c||(k.uD=function(a,b,c){return Sb(this.Fc[a],b,c)},k.CD=function(a){return this.Fc[a]},k.VD=function(a,b){var c=this.Wa(),d=c.gf();if(!d.length)return!1;var e=d[0],f=e,h=e.Fc[b],g,k,l;g=1;for(k=d.length;g<k;g++)if(e=d[g],l=e.Fc[b],0===a&&l<h||1===a&&l>h)h=l,f=e;c.Em(f);return!0},k.TD=function(a){var b,c,d,e,f;if(this.i.er().Ul){f=this.Wa();if(f.lb)for(f.lb=!1,f.A.length=0,f.ob.length=0,d=this.A,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?f.ob.push(e):f.A.push(e);else{d=b=0;for(c=f.A.length;b<c;b++)e=f.A[b],f.A[d]=e,e.uid===a?f.ob.push(e):d++;f.A.length=d}return!!f.A.length}e=this.i.aj(a);if(!e)return!1;f=this.Wa();if(!f.lb&&-1===f.A.indexOf(e))return!1;if(this.ua)for(a=e.type.Eb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Em(e),!0}else if(e.type===this)return f.Em(e),!0;return!1},k.ll=w(!0),k.du=w(!0),l.hE=function(a,b){var c=this.Fc;da(c[a])?c[a]=da(b)?b:parseFloat(b):ea(c[a])&&(c[a]=ea(b)?b:
b.toString())},l.hD=function(a,b){var c=this.Fc;da(c[a])?c[a]=da(b)?c[a]+b:c[a]+parseFloat(b):ea(c[a])&&(c[a]=ea(b)?c[a]+b:c[a]+b.toString())},l.oE=function(a,b){var c=this.Fc;da(c[a])&&(c[a]=da(b)?c[a]-b:c[a]-parseFloat(b))},l.dE=function(a,b){this.Fc[a]=b?1:0},l.qE=function(a){this.Fc[a]=1-this.Fc[a]},l.Vc=function(){this.i.Og(this)},b.yD=function(a){var b=a.Kk.A.length,c,d,e;c=0;for(d=this.i.Ce.length;c<d;c++)e=this.i.Ce[c],a.Kk.ua?0<=e.type.Eb.indexOf(a.Kk)&&b++:e.type===a.Kk&&b++;a.Ib(b)},b.XD=
function(a){a.Ib(a.Kk.Wa().gf().length)},b.rE=function(a){a.Ib(this.uid)},b.AD=function(a){a.Ib(this.Ql())});g&&(k.HD=v("visible"),l.sl=function(a){!a!==!this.visible&&(this.visible=a,this.i.cb=!0)},k.vD=function(a,b){return Sb(Qa(100*this.opacity),a,b)},l.iE=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.cb=!0)},b.Opacity=function(a){a.fa(Qa(100*this.opacity))});h&&(k.jy=function(a){return a?this.O===a:!1},k.WD=function(a){var b=this.Wa(),c=b.gf();if(!c.length)return!1;
var d=c[0],e=d,f,h;f=1;for(h=c.length;f<h;f++)if(d=c[f],0===a){if(d.O.index>e.O.index||d.O.index===e.O.index&&d.Ee()>e.Ee())e=d}else if(d.O.index<e.O.index||d.O.index===e.O.index&&d.Ee()<e.Ee())e=d;b.Em(e);return!0},l.PD=function(){var a=this.Ee();a!==this.O.A.length-1&&(pa(this.O.A,a),this.O.A.push(this),this.i.cb=!0,this.O.xe=!0)},l.ND=function(){var a=this.Ee();0!==a&&(pa(this.O.A,a),this.O.A.unshift(this),this.i.cb=!0,this.O.xe=!0)},l.OD=function(a){a&&a!=this.O&&(pa(this.O.A,this.Ee()),this.O.xe=
!0,this.O=a,this.Nj=a.A.length,a.A.push(this),this.i.cb=!0)},l.uE=function(a,b){var c=0===a;if(b){var d=b.TA(this);if(d&&d.uid!==this.uid){this.O.index!==d.O.index&&(pa(this.O.A,this.Ee()),this.O.xe=!0,this.O=d.O,this.Nj=d.O.A.length,d.O.A.push(this));var e=this.Ee(),d=d.Ee();pa(this.O.A,e);e<d&&d--;c&&d++;d===this.O.A.length?this.O.A.push(this):this.O.A.splice(d,0,this);this.O.xe=!0;this.i.cb=!0}}},b.JD=function(a){a.Ib(this.O.vw)},b.ID=function(a){a.Sf(this.O.name)},b.tE=function(a){a.Ib(this.Ee())});
a&&(l.eE=function(a,b){if(this.i.ea){var c=this.type.hr(b);if(!(0>c)){var d=1===a;this.Jh[c]!==d&&(this.Jh[c]=d,this.Bh(),this.i.cb=!0)}}},l.fE=function(a,b,c){if(this.i.ea){var d=this.type.hr(a);0>d||(a=this.type.Aa[d],d=this.$b[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.ea.aB(a.hd,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Ae&&(this.i.cb=!0))))}})}function Mb(){this.yq=!0;this.i.cb=!0;var a,b;a=0;for(b=this.zn.length;a<b;a++)this.zn[a](this)}function Nb(a){a&&this.zn.push(a)}
function Pb(){if(this.yq){this.Qa.set(this.x,this.y,this.x+this.width,this.y+this.height);this.Qa.offset(-this.Ud*this.width,-this.Vd*this.height);this.F?(this.Qa.offset(-this.x,-this.y),this.wb.cx(this.Qa,this.F),this.wb.offset(this.x,this.y),this.wb.Tu(this.Qa)):this.wb.et(this.Qa);var a=0;this.Qa.left>this.Qa.right&&(a=this.Qa.left,this.Qa.left=this.Qa.right,this.Qa.right=a);this.Qa.top>this.Qa.bottom&&(a=this.Qa.top,this.Qa.top=this.Qa.bottom,this.Qa.bottom=a);this.yq=!1}}
function Ob(a,b){return this.Qa.Ze(a,b)&&this.wb.Ze(a,b)?this.hb&&!this.hb.nk()?(this.hb.Yj(this.width,this.height,this.F),this.hb.Ze(a-this.x,b-this.y)):!0:!1}function Kb(){this.type.Ap();return this.dj}function Qb(){this.O.aD();return this.Nj}function Rb(){this.gb.length=0;var a,b;a=0;for(b=this.Jh.length;a<b;a++)this.Jh[a]&&this.gb.push(this.type.Aa[a]);this.Kx=!!this.gb.length}function Lb(){return"Inst"+this.Ow}
function xb(a){if(a&&a.Wd&&a.type!=this){var b,c,d;b=0;for(c=a.siblings.length;b<c;b++)if(d=a.siblings[b],d.type==this)return d}a=this.Wa().gf();return a.length?a[0]:null}function yb(a){var b=this.Wa().gf();return b.length?b[a.Ql()%b.length]:null}function wb(){if(this.Rk&&!this.ua){var a,b;a=0;for(b=this.A.length;a<b;a++)this.A[a].dj=a;var c=a,d=this.i.Ce;a=0;for(b=d.length;a<b;++a)d[a].type===this&&(d[a].dj=c++);this.Rk=!1}}function zb(){return this.ti[this.Yg]}
function Ab(){this.Yg++;this.Yg===this.ti.length?this.ti.push(new Ta(this)):this.ti[this.Yg].lb=!0}function Db(){this.Yg++;this.Yg===this.ti.length&&this.ti.push(new Ta(this));var a=this.ti[this.Yg],b=this.ti[this.Yg-1];b.lb?a.lb=!0:(a.lb=!1,ra(a.A,b.A),ra(a.ob,b.ob))}function Eb(){this.Yg--}
function Fb(a){var b,c,d,e,f,g=0;if(!this.ua)for(b=0,c=this.Eb.length;b<c;b++)for(f=this.Eb[b],d=0,e=f.Tb.length;d<e;d++){if(a===f.Tb[d].name)return this.Y.Tv=g,f.Tb[d];g++}b=0;for(c=this.Tb.length;b<c;b++){if(a===this.Tb[b].name)return this.Y.Tv=g,this.Tb[b];g++}return null}function Gb(a){return this.eo(a)?this.Y.Tv:-1}function Hb(a){var b,c;b=0;for(c=this.Aa.length;b<c;b++)if(this.Aa[b].name===a)return b;return-1}
function Ib(){if(this.Wd&&!this.ua){var a,b,c,d,e,f,g;this.Ap();f=this.Wa();var h=f.lb,k=(a=this.i.rd())&&a.Sd&&a.Sd.Nf;a=0;for(b=this.Rd.length;a<b;a++)if(e=this.Rd[a],e!==this&&(e.Ap(),g=e.Wa(),g.lb=h,!h)){g.A.length=f.A.length;c=0;for(d=f.A.length;c<d;c++)g.A[c]=e.A[f.A[c].dj];if(k)for(g.ob.length=f.ob.length,c=0,d=f.ob.length;c<d;c++)g.ob[c]=e.A[f.ob[c].dj]}}}function Jb(){return"Type"+this.Sa}
function Sb(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return!1;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return!1}}var tb={};function Tb(a){this.i=a}
(function(){function a(a){0>a&&(a=0);1<a&&(a=1);return 20*(Math.log(a)/Math.log(10))}function b(a){a=a.toLowerCase();return Z.hasOwnProperty(a)&&Z[a].length?Z[a][0].De():K.destination}function c(){return K.createGain?K.createGain():K.createGainNode()}function d(a){return K.createDelay?K.createDelay(a):K.createDelayNode(a)}function e(a){a.start?a.start(0):a.noteOn(0)}function f(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function g(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function h(a,
b,d,e,f,h){this.type="filter";this.gc=[a,b,d,e,f,h];this.Xa=c();this.za=c();this.za.gain.value=h;this.ta=c();this.ta.gain.value=1-h;this.qc=K.createBiquadFilter();this.qc.type="number"===typeof this.qc.type?a:Ne[a];this.qc.frequency.value=b;this.qc.detune&&(this.qc.detune.value=d);this.qc.Q.value=e;this.qc.gain.value=f;this.Xa.connect(this.qc);this.Xa.connect(this.ta);this.qc.connect(this.za)}function k(a,b,e){this.type="delay";this.gc=[a,b,e];this.Xa=c();this.za=c();this.za.gain.value=e;this.ta=
c();this.ta.gain.value=1-e;this.wm=c();this.cf=d(a);this.cf.delayTime.value=a;this.Pn=c();this.Pn.gain.value=b;this.Xa.connect(this.wm);this.Xa.connect(this.ta);this.wm.connect(this.za);this.wm.connect(this.cf);this.cf.connect(this.Pn);this.Pn.connect(this.wm)}function l(a,b,d,e){this.type="convolve";this.gc=[b,d,e];this.Xa=c();this.za=c();this.za.gain.value=d;this.ta=c();this.ta.gain.value=1-d;this.Ui=K.createConvolver();a&&(this.Ui.normalize=b,this.Ui.buffer=a);this.Xa.connect(this.Ui);this.Xa.connect(this.ta);
this.Ui.connect(this.za)}function m(a,b,f,h,g){this.type="flanger";this.gc=[a,b,f,h,g];this.Xa=c();this.ta=c();this.ta.gain.value=1-g/2;this.za=c();this.za.gain.value=g/2;this.Xn=c();this.Xn.gain.value=h;this.cf=d(a+b);this.cf.delayTime.value=a;this.Sc=K.createOscillator();this.Sc.frequency.value=f;this.qe=c();this.qe.gain.value=b;this.Xa.connect(this.cf);this.Xa.connect(this.ta);this.cf.connect(this.za);this.cf.connect(this.Xn);this.Xn.connect(this.cf);this.Sc.connect(this.qe);this.qe.connect(this.cf.delayTime);
e(this.Sc)}function n(a,b,d,f,h,g){this.type="phaser";this.gc=[a,b,d,f,h,g];this.Xa=c();this.ta=c();this.ta.gain.value=1-g/2;this.za=c();this.za.gain.value=g/2;this.qc=K.createBiquadFilter();this.qc.type="number"===typeof this.qc.type?7:"allpass";this.qc.frequency.value=a;this.qc.detune&&(this.qc.detune.value=b);this.qc.Q.value=d;this.Sc=K.createOscillator();this.Sc.frequency.value=h;this.qe=c();this.qe.gain.value=f;this.Xa.connect(this.qc);this.Xa.connect(this.ta);this.qc.connect(this.za);this.Sc.connect(this.qe);
this.qe.connect(this.qc.frequency);e(this.Sc)}function p(a){this.type="gain";this.gc=[a];this.bb=c();this.bb.gain.value=a}function u(a,b){this.type="tremolo";this.gc=[a,b];this.bb=c();this.bb.gain.value=1-b/2;this.Sc=K.createOscillator();this.Sc.frequency.value=a;this.qe=c();this.qe.gain.value=b/2;this.Sc.connect(this.qe);this.qe.connect(this.bb.gain);e(this.Sc)}function s(a,b){this.type="ringmod";this.gc=[a,b];this.Xa=c();this.za=c();this.za.gain.value=b;this.ta=c();this.ta.gain.value=1-b;this.Jm=
c();this.Jm.gain.value=0;this.Sc=K.createOscillator();this.Sc.frequency.value=a;this.Sc.connect(this.Jm.gain);e(this.Sc);this.Xa.connect(this.Jm);this.Xa.connect(this.ta);this.Jm.connect(this.za)}function q(a,b,d,e,f){this.type="distortion";this.gc=[a,b,d,e,f];this.Xa=c();this.Zo=c();this.Yo=c();this.OC(d,Math.pow(10,e/20));this.za=c();this.za.gain.value=f;this.ta=c();this.ta.gain.value=1-f;this.Fp=K.createWaveShaper();this.Mn=new Float32Array(65536);this.OA(a,b);this.Fp.Mn=this.Mn;this.Xa.connect(this.Zo);
this.Xa.connect(this.ta);this.Zo.connect(this.Fp);this.Fp.connect(this.Yo);this.Yo.connect(this.za)}function x(a,b,c,d,e){this.type="compressor";this.gc=[a,b,c,d,e];this.bb=K.createDynamicsCompressor();this.bb.threshold.value=a;this.bb.knee.value=b;this.bb.ratio.value=c;this.bb.attack.value=d;this.bb.release.value=e}function C(a,b){this.type="analyser";this.gc=[a,b];this.bb=K.createAnalyser();this.bb.fftSize=a;this.bb.smoothingTimeConstant=b;this.MA=new Float32Array(this.bb.frequencyBinCount);this.kx=
new Uint8Array(a);this.Dm=0}function D(){this.Na=null;this.Do=0;this.vi=[];this.xs=this.xo=this.wo=0}function E(a,b){this.src=a;this.rb=S;this.Ff=b;this.Iu=!1;var d=this;this.nw=this.Js=null;this.Ok=[];this.kp=0;this.Uo=!1;S!==J||!b||t.jg||t.fj||(this.rb=O,this.Js=c());this.yn=this.Lb=null;var e;switch(this.rb){case O:this.Lb=new Audio;S===J&&K.createMediaElementSource&&this.Lb.addEventListener("canplay",function(){d.nw=K.createMediaElementSource(d.Lb);d.nw.connect(d.Js)});this.Lb.autoplay=!1;this.Lb.IE=
"auto";this.Lb.src=a;break;case J:e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=function(){d.yn=e.response;d.jv()};e.send();break;case P:this.Lb=!0;break;case Y:this.Lb=!0}}function F(a,d){var e=this;this.wi=d;this.Tf=this.Vh=!0;this.src=a.src;this.buffer=a;this.rb=S;this.Ff=a.Ff;this.playbackRate=1;this.Ls=!0;this.Xh=this.wh=!1;this.Rf=0;this.Er=this.Dr=this.ih=!1;this.xm=this.volume=1;this.startTime=t.Ge.Bb;this.lc=this.ed=null;this.xg=!1;this.Gc=null;this.Ew=this.Dw=
this.Cw=this.Bw=this.Gw=this.Fw=0;this.V=null;var f=!1;switch(this.rb){case O:this.Ff?(this.V=a.Lb,f=!a.Iu,a.Iu=!0):(this.V=new Audio,this.V.autoplay=!1,this.V.src=a.Lb.src,f=!0);f&&this.V.addEventListener("ended",function(){H=e.wi;e.Tf=!0;t.trigger(Tb.prototype.L.Zp,y)});break;case J:this.ed=c();this.ed.connect(b(d));this.buffer.rb===J?a.Lb&&(this.V=K.createBufferSource(),this.V.buffer=a.Lb,this.V.connect(this.ed)):(this.V=this.buffer.Lb,this.buffer.Js.connect(this.ed));break;case P:this.V=new window.Media(N+
this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.Ls=!0,e.Tf=!0,H=e.wi,t.trigger(Tb.prototype.L.Zp,y))});break;case Y:this.V=!0}}function G(a,b){Z.hasOwnProperty(a)?Z[a].push(b):Z[a]=[b];var c,d,e,f,h=K.destination;if(Z.hasOwnProperty(a)&&(e=Z[a],e.length))for(h=e[0].De(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Ye(K.destination):f.Ye(e[c+1].De());gb.length=0;if(a.length)for(c=0,d=W.length;c<d;c++)e=W[c],Ra(a,e.wi)&&gb.push(e);else Hc&&!Hc.Rl()&&(gb.length=1,gb[0]=Hc);c=0;for(d=gb.length;c<
d;c++)gb[c].CC(h);Za&&Ic===a&&(Za.disconnect(),Za.connect(h))}function z(){}var A=Tb.prototype;A.ub=function(a){this.sb=a;this.i=a.i};A.ub.prototype.Ka=r();var t=null,y=null,H="",N="",O=0,J=1,P=2,Y=3,S=O,K=null,qa=[],W=[],Hc=null,ec=0,Bb=!1,La=1,hb=0,ib=0,Jc=1,Kc=1,Jd=10,Kd=1E4,Ld=1,Za=null,Ic="",Z={},Ne="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");h.prototype.Ye=function(a){this.za.disconnect();this.za.connect(a);this.ta.disconnect();this.ta.connect(a)};h.prototype.remove=
function(){this.Xa.disconnect();this.qc.disconnect();this.za.disconnect();this.ta.disconnect()};h.prototype.De=v("Xa");k.prototype.Ye=function(a){this.za.disconnect();this.za.connect(a);this.ta.disconnect();this.ta.connect(a)};k.prototype.remove=function(){this.Xa.disconnect();this.wm.disconnect();this.cf.disconnect();this.Pn.disconnect();this.za.disconnect();this.ta.disconnect()};k.prototype.De=v("Xa");l.prototype.Ye=function(a){this.za.disconnect();this.za.connect(a);this.ta.disconnect();this.ta.connect(a)};
l.prototype.remove=function(){this.Xa.disconnect();this.Ui.disconnect();this.za.disconnect();this.ta.disconnect()};l.prototype.De=v("Xa");m.prototype.Ye=function(a){this.ta.disconnect();this.ta.connect(a);this.za.disconnect();this.za.connect(a)};m.prototype.remove=function(){this.Xa.disconnect();this.cf.disconnect();this.Sc.disconnect();this.qe.disconnect();this.ta.disconnect();this.za.disconnect();this.Xn.disconnect()};m.prototype.De=v("Xa");n.prototype.Ye=function(a){this.ta.disconnect();this.ta.connect(a);
this.za.disconnect();this.za.connect(a)};n.prototype.remove=function(){this.Xa.disconnect();this.qc.disconnect();this.Sc.disconnect();this.qe.disconnect();this.ta.disconnect();this.za.disconnect()};n.prototype.De=v("Xa");p.prototype.Ye=function(a){this.bb.disconnect();this.bb.connect(a)};p.prototype.remove=function(){this.bb.disconnect()};p.prototype.De=v("bb");u.prototype.Ye=function(a){this.bb.disconnect();this.bb.connect(a)};u.prototype.remove=function(){this.Sc.disconnect();this.qe.disconnect();
this.bb.disconnect()};u.prototype.De=v("bb");s.prototype.Ye=function(a){this.za.disconnect();this.za.connect(a);this.ta.disconnect();this.ta.connect(a)};s.prototype.remove=function(){this.Sc.disconnect();this.Jm.disconnect();this.Xa.disconnect();this.za.disconnect();this.ta.disconnect()};s.prototype.De=v("Xa");q.prototype.OC=function(a,b){0.01>a&&(a=0.01);this.Zo.gain.value=a;this.Yo.gain.value=Math.pow(1/a,0.6)*b};q.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+
d*(1-Math.exp(-(1/d)*(a-b)));return b*c};q.prototype.OA=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Mn[32768+f]=e,this.Mn[32768-f-1]=-e};q.prototype.Ye=function(a){this.za.disconnect();this.za.connect(a);this.ta.disconnect();this.ta.connect(a)};q.prototype.remove=function(){this.Xa.disconnect();this.Zo.disconnect();this.Fp.disconnect();this.Yo.disconnect();this.za.disconnect();this.ta.disconnect()};q.prototype.De=v("Xa");x.prototype.Ye=
function(a){this.bb.disconnect();this.bb.connect(a)};x.prototype.remove=function(){this.bb.disconnect()};x.prototype.De=v("bb");C.prototype.Jc=function(){this.bb.getFloatFrequencyData(this.MA);this.bb.getByteTimeDomainData(this.kx);for(var b=this.bb.fftSize,c=0,d=this.Dm=0,e=0;c<b;c++)e=(this.kx[c]-128)/128,0>e&&(e=-e),this.Dm<e&&(this.Dm=e),d+=e*e;this.Dm=a(this.Dm);a(Math.sqrt(d/b))};C.prototype.Ye=function(a){this.bb.disconnect();this.bb.connect(a)};C.prototype.remove=function(){this.bb.disconnect()};
C.prototype.De=v("bb");D.prototype.Km=function(a){if(this.Na=a)this.wo=this.Na.x,this.xo=this.Na.y;this.vi.length=0};D.prototype.lo=function(){return!!this.Na};D.prototype.Jc=function(a){this.Na&&(this.xs=ya(this.wo,this.xo,this.Na.x,this.Na.y),a=Da(this.wo,this.xo,this.Na.x,this.Na.y)/a,4>this.vi.length||this.vi.shift(),this.vi.push(a),this.wo=this.Na.x,this.xo=this.Na.y)};D.prototype.zv=function(){if(!this.vi.length)return 0;var a,b,c=0;a=0;for(b=this.vi.length;a<b;a++)c+=this.vi[a];return c/this.vi.length};
D.prototype.Av=function(){return Math.cos(this.xs)*this.zv()};D.prototype.Bv=function(){return Math.sin(this.xs)*this.zv()};var Md=!1;E.prototype.jv=function(){if(!this.Lb&&this.yn){var a=this;if(K.decodeAudioData)K.decodeAudioData(this.yn,function(b){a.Lb=b;var c,d,e;if(ca(a.Vo))ca(a.Kn)||(c=a.Kn.Ui,c.normalize=a.uw,c.buffer=b);else if(a.Ok.length){c=0;for(d=a.Ok.length;c<d;c++){b=a.Ok[c];e=new F(a,b.xx);e.$w(!0);if("undefined"!==typeof b.ww&&(b.Na=t.aj(b.ww),!b.Na))continue;if(b.Na){var f=Ca(b.Na.x,
b.Na.y,-b.Na.O.Td(),hb,ib,!0),h=Ca(b.Na.x,b.Na.y,-b.Na.O.Td(),hb,ib,!1);e.ct(f,h,ta(b.Na.F-b.Na.O.Td()),b.nr,b.ys,b.Bs);e.Km(b.Na)}else e.ct(b.x,b.y,b.I,b.nr,b.ys,b.Bs);e.play(a.$r,a.Ft,a.kp);a.Uo&&e.pause();W.push(e)}a.Ok.length=0}else e=new F(a,a.Vo),e.play(a.$r,a.Ft,a.kp),a.Uo&&e.pause(),W.push(e)});else if(this.Lb=K.createBuffer(this.yn,!1),ca(this.Vo))ca(this.Kn)||(b=this.Kn.Ui,b.normalize=this.uw,b.buffer=this.Lb);else{var b=new F(this,this.Vo);b.play(this.$r,this.Ft,this.kp);this.Uo&&b.pause();
W.push(b)}}};F.prototype.Rl=function(){switch(this.rb){case O:return this.V.ended;case J:return this.buffer.rb===J?!this.Vh&&!this.Tf&&this.V.loop||this.Xh?!1:t.Ge.Bb-this.startTime>this.buffer.Lb.duration:this.V.ended;case P:return this.Ls;case Y:!0}return!0};F.prototype.Hz=function(){return this.Vh||this.Tf?!0:this.Rl()};F.prototype.$w=function(a){S===J&&(!this.xg&&a?(this.lc||(this.lc=K.createPanner(),this.lc.panningModel="number"===typeof this.lc.panningModel?Jc:["equalpower","HRTF","soundfield"][Jc],
this.lc.distanceModel="number"===typeof this.lc.distanceModel?Kc:["linear","inverse","exponential"][Kc],this.lc.refDistance=Jd,this.lc.maxDistance=Kd,this.lc.rolloffFactor=Ld),this.ed.disconnect(),this.ed.connect(this.lc),this.lc.connect(b(this.wi)),this.xg=!0):this.xg&&!a&&(this.lc.disconnect(),this.ed.disconnect(),this.ed.connect(b(this.wi)),this.xg=!1))};F.prototype.ct=function(a,b,c,d,e,f){this.xg&&S===J&&(this.lc.setPosition(a,b,0),this.lc.setOrientation(Math.cos(I(c)),Math.sin(I(c)),0),this.lc.coneInnerAngle=
d,this.lc.coneOuterAngle=e,this.lc.coneOuterGain=f,this.Fw=a,this.Gw=b,this.Bw=c,this.Cw=d,this.Dw=e,this.Ew=f)};F.prototype.Km=function(a){this.xg&&S===J&&(this.Gc||(this.Gc=new D),this.Gc.Km(a))};F.prototype.Jc=function(a){if(this.xg&&S===J&&this.Gc&&this.Gc.lo()&&this.lk()){this.Gc.Jc(a);a=this.Gc.Na;var b=Ca(a.x,a.y,-a.O.Td(),hb,ib,!0),c=Ca(a.x,a.y,-a.O.Td(),hb,ib,!1);this.lc.setPosition(b,c,0);b=0;"undefined"!==typeof this.Gc.Na.F&&(b=a.F-a.O.Td(),this.lc.setOrientation(Math.cos(b),Math.sin(b),
0));this.lc.setVelocity(this.Gc.Av(),this.Gc.Bv(),0)}};F.prototype.play=function(a,b,c){var d=this.V;this.ih=a;this.volume=b;c=c||0;switch(this.rb){case O:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==b*La&&(d.volume=b*La);d.loop!==a&&(d.loop=a);d.muted&&(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(h){}this.V.play();break;case J:this.muted=!1;this.xm=1;if(this.buffer.rb===J)this.Vh||(this.V=K.createBufferSource(),this.V.buffer=this.buffer.Lb,this.V.connect(this.ed)),this.V.loop=
a,this.ed.gain.value=b*La,0===c?e(this.V):f(this.V,c,this.gk());else{1!==d.playbackRate&&(d.playbackRate=1);d.loop!==a&&(d.loop=a);this.ed.gain.value=b*La;if(d.currentTime!==c)try{d.currentTime=c}catch(g){}d.play()}break;case P:(!this.Vh&&this.Tf||0!==c)&&d.seekTo(c);d.play();this.Ls=!1;break;case Y:t.Ef?AppMobi.context.playSound(this.src):AppMobi.player.playSound(this.src)}this.playbackRate=1;this.startTime=t.Ge.Bb-c;this.Xh=this.Tf=this.Vh=!1};F.prototype.stop=function(){switch(this.rb){case O:this.V.paused||
this.V.pause();break;case J:this.buffer.rb===J?g(this.V):this.V.paused||this.V.pause();break;case P:this.V.stop()}this.Tf=!0;this.Xh=!1};F.prototype.pause=function(){if(!(this.Vh||this.Tf||this.Rl()||this.Xh)){switch(this.rb){case O:this.V.paused||this.V.pause();break;case J:this.buffer.rb===J?(this.Rf=this.ir(),this.ih&&(this.Rf%=this.gk()),g(this.V)):this.V.paused||this.V.pause();break;case P:this.V.pause()}this.Xh=!0}};F.prototype.CC=function(a){this.rb===J&&(this.xg?(this.lc.disconnect(),this.lc.connect(a)):
(this.ed.disconnect(),this.ed.connect(a)))};F.prototype.gk=function(){switch(this.rb){case O:if("undefined"!==typeof this.V.duration)return this.V.duration;break;case J:return this.buffer.Lb.duration;case P:return this.V.getDuration()}return 0};F.prototype.ir=function(){var a=this.gk(),b=0;switch(this.rb){case O:"undefined"!==typeof this.V.currentTime&&(b=this.V.currentTime);break;case J:if(this.buffer.rb===J){if(this.Xh)return this.Rf;b=t.Ge.Bb-this.startTime}else"undefined"!==typeof this.V.currentTime&&
(b=this.V.currentTime)}!this.ih&&b>a&&(b=a);return b};F.prototype.lk=function(){return!this.Xh&&!this.Vh&&!this.Tf&&!this.Rl()};F.prototype.$C=function(){var a=this.volume*La;switch(this.rb){case O:this.V.volume&&this.V.volume!==a&&(this.V.volume=a);break;case J:this.ed.gain.value=a*this.xm}};F.prototype.mv=function(a){switch(this.rb){case O:this.V.muted!==!!a&&(this.V.muted=!!a);break;case J:this.xm=a?0:1,this.ed.gain.value=La*this.volume*this.xm}};F.prototype.ax=function(a){this.Er=!!a;this.mv(this.Dr||
this.Er)};F.prototype.Ix=function(){var a=this.playbackRate;if(1===ec&&!this.Ff||2===ec)a*=t.zh;switch(this.rb){case O:this.V.playbackRate!==a&&(this.V.playbackRate=a);break;case J:this.buffer.rb===J?this.V.playbackRate.value!==a&&(this.V.playbackRate.value=a):this.V.playbackRate!==a&&(this.V.playbackRate=a)}};F.prototype.PC=function(a){switch(this.rb){case O:a?this.lk()?(this.V.pause(),this.wh=!0):this.wh=!1:this.wh&&this.V.play();break;case J:a?this.lk()?(this.buffer.rb===J?(this.Rf=this.ir(),this.ih&&
(this.Rf%=this.gk()),g(this.V)):this.V.pause(),this.wh=!0):this.wh=!1:this.wh&&(this.buffer.rb===J?(this.V=K.createBufferSource(),this.V.buffer=this.buffer.Lb,this.V.connect(this.ed),this.V.loop=this.ih,this.ed.gain.value=La*this.volume*this.xm,this.startTime=t.Ge.Bb-this.Rf,f(this.V,this.Rf,this.gk())):this.V.play());break;case P:a?this.lk()?(this.V.pause(),this.wh=!0):this.wh=!1:this.wh&&this.V.play()}};A.mb=function(a){this.type=a;t=this.i=a.i;y=this;this.Gd=null;this.em=-600;K=null;"undefined"!==
typeof AudioContext?(S=J,K=new AudioContext):"undefined"!==typeof webkitAudioContext&&(S=J,K=new webkitAudioContext);this.i.Fr&&S===J&&document.addEventListener("touchstart",function(){if(!Md){var a=K.createBuffer(1,1,22050),b=K.createBufferSource();b.buffer=a;b.connect(K.destination);e(b);Md=!0}},!0);S!==J&&(this.i.gj?S=P:this.i.kk&&(S=Y));S===P&&(N=location.href,a=N.lastIndexOf("/"),-1<a&&(N=N.substr(0,a+1)),N=N.replace("file://",""));if(this.i.AB&&this.i.Pv&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
this.i.Og(this);else{if(!this.i.Ef)try{new Audio}catch(b){}this.i.tp(this)}};var Ma=A.mb.prototype;Ma.Ka=function(){ec=this.Z[0];this.xh=this.Z[1];Jc=this.Z[2];Kc=this.Z[3];this.em=-this.Z[4];Jd=this.Z[5];Kd=this.Z[6];Ld=this.Z[7];this.Gd=new D;S===J&&(K.listener.speedOfSound=this.Z[8],K.listener.dopplerFactor=this.Z[9],K.listener.setPosition(this.i.width/2,this.i.height/2,this.em),K.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){Za&&Za.disconnect();Ic=c.toLowerCase();
Za=K.createMediaStreamSource(a);Za.connect(b(Ic))});this.i.uz(function(a){y.pC(a)});var a=this;this.i.wq(function(b){a.Cs(b)})};Ma.Cs=function(a){var b,c,d;b=0;for(c=W.length;b<c;b++)d=W[b],d.Gc&&d.Gc.Na===a&&(d.Gc.Na=null,d.xg&&d.lk()&&d.ih&&d.stop());this.Gd.Na===a&&(this.Gd.Na=null)};Ma.Nd=function(){var a={silent:Bb,masterVolume:La,listenerZ:this.em,listenerUid:this.Gd.lo()?this.Gd.Na.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,h,g;c=0;for(d=W.length;c<d;c++)e=W[c],!e.lk()||3===this.xh||
e.Ff&&1===this.xh||!e.Ff&&2===this.xh||(f=e.ir(),e.ih&&(f%=e.gk()),f={tag:e.wi,buffersrc:e.buffer.src,is_music:e.Ff,playbackTime:f,volume:e.volume,looping:e.ih,muted:e.Dr,playbackRate:e.playbackRate,paused:e.Xh,resume_position:e.Rf},e.xg&&(f.pan={},g=f.pan,e.Gc&&e.Gc.lo()?g.objUid=e.Gc.Na.uid:(g.x=e.Fw,g.y=e.Gw,g.a=e.Bw),g.ia=e.Cw,g.oa=e.Dw,g.og=e.Ew),b.push(f));b=a.effects;for(h in Z)if(Z.hasOwnProperty(h)){e=[];c=0;for(d=Z[h].length;c<d;c++)e.push({type:Z[h][c].type,params:Z[h][c].gc});b[h]=e}return a};
var Cb=[];Ma.je=function(a){var b=a.silent;La=a.masterVolume;this.em=a.listenerZ;this.Gd.Km(null);var c=a.listenerUid;-1!==c&&(this.Gd.Do=c,Cb.push(this.Gd));var c=a.playing,d,e,f,g,t,F,E,A,z,y,H;if(3!==this.xh)for(d=0,e=W.length;d<e;d++)z=W[d],z.Ff&&1===this.xh||(z.Ff||2!==this.xh)&&z.stop();for(t in Z)if(Z.hasOwnProperty(t))for(d=0,e=Z[t].length;d<e;d++)Z[t][d].remove();Ga(Z);for(t in a.effects)if(a.effects.hasOwnProperty(t))for(F=a.effects[t],d=0,e=F.length;d<e;d++)switch(f=F[d].type,y=F[d].params,
f){case "filter":G(t,new h(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":G(t,new k(y[0],y[1],y[2]));break;case "convolve":f=y[2];z=this.cr(f,!1);z.Lb?f=new l(z.Lb,y[0],y[1],f):(f=new l(null,y[0],y[1],f),z.uw=y[0],z.Kn=f);G(t,f);break;case "flanger":G(t,new m(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":G(t,new n(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":G(t,new p(y[0]));break;case "tremolo":G(t,new u(y[0],y[1]));break;case "ringmod":G(t,new s(y[0],y[1]));break;case "distortion":G(t,
new q(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":G(t,new x(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":G(t,new C(y[0],y[1]))}d=0;for(e=c.length;d<e;d++)3===this.xh||(a=c[d],f=a.buffersrc,g=a.is_music,t=a.tag,F=a.playbackTime,E=a.looping,A=a.volume,H=(y=a.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,g&&1===this.xh)||!g&&2===this.xh||((z=this.QA(f,t,g,E,A))?(z.Rf=a.resume_position,z.$w(!!y),z.play(E,A,F),z.Ix(),z.$C(),z.mv(z.Dr||z.Er),a.paused&&z.pause(),a.muted&&z.FE(),y&&(-1!==H?(z.Gc=
z.Gc||new D,z.Gc.Do=H,Cb.push(z.Gc)):z.ct(y.x,y.y,y.a,y.ia,y.oa,y.og))):(z=this.cr(f,g),z.kp=F,z.Uo=a.paused,y&&(-1!==H?z.Ok.push({ww:H,nr:y.ia,ys:y.oa,Bs:y.og,xx:t}):z.Ok.push({x:y.x,y:y.y,I:y.a,nr:y.ia,ys:y.oa,Bs:y.og,xx:t}))));if(b&&!Bb){d=0;for(e=W.length;d<e;d++)W[d].ax(!0);Bb=!0}else if(!b&&Bb){d=0;for(e=W.length;d<e;d++)W[d].ax(!1);Bb=!1}};Ma.Wj=function(){var a,b,c,d;a=0;for(b=Cb.length;a<b;a++)c=Cb[a],d=this.i.aj(c.Do),c.Km(d),c.Do=-1,d&&(hb=d.x,ib=d.y);Cb.length=0};Ma.pC=function(a){var b,
c;b=0;for(c=W.length;b<c;b++)W[b].PC(a)};Ma.Jc=function(){var a=this.i.Ca,b,c,d;b=0;for(c=W.length;b<c;b++)d=W[b],d.Jc(a),d.rb===O||d.rb===Y||d.Vh||d.Tf||!d.Rl()||(d.Tf=!0,H=d.wi,t.trigger(Tb.prototype.L.Zp,y)),0!==ec&&d.Ix();var e,f;for(e in Z)if(Z.hasOwnProperty(e))for(d=Z[e],b=0,c=d.length;b<c;b++)f=d[b],f.Jc&&f.Jc();S===J&&this.Gd.lo()&&(this.Gd.Jc(a),hb=this.Gd.Na.x,ib=this.Gd.Na.y,K.listener.setPosition(this.Gd.Na.x,this.Gd.Na.y,this.em),K.listener.setVelocity(this.Gd.Av(),this.Gd.Bv(),0))};
Ma.cr=function(a,b){var c,d,e,f=null,h,g,k,m;c=0;for(d=qa.length;c<d;c++)if(e=qa[c],e.src===a){f=e;break}f||(f=new E(a,b),qa.push(f));if(f.Ff&&(t.jg||t.fj)){c=0;for(d=qa.length;c<d;++c)if(e=qa[c],e!==f&&e.Ff){e.Lb=null;g=h=0;for(k=W.length;h<k;++h)m=W[h],W[g]=m,m.buffer===e&&m.rb===J?(m.ed.disconnect(),e.rb===J&&m.V.disconnect()):++g;W.length=g}f.jv()}return f};Ma.QA=function(a,b,c,d,e){var f,h,g;f=0;for(h=W.length;f<h;f++)if(g=W[f],g.src===a&&(g.Hz()||c))return g.wi=b,g;a=this.cr(a,c);if(!a.Lb)return"<preload>"!==
b&&(a.Vo=b,a.$r=d,a.Ft=e),null;g=new F(a,b);W.push(g);return g};var gb=[];z.prototype.Zp=function(a){return Ra(H,a)};A.L=new z;A.W=new (r());A.Dc=new (r())})();function Ub(a){this.i=a}
(function(){function a(){}var b=Ub.prototype;b.ub=function(a){this.sb=a;this.i=a.i};b.ub.prototype.Ka=r();b.mb=function(a){this.type=a;this.i=a.i;this.Gr=Array(256);this.Bp=Array(256);this.yi=0};var c=b.mb.prototype;c.Ka=function(){var a=this;this.i.fd||(jQuery(document).keydown(function(b){a.kC(b)}),jQuery(document).keyup(function(b){a.lC(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];c.kC=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Gr[a.which])this.Bp[a.which]&&!b&&a.preventDefault();else{this.Gr[a.which]=!0;this.yi=a.which;this.i.trigger(Ub.prototype.L.uy,this);var c=this.i.trigger(Ub.prototype.L.Ay,this),h=this.i.trigger(Ub.prototype.L.By,this);if(c||h)this.Bp[a.which]=!0,b||a.preventDefault()}};c.lC=function(a){this.Gr[a.which]=!1;this.yi=a.which;this.i.trigger(Ub.prototype.L.wy,this);var b=this.i.trigger(Ub.prototype.L.Dy,this),c=this.i.trigger(Ub.prototype.L.Cy,this);if(b||c||this.Bp[a.which])this.Bp[a.which]=!0,
a.preventDefault()};c.Nd=function(){return{triggerKey:this.yi}};c.je=function(a){this.yi=a.triggerKey};a.prototype.Ay=function(a){return a===this.yi};a.prototype.uy=w(!0);a.prototype.wy=w(!0);a.prototype.Dy=function(a){return a===this.yi};a.prototype.By=function(a){return a===this.yi};a.prototype.Cy=function(a){return a===this.yi};b.L=new a;b.W=new (r());b.Dc=new (r())})();function Vb(a){this.i=a}
(function(){function a(){}function b(){}var c=Vb.prototype;c.ub=function(a){this.sb=a;this.i=a.i};c.ub.prototype.Ka=r();c.mb=function(a){this.type=a;this.i=a.i;this.En=Array(4);this.Ax=this.yp=this.Tk=this.ki=this.ji=0;this.kr=!1};var d=c.mb.prototype;d.Ka=function(){var a=this;if(!this.i.fd){jQuery(document).mousemove(function(b){a.Fs(b)});jQuery(document).mousedown(function(b){a.Es(b)});jQuery(document).mouseup(function(b){a.Gs(b)});jQuery(document).dblclick(function(b){a.jC(b)});var b=function(b){a.qC(b)};
document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var e={left:0,top:0};d.Fs=function(a){var b=this.i.fd?e:jQuery(this.i.canvas).offset();this.ji=a.pageX-b.left;this.ki=a.pageY-b.top};d.ow=function(){return 0<this.i.ge?!0:0<=this.ji&&0<=this.ki&&this.ji<this.i.width&&this.ki<this.i.height};d.Es=function(a){this.ow()&&(this.i.bj&&a.preventDefault(),this.En[a.which]=!0,this.i.trigger(Vb.prototype.L.ty,this),this.Tk=a.which-1,this.yp=0,this.i.trigger(Vb.prototype.L.Yp,
this),this.i.trigger(Vb.prototype.L.aq,this))};d.Gs=function(a){this.En[a.which]&&(this.i.bj&&a.preventDefault(),this.i.bj=!0,this.En[a.which]=!1,this.Tk=a.which-1,this.i.trigger(Vb.prototype.L.Hy,this))};d.jC=function(a){this.ow()&&(a.preventDefault(),this.Tk=a.which-1,this.yp=1,this.i.trigger(Vb.prototype.L.Yp,this),this.i.trigger(Vb.prototype.L.aq,this))};d.qC=function(a){this.Ax=0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.kr=!1;this.i.trigger(Vb.prototype.L.Ky,this);this.kr&&a.preventDefault()};
a.prototype.Yp=function(a,b){return a===this.Tk&&b===this.yp};a.prototype.ty=w(!0);a.prototype.hy=function(a){return this.En[a+1]};a.prototype.Hy=function(a){return a===this.Tk};a.prototype.aq=function(a,b,c){return a!==this.Tk||b!==this.yp?!1:this.i.tx(c,this.ji,this.ki)};a.prototype.Ky=function(a){this.kr=!0;return a===this.Ax};c.L=new a;c.W=new (r());b.prototype.Bu=function(a,b){var c,d,e,m,n;ca(b)?(c=this.i.ah(0),d=c.scale,e=c.yd,m=c.Pe,n=c.F,c.scale=this.i.Ra.scale,c.yd=1,c.Pe=1,c.F=this.i.Ra.F,
a.fa(c.cd(this.ji,this.ki,!0)),c.scale=d,c.yd=e,c.Pe=m,c.F=n):(c=da(b)?this.i.ah(b):this.i.Nl(b))?a.fa(c.cd(this.ji,this.ki,!0)):a.fa(0)};b.prototype.Cu=function(a,b){var c,d,e,m,n;ca(b)?(c=this.i.ah(0),d=c.scale,e=c.yd,m=c.Qe,n=c.F,c.scale=this.i.Ra.scale,c.yd=1,c.Qe=1,c.F=this.i.Ra.F,a.fa(c.cd(this.ji,this.ki,!1)),c.scale=d,c.yd=e,c.Qe=m,c.F=n):(c=da(b)?this.i.ah(b):this.i.Nl(b))?a.fa(c.cd(this.ji,this.ki,!1)):a.fa(0)};c.Dc=new b})();function Wb(a){this.i=a}
(function(){function a(){if(0===this.Oq.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Qk?b.drawImage(this.Pa,this.Lk,this.Mk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Pa,0,0,this.width,this.height);this.Oq=a.toDataURL("image/png")}return this.Oq}function b(){}function c(a,b,c){var d=m.length?m.pop():[0,0];d[0]=b.uid;d[1]=c.uid;a.push(d)}function d(a,b,c){b=b.uid;var d=c.uid,e=0,f,h;c=0;for(f=a.length;c<
f;c++)h=a[c],h[0]===b&&h[1]===d||h[0]===d&&h[1]===b||(a[e][0]=a[c][0],a[e][1]=a[c][1],e++);for(c=e;c<f;c++)b=a[c],b[0]=0,b[1]=0,m.push(b);a.length=e}function e(a,b,c){b=b.uid;c=c.uid;var d,e,f;d=0;for(e=a.length;d<e;d++)if(f=a[d],f[0]===b&&f[1]===c||f[0]===c&&f[1]===b)return!0;return!1}function f(){}var g=Wb.prototype;g.ub=function(a){this.sb=a;this.i=a.i};var h=g.ub.prototype;h.Ka=function(){if(!this.ua){var b,c,d,e,f,h,g,k,m;this.Af=[];this.no=!1;b=0;for(c=this.de.length;b<c;b++){f=this.de[b];g=
{};g.name=f[0];g.speed=f[1];g.loop=f[2];g.Vs=f[3];g.hp=f[4];g.Hw=f[5];g.Sa=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)h=f[7][d],k={},k.mt=h[0],k.nt=h[1],k.Lk=h[2],k.Mk=h[3],k.width=h[4],k.height=h[5],k.duration=h[6],k.Ud=h[7],k.Vd=h[8],k.or=h[9],k.Wo=h[10],k.Iw=h[11],k.Qk=0!==k.width,k.Oq="",k.BE=a,m={left:0,top:0,right:1,bottom:1},k.gt=m,k.Sb=null,(m=this.i.LA(h[0]))?k.Pa=m:(k.Pa=new Image,k.Pa.idtkLoadDisposed=!0,k.Pa.src=h[0],k.Pa.Kz=h[0],k.Pa.bv=h[1],k.Pa.Fz=null,this.i.Ch.push(k.Pa)),g.frames.push(k),
this.Af.push(k);this.de[b]=g}}};h.YC=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.Ln=c.$e.Sb};h.To=function(){if(!this.ua){var a,b,c;a=0;for(b=this.Af.length;a<b;++a)c=this.Af[a],c.Pa.Fz=null,c.Sb=null}};h.Hs=function(){if(!this.ua&&this.A.length){var a,b,c;a=0;for(b=this.Af.length;a<b;++a)c=this.Af[a],c.Sb=this.i.ea.Co(c.Pa,!1,this.i.Wb,c.Iw);this.YC()}};h.Ur=function(){if(!this.ua&&!this.no&&this.i.ea){var a,b,c;a=0;for(b=this.Af.length;a<b;++a)c=this.Af[a],c.Sb=this.i.ea.Co(c.Pa,
!1,this.i.Wb,c.Iw);this.no=!0}};h.zt=function(){if(!this.ua&&!this.A.length&&this.no){var a,b,c;a=0;for(b=this.Af.length;a<b;++a)c=this.Af[a],this.i.ea.deleteTexture(c.Sb);this.no=!1}};var k=[];h.Os=function(a){var b,c,d;b=k.length=0;for(c=this.Af.length;b<c;++b)d=this.Af[b].Pa,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};g.mb=function(a){this.type=a;this.i=a.i;a=this.type.de[0].frames[0].Wo;this.se?this.hb.Lm(a):this.hb=new Na(a)};var l=g.mb.prototype;l.Ka=function(){this.visible=0===this.Z[0];
this.qr=this.Br=!1;this.Ph=0!==this.Z[3];1===this.type.de.length&&1===this.type.de[0].frames.length||0===this.type.de[0].speed||(this.i.tp(this),this.Br=!0);this.Db=this.uv(this.Z[1])||this.type.de[0];this.aa=this.Z[2];0>this.aa&&(this.aa=0);this.aa>=this.Db.frames.length&&(this.aa=this.Db.frames.length-1);var a=this.Db.frames[this.aa];this.hb.Lm(a.Wo);this.Ud=a.Ud;this.Vd=a.Vd;this.Cl=this.Db.speed;this.se?this.$f.reset():this.$f=new Ja;this.$g=this.$f.Bb;this.Oi=!0;this.Sg=0;this.Ni=!0;this.Bq=
this.Lu="";this.Iz=0;this.Gn=-1;this.type.Ur();var b,c,d,e,f,h,g,a=0;for(b=this.type.de.length;a<b;a++)for(e=this.type.de[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Pa.width,f.height=f.Pa.height),f.Qk&&(g=f.Pa,h=f.gt,h.left=f.Lk/g.width,h.top=f.Mk/g.height,h.right=(f.Lk+f.width)/g.width,h.bottom=(f.Mk+f.height)/g.height,0===f.Lk&&0===f.Mk&&f.width===g.width&&f.height===g.height&&(f.Qk=!1));this.$e=this.Db.frames[this.aa];this.Ln=this.$e.Sb};l.Nd=function(){var a={a:this.Db.Sa,
f:this.aa,cas:this.Cl,fs:this.$g,ar:this.Sg,at:this.$f.Bb};this.Oi||(a.ap=this.Oi);this.Ni||(a.af=this.Ni);return a};l.je=function(a){var b=this.PA(a.a);b&&(this.Db=b);this.aa=a.f;0>this.aa&&(this.aa=0);this.aa>=this.Db.frames.length&&(this.aa=this.Db.frames.length-1);this.Cl=a.cas;this.$g=a.fs;this.Sg=a.ar;this.$f.reset();this.$f.Bb=a.at;this.Oi=a.hasOwnProperty("ap")?a.ap:!0;this.Ni=a.hasOwnProperty("af")?a.af:!0;this.$e=this.Db.frames[this.aa];this.Ln=this.$e.Sb;this.hb.Lm(this.$e.Wo);this.Ud=
this.$e.Ud;this.Vd=this.$e.Vd};l.xq=function(a){this.aa=a?0:this.Db.frames.length-1;this.Oi=!1;this.Lu=this.Db.name;this.qr=!0;this.i.trigger(Wb.prototype.L.ry,this);this.i.trigger(Wb.prototype.L.qy,this);this.qr=!1;this.Sg=0};l.DE=function(){return this.$f.Bb};l.Jc=function(){this.$f.add(this.i.Kl(this));this.Bq.length&&this.Pz();0<=this.Gn&&this.kv();var a=this.$f.Bb,b=this.Db,c=b.frames[this.aa],d=c.duration/this.Cl;this.Oi&&a>=this.$g+d&&(this.Ni?this.aa++:this.aa--,this.$g+=d,this.aa>=b.frames.length&&
(b.Hw?(this.Ni=!1,this.aa=b.frames.length-2):b.loop?this.aa=b.hp:(this.Sg++,this.Sg>=b.Vs?this.xq(!1):this.aa=b.hp)),0>this.aa&&(b.Hw?(this.aa=1,this.Ni=!0,b.loop||(this.Sg++,this.Sg>=b.Vs&&this.xq(!0))):b.loop?this.aa=b.hp:(this.Sg++,this.Sg>=b.Vs?this.xq(!0):this.aa=b.hp)),0>this.aa?this.aa=0:this.aa>=b.frames.length&&(this.aa=b.frames.length-1),a>this.$g+b.frames[this.aa].duration/this.Cl&&(this.$g=a),a=b.frames[this.aa],this.ml(c,a),this.i.cb=!0)};l.uv=function(a){var b,c,d;b=0;for(c=this.type.de.length;b<
c;b++)if(d=this.type.de[b],Ra(d.name,a))return d;return null};l.PA=function(a){var b,c,d;b=0;for(c=this.type.de.length;b<c;b++)if(d=this.type.de[b],d.Sa===a)return d;return null};l.Pz=function(){var a=this.Db.frames[this.aa],b=this.uv(this.Bq);this.Bq="";!b||Ra(b.name,this.Db.name)&&this.Oi||(this.Db=b,this.Cl=b.speed,0>this.aa&&(this.aa=0),this.aa>=this.Db.frames.length&&(this.aa=this.Db.frames.length-1),1===this.Iz&&(this.aa=0),this.Oi=!0,this.$g=this.$f.Bb,this.Ni=!0,this.ml(a,this.Db.frames[this.aa]),
this.i.cb=!0)};l.kv=function(){var a=this.Db.frames[this.aa],b=this.aa;this.aa=ka(this.Gn);0>this.aa&&(this.aa=0);this.aa>=this.Db.frames.length&&(this.aa=this.Db.frames.length-1);b!==this.aa&&(this.ml(a,this.Db.frames[this.aa]),this.$g=this.$f.Bb,this.i.cb=!0);this.Gn=-1};l.ml=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Ud=b.Ud;this.Vd=b.Vd;this.hb.Lm(b.Wo);this.Oa();this.$e=b;this.Ln=b.Sb;c=0;for(d=this.Va.length;c<d;c++)e=this.Va[c],
e.oC&&e.oC(a,b);this.i.trigger(Wb.prototype.L.ml,this)};l.cg=function(a){a.globalAlpha=this.opacity;var b=this.$e,c=b.Qk,d=b.Pa,e=this.x,f=this.y,h=this.width,g=this.height;if(0===this.F&&0<=h&&0<=g)e-=this.Ud*h,f-=this.Vd*g,this.i.yg&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.Lk,b.Mk,b.width,b.height,e,f,h,g):a.drawImage(d,e,f,h,g);else{this.i.yg&&(e=e+0.5|0,f=f+0.5|0);a.save();var k=0<h?1:-1,m=0<g?1:-1;a.translate(e,f);1===k&&1===m||a.scale(k,m);a.rotate(this.F*k*m);e=0-this.Ud*ga(h);f=0-this.Vd*
ga(g);c?a.drawImage(d,b.Lk,b.Mk,b.width,b.height,e,f,ga(h),ga(g)):a.drawImage(d,e,f,ga(h),ga(g));a.restore()}};l.df=function(a){a.Re(this.Ln);a.Dj(this.opacity);var b=this.$e,c=this.wb;if(this.i.yg){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.Qk?a.Ag(c.Xb+d,c.Yb+e,c.jd+d,c.kd+e,c.$c+d,c.bd+e,c.Yc+d,c.Zc+e,b.gt):a.ep(c.Xb+d,c.Yb+e,c.jd+d,c.kd+e,c.$c+d,c.bd+e,c.Yc+d,c.Zc+e)}else b.Qk?a.Ag(c.Xb,c.Yb,c.jd,c.kd,c.$c,c.bd,c.Yc,c.Zc,b.gt):a.ep(c.Xb,c.Yb,c.jd,c.kd,c.$c,c.bd,c.Yc,c.Zc)};l.VA=function(a){var b=
this.$e,c,d;c=0;for(d=b.or.length;c<d;c++)if(Ra(a,b.or[c][0]))return c;return-1};l.ff=function(a,b){var c=this.$e,d=c.or,e;e=ea(a)?this.VA(a):a-1;e=ka(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Ud)*this.width,d=d[e][2],d=(d-c.Vd)*this.height,c=Math.cos(this.F);e=Math.sin(this.F);var h=f*c-d*e,d=d*c+f*e,f=h+this.x,d=d+this.y;return b?f:d};var m=[];b.prototype.cu=function(a){if(!a)return!1;var b=this.i,f=b.er(),h=f.type;f.Y.Al||(f.Y.Al=[],b.wq(function(a){return function(b){var c=
0,d,e,f=b.uid;b=0;for(d=a.length;b<d;b++)e=a[b],e[0]!==f&&e[1]!==f&&(a[c][0]=a[b][0],a[c][1]=a[b][1],c++);for(b=c;b<d;b++)e=a[b],e[0]=0,e[1]=0,m.push(e);a.length=c}}(f.Y.Al)));var g=h.Wa(),k=a.Wa(),g=g.gf(),k=k.gf(),n,l,p,z,A,t,y=b.rd().Sd;for(n=0;n<g.length;n++)for(l=g[n],p=0;p<k.length;p++)z=k[p],b.Gj(l,z)||b.Jz(l,z)?e(f.Y.Al,l,z)||(c(f.Y.Al,l,z),b.bp(y.Ab),A=h.Wa(),t=a.Wa(),A.lb=!1,t.lb=!1,h===a?(A.A.length=2,A.A[0]=l,A.A[1]=z,h.Lh()):(A.A.length=1,t.A.length=1,A.A[0]=l,t.A[0]=z,h.Lh(),a.Lh()),
y.FC(),b.Bj(y.Ab)):d(f.Y.Al,l,z);return!1};var n=new Ia,p=!1;h.finish=function(a){if(p){if(a){var b=this.i.rd().Sd.Nf;a=null.Wa();var c=n.Lj(),d,e;if(a.lb){a.lb=!1;a.A.length=c.length;d=0;for(e=c.length;d<e;d++)a.A[d]=c[d];if(b)for(d=a.ob.length=0,e=null.A.length;d<e;d++)b=null.A[d],n.contains(b)||a.ob.push(b)}else{var f=a.A.length;a.A.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.A[f+d]=c[d],b&&sa(a.ob,c[d])}null.Lh()}n.clear();p=!1}};b.prototype.qy=function(a){return Ra(this.Lu,a)};b.prototype.ry=
w(!0);b.prototype.ml=w(!0);g.L=new b;f.prototype.Yy=function(a,b,c){if(a&&b&&(b=this.i.Jq(a,b,this.ff(c,!0),this.ff(c,!1)))){"undefined"!==typeof b.F&&(b.F=this.F,b.Oa());this.i.Fe++;var d,e,f;this.i.trigger(Object.getPrototypeOf(a.sb).L.ll,b);if(b.Wd)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.i.trigger(Object.getPrototypeOf(f.type.sb).L.ll,f);this.i.Fe--;d=this.i.SA();c=!1;if(ca(d.Y.wu)||d.Y.wu<this.i.Zi)c=!0,d.Y.wu=this.i.Zi;if(a!=this.type&&(a=a.Wa(),a.lb=!1,c?(a.A.length=1,a.A[0]=
b):a.A.push(b),b.Wd))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.Wa(),a.lb=!1,c?(a.A.length=1,a.A[0]=f):a.A.push(f)}};f.prototype.mu=function(a){this.Gn=a;this.Br||(this.i.tp(this),this.Br=!0);this.qr||this.kv()};g.W=new f;g.Dc=new (r())})();function Xb(a){this.i=a}
(function(){function a(){return g.length?g.pop():{}}function b(a){var b,c;b=0;for(c=a.length;b<c;b++)g.push(a[b]);a.length=0}function c(){}var d=Xb.prototype;d.Ka=function(){d.W.Ty=function(a){this.width!==a&&(this.width=a,this.Jj=!0,this.Oa())}};d.ub=function(a){this.sb=a;this.i=a.i};var e=d.ub.prototype;e.Ka=r();e.To=function(){if(!this.ua){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.wg=null,c.zj=null,c.me=null}};d.mb=function(a){this.type=a;this.i=a.i;this.se?this.bi.length=0:this.bi=
[];this.Jj=!0};e=d.mb.prototype;e.Ka=function(){this.text=this.Z[0];this.visible=0===this.Z[1];this.font=this.Z[2];this.color=this.Z[3];this.ko=this.Z[4];this.Cp=this.Z[5];this.Ht=0===this.Z[7];this.Nr=this.jj=this.width;this.ij=this.height;this.Rr=this.Z[8];this.$n=this.dk="";this.ux=this.wx=this.mi=0;this.rC();this.me=this.zj=this.wg=null;this.rw=!1;this.dm=this.i.tf;this.se?this.oi.set(0,0,1,1):this.oi=new ma(0,0,1,1);this.i.ea&&this.i.tp(this)};e.rC=function(){var a=this.font.split(" "),b;for(b=
0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.mi=parseInt(a[b].substr(0,a[b].length-2));this.dp=Math.ceil(96*(this.mi/72))+4;0<b&&(this.$n=a[b-1]);this.dk=a[b+1];for(b+=2;b<a.length;b++)this.dk+=" "+a[b];break}};e.Nd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.ko,va:this.Cp,wr:this.Ht,lho:this.Rr,fn:this.dk,fs:this.$n,ps:this.mi,pxh:this.dp,tw:this.wx,th:this.ux,lrt:this.dm}};e.je=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.ko=a.ha;this.Cp=a.va;this.Ht=
a.wr;this.Rr=a.lho;this.dk=a.fn;this.$n=a.fs;this.mi=a.ps;this.dp=a.pxh;this.wx=a.tw;this.ux=a.th;this.dm=a.lrt;this.Jj=!0;this.Nr=this.jj=this.width;this.ij=this.height};e.Jc=function(){if(this.i.ea&&this.me&&300<=this.i.tf-this.dm){var a=this.O;this.wc();var b=this.Qa;if(b.right<a.ue||b.bottom<a.we||b.left>a.ve||b.top>a.te)this.i.ea.deleteTexture(this.me),this.wg=this.zj=this.me=null}};e.Nk=function(){this.wg=this.zj=null;this.i.ea&&this.me&&this.i.ea.deleteTexture(this.me);this.me=null};e.ZC=function(){this.font=
this.$n+" "+this.mi.toString()+"pt "+this.dk;this.Jj=!0;this.i.cb=!0};e.cg=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.O.he(),a.save(),a.scale(c,c));if(this.Jj||this.width!==this.Nr)this.type.sb.dz(this.text,this.bi,a,this.width,this.Ht),this.Jj=!1,this.Nr=this.width;this.wc();var c=b?0:this.wb.Xb,d=b?0:this.wb.Yb;this.i.yg&&(c=c+0.5|0,d=d+0.5|0);0===this.F||b||(a.save(),a.translate(c,d),a.rotate(this.F),d=c=0);var e=
d+this.height,f=this.dp,f=f+this.Rr*this.i.devicePixelRatio,g,s;1===this.Cp?d+=Math.max(this.height/2-this.bi.length*f/2,0):2===this.Cp&&(d+=Math.max(this.height-this.bi.length*f-2,0));for(s=0;s<this.bi.length&&!(g=c,1===this.ko?g=c+(this.width-this.bi[s].width)/2:2===this.ko&&(g=c+(this.width-this.bi[s].width)),a.fillText(this.bi[s].text,g,d),d+=f,d>=e-f);s++);(0!==this.F||b)&&a.restore();this.dm=this.i.tf};e.df=function(a){if(!(1>this.width||1>this.height)){var b=this.Jj||this.rw;this.rw=!1;var c=
this.O.he(),d=this.O.Td(),e=this.oi,f=c*this.width,g=c*this.height,s=Math.ceil(f),q=Math.ceil(g),x=this.i.width/2,C=this.i.height/2;this.zj||(this.wg=document.createElement("canvas"),this.wg.width=s,this.wg.height=q,this.jj=s,this.ij=q,b=!0,this.zj=this.wg.getContext("2d"));if(s!==this.jj||q!==this.ij)this.wg.width=s,this.wg.height=q,this.me&&(a.deleteTexture(this.me),this.me=null),b=!0;b&&(this.zj.clearRect(0,0,s,q),this.cg(this.zj,!0),this.me||(this.me=a.Wg(s,q,this.i.Wb,this.i.jg)),a.gD(this.wg,
this.me,this.i.jg));this.jj=s;this.ij=q;a.Re(this.me);a.Dj(this.opacity);a.Dg();a.translate(-x,-C);a.Jg();var D=this.wb,b=this.O.Vb(D.Xb,D.Yb,!0),x=this.O.Vb(D.Xb,D.Yb,!1),C=this.O.Vb(D.jd,D.kd,!0),E=this.O.Vb(D.jd,D.kd,!1),F=this.O.Vb(D.$c,D.bd,!0),G=this.O.Vb(D.$c,D.bd,!1),z=this.O.Vb(D.Yc,D.Zc,!0),D=this.O.Vb(D.Yc,D.Zc,!1);if(this.i.yg||0===this.F&&0===d)var A=(b+0.5|0)-b,t=(x+0.5|0)-x,b=b+A,x=x+t,C=C+A,E=E+t,F=F+A,G=G+t,z=z+A,D=D+t;0===this.F&&0===d?(C=b+s,E=x,F=C,G=x+q,z=b,D=G,e.right=1,e.bottom=
1):(e.right=f/s,e.bottom=g/q);a.Ag(b,x,C,E,F,G,z,D,e);a.Dg();a.scale(c,c);a.Xs(-this.O.Td());a.translate((this.O.ue+this.O.ve)/-2,(this.O.we+this.O.te)/-2);a.Jg();this.dm=this.i.tf}};var f=[];d.$y=function(a){f.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&f.push(b)};
var g=[];d.dz=function(c,d,e,f,g){if(c&&c.length)if(2>=f)b(d);else{if(100>=c.length&&-1===c.indexOf("\n")){var p=e.measureText(c).width;if(p<=f){b(d);d.push(a());d[0].text=c;d[0].width=p;return}}this.ez(c,d,e,f,g)}else b(d)};d.ez=function(b,c,d,e,n){n&&(this.$y(b),b=f);var p="",u,s,q,x=0;for(q=0;q<b.length;q++)"\n"===b[q]?(x>=c.length&&c.push(a()),s=c[x],s.text=p,s.width=d.measureText(p).width,x++,p=""):(u=p,p+=b[q],s=d.measureText(p).width,s>=e&&(x>=c.length&&c.push(a()),s=c[x],s.text=u,s.width=
d.measureText(u).width,x++,p=b[q],n||" "!==p||(p="")));p.length&&(x>=c.length&&c.push(a()),s=c[x],s.text=p,s.width=d.measureText(p).width,x++);for(q=x;q<c.length;q++)g.push(c[q]);c.length=x};d.L=new (r());c.prototype.Sy=function(a){da(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Jj=!0,this.i.cb=!0)};c.prototype.sn=function(a){this.mi!==a&&(this.mi=a,this.dp=Math.ceil(96*(this.mi/72))+4,this.ZC())};d.W=new c;d.Dc=new (r())})();function Yb(a){this.i=a}
(function(){var a=Yb.prototype;a.ub=function(a){this.sb=a;this.i=a.i};var b=a.ub.prototype;b.Ka=function(){this.ua||(this.Pa=new Image,this.Pa.idtkLoadDisposed=!0,this.Pa.src=this.mt,this.Pa.bv=this.nt,this.i.Ch.push(this.Pa),this.Sb=this.pattern=null)};b.To=function(){this.ua||(this.Sb=null)};b.Hs=function(){if(!this.ua&&this.A.length){this.Sb||(this.Sb=this.i.ea.Co(this.Pa,!0,this.i.Wb,this.ot));var a,b;a=0;for(b=this.A.length;a<b;a++)this.A[a].Sb=this.Sb}};b.Ur=function(){this.ua||this.Sb||!this.i.ea||
(this.Sb=this.i.ea.Co(this.Pa,!0,this.i.Wb,this.ot))};b.zt=function(){this.ua||this.A.length||!this.Sb||(this.i.ea.deleteTexture(this.Sb),this.Sb=null)};b.Os=function(a){a.drawImage(this.Pa,0,0)};a.mb=function(a){this.type=a;this.i=a.i};b=a.mb.prototype;b.Ka=function(){this.visible=0===this.Z[0];this.oi=new ma(0,0,0,0);this.Fv=!1;this.Pa=this.type.Pa;this.i.ea?(this.type.Ur(),this.Sb=this.type.Sb):(this.type.pattern||(this.type.pattern=this.i.nb.createPattern(this.type.Pa,"repeat")),this.pattern=
this.type.pattern)};b.Wj=function(){this.Fv=!1;this.Pa=this.type.Pa};b.Nk=function(){this.i.ea&&this.Fv&&this.Sb&&(this.i.ea.deleteTexture(this.Sb),this.Sb=null)};b.cg=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var b=this.x,e=this.y;this.i.yg&&(b=b+0.5|0,e=e+0.5|0);var f=-(this.Ud*this.width),g=-(this.Vd*this.height),h=f%this.Pa.width,k=g%this.Pa.height;0>h&&(h+=this.Pa.width);0>k&&(k+=this.Pa.height);a.translate(b,e);a.rotate(this.F);a.translate(h,k);a.fillRect(f-h,
g-k,this.width,this.height);a.restore()};b.df=function(a){a.Re(this.Sb);a.Dj(this.opacity);var b=this.oi;b.right=this.width/this.Pa.width;b.bottom=this.height/this.Pa.height;var e=this.wb;if(this.i.yg){var f=(this.x+0.5|0)-this.x,g=(this.y+0.5|0)-this.y;a.Ag(e.Xb+f,e.Yb+g,e.jd+f,e.kd+g,e.$c+f,e.bd+g,e.Yc+f,e.Zc+g,b)}else a.Ag(e.Xb,e.Yb,e.jd,e.kd,e.$c,e.bd,e.Yc,e.Zc,b)};a.L=new (r());a.W=new (r());a.Dc=new (r())})();function Zb(a){this.i=a}
(function(){function a(a){h=a.x;k=a.y;l=a.z}function b(a){m=a.x;n=a.y;p=a.z}function c(){}function d(){}var e=Zb.prototype;e.ub=function(a){this.sb=a;this.i=a.i};e.ub.prototype.Ka=r();e.mb=function(a){this.type=a;this.i=a.i;this.touches=[];this.ws=!1};var f=e.mb.prototype,g={left:0,top:0};f.Gl=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var h=0,k=0,l=0,m=0,n=0,p=0;f.Ka=function(){this.mk=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Ai=this.Mq=this.Lq=this.Gu=this.Fu=this.Eu=this.sz=this.rz=this.qz=this.Cm=this.Bm=this.Am=0;this.cD=0!==this.Z[0];var c=0<this.i.ge?document:this.i.canvas,d=document;this.i.Ef?d=c=window.Canvas:this.i.ig&&(d=c=window);var e=this;window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(a){e.nC(a)},!1),c.addEventListener("MSPointerMove",function(a){e.mC(a)},!1),d.addEventListener("MSPointerUp",function(a){e.xw(a)},!1),d.addEventListener("MSPointerCancel",function(a){e.xw(a)},
!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(c.addEventListener("touchstart",function(a){e.zw(a)},!1),c.addEventListener("touchmove",function(a){e.yw(a)},!1),d.addEventListener("touchend",function(a){e.Is(a)},!1),d.addEventListener("touchcancel",function(a){e.Is(a)},!1));if(this.mk){var f=function(a){a=a.reading;e.Eu=a.accelerationX;e.Fu=a.accelerationY;e.Gu=a.accelerationZ},
g=function(a){a=a.reading;e.Am=a.yawDegrees;e.Bm=a.pitchDegrees;e.Cm=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",g));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(h&&h.removeEventListener("readingchanged",
f),k&&k.removeEventListener("readingchanged",g)):(h&&h.addEventListener("readingchanged",f),k&&k.addEventListener("readingchanged",g))},!1)}else window.addEventListener("deviceorientation",function(a){e.Am=a.alpha||0;e.Bm=a.beta||0;e.Cm=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.qz=a.accelerationIncludingGravity.x,e.rz=a.accelerationIncludingGravity.y,e.sz=a.accelerationIncludingGravity.z);a.acceleration&&(e.Eu=a.acceleration.x,e.Fu=a.acceleration.y,
e.Gu=a.acceleration.z)},!1);this.cD&&!this.i.fd&&(jQuery(document).mousemove(function(a){e.Fs(a)}),jQuery(document).mousedown(function(a){e.Es(a)}),jQuery(document).mouseup(function(a){e.Gs(a)}));this.i.kk&&!this.i.Ef&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:!0});this.i.gj&&navigator.accelerometer.watchAcceleration(b,null,{frequency:40});this.i.WC(this)};f.mC=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.Gl(a.pointerId),
c=Ha();if(0<=b){var d=this.i.fd?g:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||(b.zo=b.time,b.$h=b.x,b.ai=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};f.nC=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.i.fd?g:jQuery(this.i.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=Ha();this.Ai=this.touches.length;this.touches.push({time:d,x:c,y:b,zo:d,$h:c,ai:b,id:a.pointerId,jt:this.Ai});this.i.trigger(Zb.prototype.L.hu,this);
this.i.trigger(Zb.prototype.L.dq,this);this.Lq=c;this.Mq=b;this.i.trigger(Zb.prototype.L.cq,this)}};f.xw=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Gl(a.pointerId),this.Ai=0<=a?this.touches[a].jt:-1,this.i.trigger(Zb.prototype.L.gu,this),this.i.trigger(Zb.prototype.L.iu,this),0<=a&&this.touches.splice(a,1))};f.yw=function(a){a.preventDefault&&a.preventDefault();var b=Ha(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],
f=this.Gl(e.identifier),0<=f){var h=this.i.fd?g:jQuery(this.i.canvas).offset();f=this.touches[f];2>b-f.time||(f.zo=f.time,f.$h=f.x,f.ai=f.y,f.time=b,f.x=e.pageX-h.left,f.y=e.pageY-h.top)}};f.zw=function(a){a.preventDefault&&a.preventDefault();var b=this.i.fd?g:jQuery(this.i.canvas).offset(),c=Ha(),d,e,f,h;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],h=this.Gl(f.identifier),-1===h){h=f.pageX-b.left;var k=f.pageY-b.top;this.Ai=this.touches.length;this.touches.push({time:c,x:h,
y:k,zo:c,$h:h,ai:k,id:f.identifier,jt:this.Ai});this.i.trigger(Zb.prototype.L.hu,this);this.i.trigger(Zb.prototype.L.dq,this);this.Lq=h;this.Mq=k;this.i.trigger(Zb.prototype.L.cq,this)}};f.Is=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Gl(d.identifier),0<=d&&(this.Ai=this.touches[d].jt,this.i.trigger(Zb.prototype.L.gu,this),this.i.trigger(Zb.prototype.L.iu,this),this.touches.splice(d,1))};f.zE=function(){return this.i.kk&&
0===this.Am&&0!==l?90*l:this.i.gj&&0===this.Am&&0!==p?90*p:this.Am};f.AE=function(){return this.i.kk&&0===this.Bm&&0!==k?-90*k:this.i.gj&&0===this.Bm&&0!==n?-90*n:this.Bm};f.CE=function(){return this.i.kk&&0===this.Cm&&0!==h?90*h:this.i.gj&&0===this.Cm&&0!==m?90*m:this.Cm};f.Es=function(a){a.preventDefault&&this.i.bj&&a.preventDefault();this.zw({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ws=!0};f.Fs=function(a){a.preventDefault&&this.i.bj&&a.preventDefault();this.ws&&this.yw({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]})};f.Gs=function(a){a.preventDefault&&this.i.bj&&a.preventDefault();this.i.bj=!0;this.Is({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ws=!1};f.pt=function(){var a,b,c,d=Ha();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.zo=d)};c.prototype.dq=w(!0);c.prototype.iu=w(!0);c.prototype.iy=function(){return this.touches.length};c.prototype.cq=function(a){return a?this.i.tx(a,this.Lq,this.Mq):!1};c.prototype.hu=function(a){a=Math.floor(a);
return a===this.Ai};c.prototype.gu=function(a){a=Math.floor(a);return a===this.Ai};e.L=new c;d.prototype.Bu=function(a,b){if(this.touches.length){var c,d,e,f,g;ca(b)?(c=this.i.ah(0),d=c.scale,e=c.yd,f=c.Pe,g=c.F,c.scale=this.i.Ra.scale,c.yd=1,c.Pe=1,c.F=this.i.Ra.F,a.fa(c.cd(this.touches[0].x,this.touches[0].y,!0)),c.scale=d,c.yd=e,c.Pe=f,c.F=g):(c=da(b)?this.i.ah(b):this.i.Nl(b))?a.fa(c.cd(this.touches[0].x,this.touches[0].y,!0)):a.fa(0)}else a.fa(0)};d.prototype.Cu=function(a,b){if(this.touches.length){var c,
d,e,f,g;ca(b)?(c=this.i.ah(0),d=c.scale,e=c.yd,f=c.Qe,g=c.F,c.scale=this.i.Ra.scale,c.yd=1,c.Qe=1,c.F=this.i.Ra.F,a.fa(c.cd(this.touches[0].x,this.touches[0].y,!1)),c.scale=d,c.yd=e,c.Qe=f,c.F=g):(c=da(b)?this.i.ah(b):this.i.Nl(b))?a.fa(c.cd(this.touches[0].x,this.touches[0].y,!1)):a.fa(0)}else a.fa(0)};e.Dc=new d})();function $b(a){this.i=a}
(function(){var a=$b.prototype;a.ub=function(a){this.sb=a;this.i=a.i};a.ub.prototype.Ka=r();a.mb=function(a){this.type=a;this.i=a.i};a.mb.prototype.Ka=r();a.L=new (r());a.W=new (r());a.Dc=new (r())})();function ac(a){this.i=a}
(function(){function a(){}var b=ac.prototype;b.ub=function(a){this.sb=a;this.i=a.i};b.ub.prototype.Ka=r();b.mb=function(a){this.type=a;this.i=a.i};var c=b.mb.prototype,d=!1;c.Ka=function(){this.mk=this.i.Qv;this.Cx=0;this.Ar=0!==this.Z[0];this.hx=0!==this.Z[1];this.jx=0!==this.Z[2];this.ix=0!==this.Z[3];this.gv=null;var a=this;if(this.mk){var b=Windows.ApplicationModel.Store;this.gv=this.Ar?b.CurrentAppSimulator:b.CurrentApp;this.Ar&&(new Windows.UI.Popups.MessageDialog("Note: this Windows 8 app is in Test Mode, designed for testing purchases. Before publishing, be sure to set Test Mode to 'No' in the Windows 8 object's properties.")).showAsync();
window.addEventListener("resize",function(){a.Cx=Windows.UI.ViewManagement.ApplicationView.value;a.i.trigger(ac.prototype.L.Jy,a)});Windows.Storage.ApplicationData.current.addEventListener("datachanged",function(){a.i.trigger(ac.prototype.L.yy,a)});Windows.ApplicationModel.DataTransfer.DataTransferManager.getForCurrentView().addEventListener("datarequested",function(b){d=!1;a.i.trigger(ac.prototype.L.Iy,a);d||b.request.failWithDisplayText("Try selecting a different option before sharing.")});this.gv.licenseInformation.addEventListener("licensechanged",
function(){a.i.trigger(ac.prototype.L.Gy,a)});(this.hx||this.jx||this.ix)&&WinJS.Application.addEventListener("settings",function(b){var c={};a.hx&&(c.about={title:"About",href:"/about.html"});a.jx&&(c.support={title:"Support",href:"/support.html"});a.ix&&(c.privacy={title:"Privacy Policy",href:"/privacy.html"});b.detail.applicationcommands=c;WinJS.UI.SettingsFlyout.populateSettings(b)});this.Ar&&Windows.ApplicationModel.Package.current.installedLocation.getFileAsync("WindowsStoreProxy.xml").done(function(a){Windows.ApplicationModel.Store.CurrentAppSimulator.reloadSimulatorAsync(a).done(function(){console.log("[Construct 2] Test mode; loaded WindowsStoreProxy.xml")},
function(a){console.log("[Construct 2] Error loading WindowsStoreProxy.xml: "+a)})},function(a){console.log("[Construct 2] Error loading WindowsStoreProxy.xml: "+a)})}};c.KE=function(){return this.mk?Windows.Storage.ApplicationData.current.roamingSettings.values:null};a.prototype.Jy=function(a){return this.mk?a===this.Cx:!1};a.prototype.Vx=function(a){return this.mk?Windows.UI.ViewManagement.ApplicationView.value===a:!1};a.prototype.yy=w(!0);a.prototype.Iy=w(!0);a.prototype.Gy=w(!0);b.L=new a;b.W=
new (r());b.Dc=new (r())})();function bc(a){this.i=a}
(function(){function a(){}var b=bc.prototype;b.ub=function(a){this.pb=a;this.i=a.i};b.ub.prototype.Ka=r();b.mb=function(a,b){this.type=a;this.pb=a.pb;this.N=b;this.i=a.i};var c=b.mb.prototype;c.Ka=function(){var a=this.Z[0];this.wn=this.Z[1];this.co=this.Z[2];this.Dz=0!==this.Z[3];this.bt=0!==this.Z[4];this.dd=Math.cos(this.N.F)*a;this.Cc=Math.sin(this.N.F)*a;this.$h=this.N.x;this.ai=this.N.y;this.kg=this.N.F;this.xp=0;this.enabled=0!==this.Z[5]};c.Nd=function(){return{acc:this.wn,g:this.co,dx:this.dd,
dy:this.Cc,lx:this.$h,ly:this.ai,lka:this.kg,t:this.xp,e:this.enabled}};c.je=function(a){this.wn=a.acc;this.co=a.g;this.dd=a.dx;this.Cc=a.dy;this.$h=a.lx;this.ai=a.ly;this.kg=a.lka;this.xp=a.t;this.enabled=a.e};c.Jc=function(){if(this.enabled){var a=this.i.Kl(this.N),b,c;this.N.F!==this.kg&&(this.bt&&(b=Da(0,0,this.dd,this.Cc),this.dd=Math.cos(this.N.F)*b,this.Cc=Math.sin(this.N.F)*b),this.kg=this.N.F);0!==this.wn&&(b=Da(0,0,this.dd,this.Cc),c=0===this.dd&&0===this.Cc?this.N.F:ya(0,0,this.dd,this.Cc),
b+=this.wn*a,0>b&&(b=0),this.dd=Math.cos(c)*b,this.Cc=Math.sin(c)*b);0!==this.co&&(this.Cc+=this.co*a);this.$h=this.N.x;this.ai=this.N.y;if(0!==this.dd||0!==this.Cc)if(this.N.x+=this.dd*a,this.N.y+=this.Cc*a,this.xp+=Da(0,0,this.dd*a,this.Cc*a),this.bt&&(this.N.F=ya(0,0,this.dd,this.Cc),this.N.Oa(),this.kg=this.N.F),this.N.Oa(),this.Dz&&(b=this.i.Hj(this.N)))this.i.Rw(this.N,b),b=Da(0,0,this.dd,this.Cc),c=this.i.Gz(this.N,this.$h,this.ai),this.dd=Math.cos(c)*b,this.Cc=Math.sin(c)*b,this.N.x+=this.dd*
a,this.N.y+=this.Cc*a,this.N.Oa(),this.bt&&(this.kg=this.N.F=c,this.N.Oa()),this.i.AC(this.N,this.dd/b,this.Cc/b,Math.max(2.5*b*a,30))||this.i.BC(this.N)}};b.L=new (r());a.prototype.lu=function(a){a=I(a);var b=Da(0,0,this.dd,this.Cc);this.dd=Math.cos(a)*b;this.Cc=Math.sin(a)*b};b.W=new a;b.Dc=new (r())})();function cc(a){this.i=a}
(function(){function a(){}var b=cc.prototype;b.ub=function(a){this.pb=a;this.i=a.i};b.ub.prototype.Ka=r();b.mb=function(a,b){this.type=a;this.pb=a.pb;this.N=b;this.i=a.i};var c=b.mb.prototype;c.Ka=function(){var a=1===this.Z[0];this.El=this.Z[1];this.Vm=this.Z[2];this.Vn=this.Z[3];this.Nz=this.Z[4];this.Se=a?0:3;this.se?this.qf.reset():this.qf=new Ja;this.wj=this.N.opacity?this.N.opacity:1;a&&(0===this.El?(this.Se=1,0===this.Vm&&(this.Se=2)):(this.N.opacity=0,this.i.cb=!0))};c.Nd=function(){return{fit:this.El,
wt:this.Vm,fot:this.Vn,s:this.Se,st:this.qf.Bb,mo:this.wj}};c.je=function(a){this.El=a.fit;this.Vm=a.wt;this.Vn=a.fot;this.Se=a.s;this.qf.reset();this.qf.Bb=a.st;this.wj=a.mo};c.Jc=function(){this.qf.add(this.i.Kl(this.N));0===this.Se&&(this.N.opacity=this.qf.Bb/this.El*this.wj,this.i.cb=!0,this.N.opacity>=this.wj&&(this.N.opacity=this.wj,this.Se=1,this.qf.reset()));1===this.Se&&this.qf.Bb>=this.Vm&&(this.Se=2,this.qf.reset());2===this.Se&&0!==this.Vn&&(this.N.opacity=this.wj-this.qf.Bb/this.Vn*this.wj,
this.i.cb=!0,0>this.N.opacity&&(this.N.opacity=0,this.Se=3,this.qf.reset(),this.i.trigger(cc.prototype.L.zy,this.N),1===this.Nz&&this.i.Og(this.N)))};c.xE=function(){this.Se=0;this.qf.reset();0===this.El?(this.Se=1,0===this.Vm&&(this.Se=2)):(this.N.opacity=0,this.i.cb=!0)};a.prototype.zy=w(!0);b.L=new a;b.W=new (r())})();function M(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)ba("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,c,d,e){this.type=b.ak;this.xb=new m;this.yb=new m;this.Uf=null;void 0!==a&&(this.J=a);void 0!==c&&(this.K=c);void 0!==d&&this.xb.D(d);void 0!==e&&this.yb.D(e);this.Jk=this.lw=this.At=this.as=this.Cg=0;this.bk=this.Wi=!1}function b(a){this.J=a.J;this.K=a.K;this.Uf=a.Uf;this.type=a.type;this.next=null}function c(a,
b){this.Ho=[];this.Hb=[];this.pj=[];this.kh=null;this.SB=[];this.ec=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.Mb=a;this.Gb=b;this.ZB=c}function f(a,b){var c=a.Uf;a.Uf=null;this.Ja=b;this.u=new k(a.position,l.Rj(a.F));this.mm=[];this.hm=a.Ae;a.type===f.ee&&(a.Cf=0);this.sc=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.ec,a);a.Uf=c}function g(a,b,c,d){this.km=a;this.gs=c;this.qh={};this.qh.Id=m.q(0,0);this.Ko=!1;this.Io=d.Cf;this.js=d.gg;this.um=
d.Eg;this.Ko=d.yr}function h(){}function k(a,b){this.position=m.q(0,0);this.n=new l;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.D(a),this.n.xf(b))}function l(){this.j=m.q(0,0);this.k=m.q(0,0);this.Hh()}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}Q=m;m.Rg=[];m.q=function(a,b){if(0<Q.Rg.length){var c=Q.Rg.pop();c.Set(a,b);return c}return new Q(a,b)};m.Kc=function(a){1E4>Q.Rg.length&&Q.Rg.push(a)};m.prototype.da=function(){this.y=this.x=0};m.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};m.prototype.D=function(a){this.x=a.x;this.y=a.y};m.KD=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return m.q(a,b)};m.prototype.nc=function(){return m.q(this.x,this.y)};m.prototype.Mg=function(a){this.x+=a.x;this.y+=a.y};m.prototype.qq=function(a){this.x-=a.x;this.y-=a.y};m.prototype.Bd=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};m.prototype.Yf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};m.prototype.pn=function(){return this.x*
this.x+this.y*this.y};m.prototype.Cd=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};R=l;l.Rj=function(a){void 0===a&&(a=0);var b=new l;b.Set(a);return b};l.Xf=function(a,b){var c=new l;c.mq(a,b);return c};l.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};l.prototype.mq=function(a,b){this.j.D(a);this.k.D(b)};l.prototype.nc=function(){var a=new l;
a.xf(this);return a};l.prototype.xf=function(a){this.j.D(a.j);this.k.D(a.k)};l.prototype.Wm=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};l.prototype.Hh=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};l.prototype.da=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};l.prototype.zd=function(){return Math.atan2(this.j.y,this.j.x)};l.prototype.Rp=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,e=this.k.y,f=b*e-c*d;0!==f&&(f=1/f);a.j.x=f*e;a.k.x=-f*c;a.j.y=
-f*d;a.k.y=f*b;return a};l.prototype.Ih=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,e=this.k.x,f=this.j.y,g=this.k.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};l.prototype.Lg=function(){this.j.Lg();this.k.Lg()};dc=k;k.prototype.ic=function(a,b){this.position.D(a);this.n.xf(b)};k.prototype.Hh=function(){this.position.da();this.n.Hh()};k.prototype.Set=function(a){this.position.D(a.position);this.n.xf(a.n)};k.prototype.qn=function(){return Math.atan2(this.n.j.y,
this.n.j.x)};T=h;h.on=function(a){void 0===a&&(a=0);return isFinite(a)};h.Jb=function(a,b){return a.x*b.x+a.y*b.y};h.Bi=function(a,b){return a.x*b.y-a.y*b.x};h.Ng=function(a,b){void 0===b&&(b=0);return m.q(b*a.y,-b*a.x)};h.Jp=function(a,b){void 0===a&&(a=0);return m.q(-a*b.y,a*b.x)};h.Zb=function(a,b){return m.q(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};h.Pg=function(a,b){return m.q(h.Jb(b,a.j),h.Jb(b,a.k))};h.yc=function(a,b){var c=h.Zb(a.n,b);c.x+=a.position.x;c.y+=a.position.y;return c};h.Wp=function(a,
b){var c=h.tb(b,a.position),d=c.x*a.n.j.x+c.y*a.n.j.y;c.y=c.x*a.n.k.x+c.y*a.n.k.y;c.x=d;return c};h.Zk=function(a,b){return m.q(a.x+b.x,a.y+b.y)};h.tb=function(a,b){return m.q(a.x-b.x,a.y-b.y)};h.$x=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};h.Qt=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};h.my=function(a,b){void 0===a&&(a=0);return m.q(a*b.x,a*b.y)};h.Px=function(a,b){return l.Xf(h.Zk(a.j,b.j),h.Zk(a.k,b.k))};h.ny=function(a,b){return l.Xf(h.Zb(a,b.j),h.Zb(a,b.k))};
h.oy=function(a,b){var c=m.q(h.Jb(a.j,b.j),h.Jb(a.k,b.j)),d=m.q(h.Jb(a.j,b.k),h.Jb(a.k,b.k));return l.Xf(c,d)};h.Lg=function(a){void 0===a&&(a=0);return 0<a?a:-a};h.Wk=function(a){return m.q(h.Lg(a.x),h.Lg(a.y))};h.Nx=function(a){return l.Xf(h.Wk(a.j),h.Wk(a.k))};h.$t=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};h.au=function(a,b){return m.q(h.$t(a.x,b.x),h.$t(a.y,b.y))};h.Yt=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};h.Zt=function(a,b){return m.q(h.Yt(a.x,
b.x),h.Yt(a.y,b.y))};h.Cb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};h.Sx=function(a,b,c){return h.Zt(b,h.au(a,c))};h.pE=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};h.YD=function(){return 2*Math.random()-1};h.ZD=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};h.QD=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};h.GD=function(a){void 0===
a&&(a=0);return 0<a&&0===(a&a-1)};h.Az=new m(0,0);h.zz=l.Xf(new m(1,0),new m(0,1));h.wE=new k(h.Az,h.zz);U=function(){this.position=m.q(0,0);this.Sr=m.q(0,0);this.Uf=null;this.F=0;this.Sr.Set(0,0);this.Mi=this.kj=this.Ku=0;this.Ou=this.Ju=!0;this.Qi=this.Wq=!1;this.type=f.ee;this.Ae=!0;this.Hv=1};fc=g;g.prototype.Ta=v("km");g.prototype.xc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");return null};g.prototype.Gi=v("Ko");gc=f;f.prototype.cn=function(a){var b=
a.Uf;a.Uf=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ja.ec,this.sc,a);a.Uf=b;a=new g(this,0,c,a);this.Ja.pj[c]=a;this.mm.push(a);return a};f.prototype.Qp=function(){return 0===this.mm.length?null:this.mm[0]};f.prototype.Pt=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ja.ec,a.gs);delete this.Ja.pj[a.gs]};f.prototype.rl=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",this.Ja.ec,this.sc,a.x,a.y,b);this.u.n.Set(b);this.u.position.D(a)};
f.prototype.lq=function(a){this.rl(a,this.zd())};f.prototype.Ci=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ja.ec,this.sc);return m.q(a[0],a[1])};f.prototype.Sj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ja.ec,this.sc);return m.q(a[0],a[1])};f.prototype.Di=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ja.ec,this.sc);return m.q(a[0],a[1])};f.prototype.od=function(a){return h.Wp(this.u,a)};f.prototype.pd=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",
this.Ja.ec,this.sc)};f.prototype.jn=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ja.ec,this.sc)};f.prototype.zc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.Ja.ec,this.sc,a)};f.prototype.Ii=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.Ja.ec,this.sc,a.x,a.y)};f.prototype.vf=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ja.ec,this.sc,a.x,a.y,b.x,b.y,c)};f.prototype.Xm=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",
this.Ja.ec,this.sc,a,b)};f.prototype.ql=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ja.ec,this.sc,a)};f.prototype.vu=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setType",this.Ja.ec,this.sc,a)};f.prototype.Fi=v("hm");f.prototype.zd=function(){return this.u.n.zd()};f.prototype.qn=function(a){void 0===a&&(a=0);this.rl(this.u.position,a)};f.prototype.Fh=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ja.ec,this.sc),b=[],c=0;c<a.length;c++)b.push(this.Ja.Ho[a[c]]);
return b};gc.ee=0;gc.Qu=1;gc.Ac=2;e.prototype.Up=v("ZB");hc=d;d.prototype.Ym=r();hc.Pu=new d;ic=r();jc=c;c.prototype.qu=aa("kh");c.prototype.pu=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.ec,function(c,d){return a.Ji(b.pj[c],b.pj[d])})};c.prototype.Ip=function(a){a=new f(a,this);return this.Ho[a.sc]=a};c.prototype.en=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.ec,a.sc);delete this.Ho[a.sc];for(var b=0;b<a.mm.length;++b)delete this.pj[a.mm[b].gs]};
c.prototype.dn=function(a){if(a.J.sc!==a.K.sc){var c=a.J,d=a.K;a.J=c.sc;a.K=d.sc;var e="createDistanceJoint";a.type===b.ak&&(e="createRevoluteJoint");var f=new b(a);f.RB=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.ec,a);a.J=c;a.K=d;this.SB.push(f);return f}};c.prototype.gn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",this.ec,a.RB)};c.prototype.Qg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.ec,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.Ho[c[a+0]];if(null===d)break;
d.u.position.Set(c[a+1],c[a+2]);d.u.n.Set(c[a+3])}if(null!==this.kh)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.ec),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.pj[c[a+0]],g=this.pj[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.kh.Ym(new e(f,g,d))}};c.prototype.Nt=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.ec)};kc=function(a){this.fp=a;this.type="circle"};V=r();V.prototype.rn=function(a,
b){this.type="box";this.width=a;this.height=b};V.prototype.nu=function(){this.type="edge"};V.prototype.iq=function(a,b){this.type="polygon";this.Mx=[];for(var c=0;c<b;c++)this.Mx.push(a[c].x),this.Mx.push(a[c].y)};lc=function(){this.Uf=this.shape=null;this.gg=0.2;this.Cf=this.Eg=0;this.yr=!1;this.filter={Zj:1,Ik:65535,Wh:0}};X=b;b.prototype.dl=v("J");b.prototype.Pp=v("K");b.prototype.Lc=v("type");b.Qq=0;b.ak=1;mc=function(a,c,d,e){this.type=b.Qq;this.xb=m.q(0,0);this.yb=m.q(0,0);this.Uf=null;void 0!==
a&&(this.J=a);void 0!==c&&(this.K=c);void 0!==d&&this.xb.D(d);void 0!==e&&this.yb.D(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.Nn=this.bo=0};a.prototype.ic=function(a,b,c){this.J=a;this.K=b;this.xb=this.J.od(c);this.yb=this.K.od(c);this.Cg=this.K.zd()-this.J.zd()};nc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var T={},oc=2/180*Math.PI,pc=8/180*Math.PI,qc=0.5*Math.PI,rc=qc*qc,sc=2/180*
Math.PI,tc=Number.MIN_VALUE*Number.MIN_VALUE;T.Jb=function(a,b){return a.x*b.x+a.y*b.y};T.Bi=function(a,b){return a.x*b.y-a.y*b.x};T.Ng=function(a,b){return Q.q(b*a.y,-b*a.x)};T.Jp=function(a,b){return Q.q(-a*b.y,a*b.x)};T.Zb=function(a,b){return Q.q(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};T.Pg=function(a,b){return Q.q(T.Jb(b,a.j),T.Jb(b,a.k))};T.yc=function(a,b){var c=T.Zb(a.n,b);c.x+=a.position.x;c.y+=a.position.y;return c};T.Wp=function(a,b){var c=T.tb(b,a.position),d=c.x*a.n.j.x+c.y*a.n.j.y;
c.y=c.x*a.n.k.x+c.y*a.n.k.y;c.x=d;return c};T.Zk=function(a,b){return Q.q(a.x+b.x,a.y+b.y)};T.tb=function(a,b){return Q.q(a.x-b.x,a.y-b.y)};T.$x=function(a,b){return Math.sqrt(T.Qt(a,b))};T.Qt=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};T.my=function(a,b){return Q.q(a*b.x,a*b.y)};T.Px=function(a,b){return R.Xf(T.Zk(a.j,b.j),T.Zk(a.k,b.k))};T.ny=function(a,b){return R.Xf(T.Zb(a,b.j),T.Zb(a,b.k))};T.oy=function(a,b){var c=Q.q(T.Jb(a.j,b.j),T.Jb(a.k,b.j)),d=Q.q(T.Jb(a.j,b.k),T.Jb(a.k,b.k));
return R.Xf(c,d)};T.Wk=function(a){return Q.q(Math.abs(a.x),Math.abs(a.y))};T.Nx=function(a){return R.Xf(T.Wk(a.j),T.Wk(a.k))};T.Cb=function(a,b,c){return a<b?b:a>c?c:a};T.Sx=function(a,b,c){return Q.q(T.Cb(a.x,b.x,c.x),T.Cb(a.y,b.y,c.y))};var R=function(){this.j=Q.q(0,0);this.k=Q.q(0,0);this.Hh()};R.Rj=function(a){var b=new R;b.Set(a);return b};R.Xf=function(a,b){var c=new R;c.mq(a,b);return c};B=R.prototype;B.Set=function(a){var b=Math.cos(a);a=Math.sin(a);this.j.Set(b,a);this.k.Set(-a,b)};B.mq=
function(a,b){this.j.D(a);this.k.D(b)};B.nc=function(){var a=new R;a.xf(this);return a};B.xf=function(a){this.j.D(a.j);this.k.D(a.k)};B.Wm=function(a){this.j.Mg(a.j);this.k.Mg(a.k)};B.Hh=function(){this.j.Set(1,0);this.k.Set(0,1)};B.da=function(){this.j.Set(0,0);this.k.Set(0,0)};B.zd=function(){return Math.atan2(this.j.y,this.j.x)};B.Rp=function(a){var b=this.j.x*this.k.y-this.k.x*this.j.y;0!==b&&(b=1/b);a.j.x=b*this.k.y;a.k.x=-b*this.k.x;a.j.y=-b*this.j.y;a.k.y=b*this.j.x;return a};B.Ih=function(a,
b,c){var d=this.j.x*this.k.y-this.k.x*this.j.y;0!==d&&(d=1/d);a.x=d*(this.k.y*b-this.k.x*c);a.y=d*(this.j.x*c-this.j.y*b);return a};B.Lg=function(){this.j.Lg();this.k.Lg()};var vc=function(a,b,c){this.j=new uc(0,0,0);this.k=new uc(0,0,0);this.ra=new uc(0,0,0);a&&this.j.D(a);b&&this.k.D(b);c&&this.ra.D(c)};B=vc.prototype;B.nc=function(){return new vc(this.j,this.k,this.ra)};B.xf=function(a){this.j.D(a.j);this.k.D(a.k);this.ra.D(a.ra)};B.Wm=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;
this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.ra.x+=a.ra.x;this.ra.y+=a.ra.y;this.ra.z+=a.ra.z};B.Hh=function(){this.j.Set(1,0,0);this.k.Set(0,1,0);this.ra.Set(0,0,1)};B.da=function(){this.j.Set(0,0,0);this.k.Set(0,0,0);this.ra.Set(0,0,0)};B.Uj=function(a,b,c){var d=this.j.x,e=this.k.x,f=this.j.y,g=this.k.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};B.tl=function(a,b,c,d){var e=this.j.x,f=this.j.y,g=this.j.z,h=this.k.x,k=this.k.y,l=this.k.z,m=this.ra.x,n=this.ra.y,p=
this.ra.z,u=e*(k*p-l*n)+f*(l*m-h*p)+g*(h*n-k*m);0!=u&&(u=1/u);a.x=u*(b*(k*p-l*n)+c*(l*m-h*p)+d*(h*n-k*m));a.y=u*(e*(c*p-d*n)+f*(d*m-b*p)+g*(b*n-c*m));a.z=u*(e*(k*d-l*c)+f*(l*b-h*d)+g*(h*c-k*b));return a};var wc=function(){this.M=Q.q(0,0);this.Oc=Q.q(0,0);this.r=Q.q(0,0)};wc.prototype.Set=function(a){this.M.D(a.M);this.Oc.D(a.Oc);this.r.D(a.r);this.We=a.We;this.I=a.I;this.xd=a.xd};wc.prototype.nc=function(){var a=new wc;a.M.D(this.M);a.Oc.D(this.Oc);a.r.D(this.r);a.We=this.We;a.I=this.I;a.xd=this.xd;
return a};wc.prototype.ae=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.Oc.x+b*this.r.x;a.position.y=(1-b)*this.Oc.y+b*this.r.y;a.n.Set((1-b)*this.We+b*this.I);var c=a.n;a.position.x-=c.j.x*this.M.x+c.k.x*this.M.y;a.position.y-=c.j.y*this.M.x+c.k.y*this.M.y};wc.prototype.Eh=function(a){void 0===a&&(a=0);if(this.xd<a&&1-this.xd>Number.MIN_VALUE){var b=(a-this.xd)/(1-this.xd);this.Oc.x=(1-b)*this.Oc.x+b*this.r.x;this.Oc.y=(1-b)*this.Oc.y+b*this.r.y;this.We=(1-b)*this.We+b*this.I;this.xd=a}};
var dc=function(a,b){this.position=Q.q(0,0);this.n=new R;a&&this.position.D(a);b&&this.n.xf(b)};dc.prototype.ic=function(a,b){this.position.D(a);this.n.xf(b)};dc.prototype.Hh=function(){this.position.da();this.n.Hh()};dc.prototype.Set=function(a){this.position.D(a.position);this.n.xf(a.n)};dc.prototype.zd=function(){return Math.atan2(this.n.j.y,this.n.j.x)};var Q=function(a,b){this.x=a;this.y=b};Q.Rg=[];Q.q=function(a,b){if(0<Q.Rg.length){var c=Q.Rg.pop();c.Set(a,b);return c}return new Q(a,b)};Q.Kc=
function(a){Q.Rg.push(a)};B=Q.prototype;B.da=function(){this.y=this.x=0};B.Set=function(a,b){this.x=a;this.y=b};B.D=function(a){this.x=a.x;this.y=a.y};B.Gh=function(){return Q.q(-this.x,-this.y)};B.bu=function(){this.x=-this.x;this.y=-this.y};B.nc=function(){return Q.q(this.x,this.y)};B.Mg=function(a){this.x+=a.x;this.y+=a.y};B.qq=function(a){this.x-=a.x;this.y-=a.y};B.Bd=function(a){this.x*=a;this.y*=a};B.Ng=function(a){var b=this.x;this.x=a*this.y;this.y=-a*b};B.Jp=function(a){var b=this.x;this.x=
-a*this.y;this.y=a*b};B.au=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};B.Zt=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};B.Lg=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};B.Yf=function(){return Math.sqrt(this.pn())};B.pn=function(){return this.x*this.x+this.y*this.y};B.Cd=function(){var a=this.Yf();if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};B.on=function(){return isFinite(this.x)&&isFinite(this.y)};var uc=
function(a,b,c){this.x=a;this.y=b;this.z=c};B=uc.prototype;B.da=function(){this.z=this.y=this.x=0};B.Set=function(a,b,c){this.x=a;this.y=b;this.z=c};B.D=function(a){this.x=a.x;this.y=a.y;this.z=a.z};B.Gh=function(){return new uc(-this.x,-this.y,-this.z)};B.bu=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};B.nc=function(){return new uc(this.x,this.y,this.z)};B.Mg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};B.qq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};B.Bd=function(a){this.x*=
a;this.y*=a;this.z*=a};var xc=function(){this.Za=0.005};B=xc.prototype;B.Ei=r();B.nc=r();B.Set=function(a){this.Za=a.Za};B.Qj=r();B.$k=r();B.bn=r();B.jq=r();var kc=function(a){this.Za=0.005;this.Za=a;this.Fk=a*a;this.ib=Q.q(0,0)};M(kc,xc);B=kc.prototype;B.Ei=function(){return kc.wf};B.nc=function(){var a=new kc(this.Za);a.Set(this);return a};B.Set=function(a){xc.prototype.Set.call(this,a);a instanceof kc&&this.ib.D(a.ib)};B.Qj=function(a,b){var c=b.n,d=b.position.x+(c.j.x*this.ib.x+c.k.x*this.ib.y),
c=b.position.y+(c.j.y*this.ib.x+c.k.y*this.ib.y);a.Da.Set(d-this.Za,c-this.Za);a.Ea.Set(d+this.Za,c+this.Za)};B.$k=function(a,b){a.vg=b*Math.PI*this.Fk;a.Vg.D(this.ib);a.Tj=a.vg*(0.5*this.Fk+(this.ib.x*this.ib.x+this.ib.y*this.ib.y))};B.bn=function(a,b,c,d){c=T.yc(c,this.ib);var e=-(T.Jb(a,c)-b);if(e<-this.Za+Number.MIN_VALUE)return 0;if(e>this.Za)return d.D(c),Math.PI*this.Fk;b=e*e;e=this.Fk*(Math.asin(e/this.Za)+Math.PI/2)+e*Math.sqrt(this.Fk-b);b=-2/3*Math.pow(this.Fk-b,1.5)/e;d.x=c.x+a.x*b;d.y=
c.y+a.y*b;return e};B.jq=function(a){a.H=[this.ib];a.ma=1;a.Za=this.Za};kc.wf="b2CircleShape";var yc=function(a,b){this.Za=0.005;this.na=a;this.Ia=b;this.oj=Q.q(this.Ia.x-this.na.x,this.Ia.y-this.na.y);this.ks=this.oj.Cd();this.xa=Q.q(this.oj.y,-this.oj.x);Q.q(-0.04*(this.xa.x-this.oj.x)+this.na.x,-0.04*(this.xa.y-this.oj.y)+this.na.y);Q.q(-0.04*(this.xa.x+this.oj.x)+this.Ia.x,-0.04*(this.xa.y+this.oj.y)+this.Ia.y);Q.q(-this.xa.x,-this.xa.y)};M(yc,xc);yc.prototype.Ei=w("b2EdgeShape");yc.prototype.Qj=
function(a,b){var c=b.n,d=b.position.x+(c.j.x*this.na.x+c.k.x*this.na.y),e=b.position.y+(c.j.y*this.na.x+c.k.y*this.na.y),f=b.position.x+(c.j.x*this.Ia.x+c.k.x*this.Ia.y),c=b.position.y+(c.j.y*this.Ia.x+c.k.y*this.Ia.y);d<f?(a.Da.x=d,a.Ea.x=f):(a.Da.x=f,a.Ea.x=d);e<c?(a.Da.y=e,a.Ea.y=c):(a.Da.y=c,a.Ea.y=e)};yc.prototype.$k=function(a){a.vg=0;a.Vg.D(this.na);a.Tj=0};yc.prototype.bn=function(a,b,c,d){void 0===b&&(b=0);var e=Q.q(a.x*b,a.y*b),f=T.yc(c,this.na);c=T.yc(c,this.Ia);var g=T.Jb(a,f)-b;a=T.Jb(a,
c)-b;if(0<g){if(0<a)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*c.x;f.y=-a/(g-a)*f.y+g/(g-a)*c.y}else 0<a&&(c.x=-a/(g-a)*f.x+g/(g-a)*c.x,c.y=-a/(g-a)*f.y+g/(g-a)*c.y);d.x=(e.x+f.x+c.x)/3;d.y=(e.y+f.y+c.y)/3;return 0.5*((f.x-e.x)*(c.y-e.y)-(f.y-e.y)*(c.x-e.x))};var zc=function(){this.vg=0;this.Vg=Q.q(0,0);this.Tj=0},V=function(){this.Za=0.005;this.Id=Q.q(0,0);this.H=[];this.ya=[]};M(V,xc);V.prototype.Ei=function(){return V.wf};V.prototype.nc=function(){var a=new V;a.Set(this);return a};V.prototype.Set=function(a){xc.prototype.Set.call(this,
a);if(a instanceof V){this.Id.D(a.Id);this.Ma=a.Ma;this.pl(this.Ma);for(var b=0;b<this.Ma;b++)this.H[b].D(a.H[b]),this.ya[b].D(a.ya[b])}};V.prototype.iq=function(a){this.ou(a)};V.kD=function(a){var b=new V;b.iq(a);return b};V.prototype.ou=function(a){var b=a.length;this.Ma=b;this.pl(b);for(b=b=0;b<this.Ma;b++)this.H[b].D(a[b]);for(b=0;b<this.Ma;++b)a=T.tb(this.H[b+1<this.Ma?b+1:0],this.H[b]),this.ya[b].D(T.Ng(a,1)),this.ya[b].Cd();this.Id=V.Yx(this.H,this.Ma)};V.oD=function(a){var b=new V;b.ou(a);
return b};V.prototype.rn=function(a,b){this.Ma=4;this.pl(4);this.H[0].Set(-a,-b);this.H[1].Set(a,-b);this.H[2].Set(a,b);this.H[3].Set(-a,b);this.ya[0].Set(0,-1);this.ya[1].Set(1,0);this.ya[2].Set(0,1);this.ya[3].Set(-1,0);this.Id.da()};V.lD=function(a,b){var c=new V;c.rn(a,b);return c};V.prototype.Qy=function(a,b,c,d){this.Ma=4;this.pl(4);this.H[0].Set(-a,-b);this.H[1].Set(a,-b);this.H[2].Set(a,b);this.H[3].Set(-a,b);this.ya[0].Set(0,-1);this.ya[1].Set(1,0);this.ya[2].Set(0,1);this.ya[3].Set(-1,0);
this.Id=c;a=new R;a.Set(d);c=new dc(c,a);for(d=0;d<this.Ma;++d)this.H[d]=T.yc(c,this.H[d]),this.ya[d]=T.Zb(c.n,this.ya[d])};V.nD=function(a,b,c,d){var e=new V;e.Qy(a,b,c,d);return e};V.prototype.nu=function(a,b){this.Ma=2;this.pl(2);this.H[0].D(a);this.H[1].D(b);this.Id.x=0.5*(a.x+b.x);this.Id.y=0.5*(a.y+b.y);this.ya[0]=T.Ng(T.tb(b,a),1);this.ya[0].Cd();this.ya[1].x=-this.ya[0].x;this.ya[1].y=-this.ya[0].y};V.mD=function(a,b){var c=new V;c.nu(a,b);return c};B=V.prototype;B.Qj=function(a,b){for(var c=
b.n,d=this.H[0],e=b.position.x+(c.j.x*d.x+c.k.x*d.y),f=b.position.y+(c.j.y*d.x+c.k.y*d.y),g=e,h=f,k=1;k<this.Ma;++k)var d=this.H[k],l=b.position.x+(c.j.x*d.x+c.k.x*d.y),d=b.position.y+(c.j.y*d.x+c.k.y*d.y),e=e<l?e:l,f=f<d?f:d,g=g>l?g:l,h=h>d?h:d;a.Da.x=e-this.Za;a.Da.y=f-this.Za;a.Ea.x=g+this.Za;a.Ea.y=h+this.Za};B.$k=function(a,b){if(2==this.Ma)a.Vg.x=0.5*(this.H[0].x+this.H[1].x),a.Vg.y=0.5*(this.H[0].y+this.H[1].y),a.vg=0,a.Tj=0;else{for(var c=0,d=0,e=0,f=0,g=1/3,h=0;h<this.Ma;++h)var k=this.H[h],
l=h+1<this.Ma?this.H[h+1]:this.H[0],m=k.x-0,n=k.y-0,p=l.x-0,u=l.y-0,s=m*u-n*p,q=0.5*s,e=e+q,c=c+q*g*(0+k.x+l.x),d=d+q*g*(0+k.y+l.y),k=m,f=f+s*(g*(0.25*(k*k+p*k+p*p)+(0*k+0*p))+0+(g*(0.25*(n*n+u*n+u*u)+(0*n+0*u))+0));a.vg=b*e;a.Vg.Set(c*(1/e),d*(1/e));a.Tj=b*f}};B.bn=function(a,b,c,d){var e=T.Pg(c.n,a),f=b-T.Jb(a,c.position),g=[],h=0,k=-1;b=-1;var l=!1;for(a=a=0;a<this.Ma;++a){g[a]=T.Jb(e,this.H[a])-f;var m=g[a]<-Number.MIN_VALUE;0<a&&(m?l||(k=a-1,h++):l&&(b=a-1,h++));l=m}switch(h){case 0:return l?
(a=new zc,this.$k(a,1),d.D(T.yc(c,a.Vg)),a.vg):0;case 1:-1==k?k=this.Ma-1:b=this.Ma-1}a=(k+1)%this.Ma;e=(b+1)%this.Ma;f=(0-g[k])/(g[a]-g[k]);g=(0-g[b])/(g[e]-g[b]);k=Q.q(this.H[k].x*(1-f)+this.H[a].x*f,this.H[k].y*(1-f)+this.H[a].y*f);b=Q.q(this.H[b].x*(1-g)+this.H[e].x*g,this.H[b].y*(1-g)+this.H[e].y*g);g=0;f=Q.q(0,0);for(h=this.H[a];a!=e;)a=(a+1)%this.Ma,l=a==e?b:this.H[a],m=0.5*((h.x-k.x)*(l.y-k.y)-(h.y-k.y)*(l.x-k.x)),g+=m,f.x+=m*(k.x+h.x+l.x)/3,f.y+=m*(k.y+h.y+l.y)/3,h=l;f.Bd(1/g);d.D(T.yc(c,
f));return g};B.jq=function(a){a.H=this.H;a.ma=this.Ma;a.Za=this.Za};B.mn=function(a){for(var b=0,c=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.Ma;++d){var e=this.H[d].x*a.x+this.H[d].y*a.y;e>c&&(b=d,c=e)}return b};B.gl=function(a){for(var b=0,c=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.Ma;++d){var e=this.H[d].x*a.x+this.H[d].y*a.y;e>c&&(b=d,c=e)}return this.H[b]};B.pl=function(a){this.H=[];this.ya=[];for(var b=this.H.length;b<a;b++)this.H[b]=Q.q(0,0),this.ya[b]=Q.q(0,0)};V.Yx=function(a,b){for(var c=
Q.q(0,0),d=0,e=1/3,f=0;f<b;++f){var g=a[f],h=f+1<b?a[f+1]:a[0],k=0.5*((g.x-0)*(h.y-0)-(g.y-0)*(h.x-0)),d=d+k;c.x+=k*e*(0+g.x+h.x);c.y+=k*e*(0+g.y+h.y)}c.x*=1/d;c.y*=1/d;return c};V.LE=new R;V.wf="b2PolygonShape";var Ac=function(){this.uq=this.tq=this.vq=this.Dd=0};B=Ac.prototype;B.Hi=function(a){this.Dd=a;this.vq=this.Dd&255;this.tq=(this.Dd&65280)>>8&255;this.uq=(this.Dd&16711680)>>16&255;this.Du=(this.Dd&4278190080)>>24&255};B.Set=function(a){this.Hi(a.Dd)};B.uu=function(a){this.vq=a;this.Dd=this.Dd&
4294967040|this.vq&255};B.ru=function(a){this.tq=a;this.Dd=this.Dd&4294902015|this.tq<<8&65280};B.su=function(a){this.uq=a;this.Dd=this.Dd&4278255615|this.uq<<16&16711680};B.Ry=function(a){this.Du=a;this.Dd=this.Dd&16777215|this.Du<<24&4278190080};B.nc=function(){var a=new Ac;a.Set(this);return a};var Bc=function(){this.Te=Q.q(0,0);this.id=new Ac};Bc.prototype.Set=function(a){this.Te.D(a.Te);this.id.Set(a.id)};var Cc=function(){this.Da=Q.q(0,0);this.Ea=Q.q(0,0)},Dc=[],Ec=function(){if(0<Dc.length){var a=
Dc.pop();a.da();return a}return new Cc};B=Cc.prototype;B.da=function(){this.Da.Set(0,0);this.Ea.Set(0,0)};B.on=function(){return 0>this.Ea.x-this.Da.x||0>this.Ea.y-this.Da.y?!1:this.Da.on()&&this.Ea.on()};B.cy=function(){return Q.q((this.Da.x+this.Ea.x)/2,(this.Da.y+this.Ea.y)/2)};B.Hp=function(a){var b;return b=(b=(b=(b=this.Da.x<=a.Da.x)&&this.Da.y<=a.Da.y)&&a.Ea.x<=this.Ea.x)&&a.Ea.y<=this.Ea.y};B.ul=function(a){return 0<a.Da.x-this.Ea.x||0<a.Da.y-this.Ea.y||0<this.Da.x-a.Ea.x||0<this.Da.y-a.Ea.y?
!1:!0};B.$m=function(a,b){this.Da.x=Math.min(a.Da.x,b.Da.x);this.Da.y=Math.min(a.Da.y,b.Da.y);this.Ea.x=Math.max(a.Ea.x,b.Ea.x);this.Ea.y=Math.max(a.Ea.y,b.Ea.y)};var Fc=function(a,b,c,d){var e=0,f=b[0].Te,g=b[1].Te,h=c.x*f.x+c.y*f.y-d;c=c.x*g.x+c.y*g.y-d;0>=h&&a[e++].Set(b[0]);0>=c&&a[e++].Set(b[1]);0>h*c&&(c=h/(h-c),d=a[e].Te,d.x=f.x+c*(g.x-f.x),d.y=f.y+c*(g.y-f.y),a[e].id=0<h?b[0].id:b[1].id,e++);return e},Gc=function(a,b,c,d,e){for(var f=b.n.j.x*a.ya[c].x+b.n.k.x*a.ya[c].y,g=b.n.j.y*a.ya[c].x+
b.n.k.y*a.ya[c].y,h=e.n.j.x*f+e.n.j.y*g,k=e.n.k.x*f+e.n.k.y*g,l=0,m=Number.MAX_VALUE,n=0;n<d.Ma;n++){var p=d.H[n].x*h+d.H[n].y*k;p<m&&(m=p,l=n)}return(e.position.x+(e.n.j.x*d.H[l].x+e.n.k.x*d.H[l].y)-(b.position.x+(b.n.j.x*a.H[c].x+b.n.k.x*a.H[c].y)))*f+(e.position.y+(e.n.j.y*d.H[l].x+e.n.k.y*d.H[l].y)-(b.position.y+(b.n.j.y*a.H[c].x+b.n.k.y*a.H[c].y)))*g},Lc=function(a,b,c,d){for(var e=d.position.x+(d.n.j.x*c.Id.x+d.n.k.x*c.Id.y),f=d.position.y+(d.n.j.y*c.Id.x+d.n.k.y*c.Id.y),e=e-(b.position.x+(b.n.j.x*
a.Id.x+b.n.k.x*a.Id.y)),f=f-(b.position.y+(b.n.j.y*a.Id.x+b.n.k.y*a.Id.y)),g=e*b.n.j.x+f*b.n.j.y,f=e*b.n.k.x+f*b.n.k.y,e=0,h=-Number.MAX_VALUE,k=0;k<a.Ma;++k){var l=a.ya[k].x*g+a.ya[k].y*f;l>h&&(h=l,e=k)}g=Gc(a,b,e,c,d);f=e-1;0>f&&(f=a.Ma-1);h=Gc(a,b,f,c,d);k=e+1;k>=a.Ma&&(k=0);var l=Gc(a,b,k,c,d),m=0,n=0;if(h>g&&h>l)for(m=f,n=h;;)if(e=m-1,0>e&&(e=a.Ma-1),g=Gc(a,b,e,c,d),g>n)m=e,n=g;else break;else if(l>g)for(m=k,n=l;;)if(e=m+1,e>=a.Ma&&(e=0),g=Gc(a,b,e,c,d),g>n)m=e,n=g;else break;else m=e,n=g;return{Ru:m,
mp:n}},Nc=function(a,b,c){var d=new Mc;d.My(b,c.uh,c.vp,c.vh,c.wp);for(var e=0;20>e;){for(var f=[],g=0;g<d.ma;g++)f[g]={},f[g].jc=d.H[g].jc,f[g].kc=d.H[g].kc;2==d.ma?d.Uy():3==d.ma&&d.Vy();if(3==d.ma)break;g=d.fy();if(g.pn()<tc)break;var h=g.Gh();d.H[d.ma].jc=c.uh.mn(T.Pg(c.vp.n,h));d.H[d.ma].md=T.yc(c.vp,c.uh.Wc(d.H[d.ma].jc));d.H[d.ma].kc=c.vh.mn(T.Pg(c.wp.n,g));d.H[d.ma].uf=T.yc(c.wp,c.vh.Wc(d.H[d.ma].kc));d.H[d.ma].Uc=T.tb(d.H[d.ma].uf,d.H[d.ma].md);Q.Kc(g);Q.Kc(h);e++;h=!1;for(g=0;g<f.length;g++)if(d.H[d.ma].jc==
f[g].jc&&d.H[d.ma].kc==f[g].kc){h=!0;break}if(h)break;d.ma++}d.gy(a.Of,a.Pf);a.Zg=T.tb(a.Of,a.Pf).Yf();d.fz(b);c.Jx&&(b=c.uh.Za,c=c.vh.Za,a.Zg>b+c&&a.Zg>Number.MIN_VALUE?(a.Zg-=b+c,d=T.tb(a.Pf,a.Of),d.Cd(),a.Of.x+=b*d.x,a.Of.y+=b*d.y,a.Pf.x-=c*d.x,a.Pf.y-=c*d.y,Q.Kc(d)):(c=Q.q(0,0),c.x=0.5*(a.Of.x+a.Pf.x),c.y=0.5*(a.Of.y+a.Pf.y),a.Of.x=a.Pf.x=c.x,a.Of.y=a.Pf.y=c.y,a.Zg=0,Q.Kc(c)))},Oc=r(),Pc=function(){this.Of=Q.q(0,0);this.Pf=Q.q(0,0);this.Zg=0},Qc=r();Qc.prototype.Set=function(a){a.jq(this)};Qc.prototype.mn=
function(a){for(var b=0,c=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.ma;d++){var e=this.H[d].x*a.x+this.H[d].y*a.y;e>c&&(b=d,c=e)}return b};Qc.prototype.gl=function(a){return this.H[this.mn(a)]};Qc.prototype.Wc=function(a){void 0===a&&(a=0);return this.H[a]};var Rc=function(){this.ug=null};B=Rc.prototype;B.al=function(a,b){var c=Sc(b);c.Ua.Da.x=a.Da.x-0.1;c.Ua.Da.y=a.Da.y-0.1;c.Ua.Ea.x=a.Ea.x+0.1;c.Ua.Ea.y=a.Ea.y+0.1;this.Wt(c);return c};B.bl=function(a){this.ju(a);a.Vc()};B.Vp=function(a,b,c){if(a.Ua.Hp(b))return!1;
this.ju(a);var d=0.1+2*Math.abs(c.x);c=0.1+2*Math.abs(c.y);a.Ua.Da.x=b.Da.x-d;a.Ua.Da.y=b.Da.y-c;a.Ua.Ea.x=b.Ea.x+d;a.Ua.Ea.y=b.Ea.y+c;this.Wt(a);return!0};B.el=function(a){return a.Ua};B.fq=function(a,b){if(null!==this.ug){var c=[];for(c.push(this.ug);0<c.length;){var d=c.pop();if(d.Ua.ul(b))if(d.Xt()){if(!a(d.ef))break}else c.push(d.fe),c.push(d.ag)}}};B.Wt=function(a){if(null===this.ug)this.ug=a,this.ug.parent=null;else{var b=this.by(a),c=b.parent,d=Sc();d.parent=c;d.Ua.$m(a.Ua,b.Ua);if(c)for(b.parent.fe==
b?c.fe=d:c.ag=d,d.fe=b,d.ag=a,b.parent=d,a.parent=d;c&&!c.Ua.Hp(d.Ua);)c.Ua.$m(c.fe.Ua,c.ag.Ua),d=c,c=c.parent;else d.fe=b,d.ag=a,b.parent=d,this.ug=a.parent=d}};B.by=function(a){a=a.Ua.cy();for(var b=this.ug;!b.Xt();)var c=b.fe,b=b.ag,d=Math.abs((c.Ua.Da.x+c.Ua.Ea.x)/2-a.x)+Math.abs((c.Ua.Da.y+c.Ua.Ea.y)/2-a.y),e=Math.abs((b.Ua.Da.x+b.Ua.Ea.x)/2-a.x)+Math.abs((b.Ua.Da.y+b.Ua.Ea.y)/2-a.y),b=d<e?c:b;Q.Kc(a);return b};B.ju=function(a){if(a==this.ug)this.ug=null;else{var b=a.parent,c=b.parent;a=b.fe==
a?b.ag:b.fe;if(c)for(c.fe==b?c.fe=a:c.ag=a,a.parent=c;c;){a=c.Ua;c.Ua.$m(c.fe.Ua,c.ag.Ua);if(a.Hp(c.Ua))break;c=c.parent}else this.ug=a,a.parent=null;b.Vc()}};var Tc=function(){this.rh=new Rc;this.No=[]};B=Tc.prototype;B.al=function(a,b){var c=this.rh.al(a,b);this.Mt(c);return c};B.bl=function(a){this.az(a);this.rh.bl(a)};B.Vp=function(a,b,c){this.rh.Vp(a,b,c)&&this.Mt(a)};B.ul=function(a,b){return this.rh.el(a).ul(this.rh.el(b))};B.el=function(a){return this.rh.el(a)};B.bz=function(a){for(var b=
[];0<this.No.length;){var c=this.No.pop();this.rh.fq(function(a){a!=c.ef&&b.push(new Uc(c.ef,a));return!0},this.rh.el(c))}for(var d=0;d<b.length;){var e=b[d];a(e.Il,e.Jl);for(d++;d<b.length;){var f=b[d];if(!(f.Il==e.Il&&f.Jl==e.Jl||f.Il==e.Jl&&f.Jl==e.Il))break;d++}}};B.fq=function(a,b){this.rh.fq(a,b)};B.Mt=function(a){this.No.push(a)};B.az=function(a){sa(this.No,a)};var Vc=function(a){this.Ua=Ec();this.ef=this.parent=this.ag=this.fe=null;"undefined"!=typeof a&&(this.ef=a)},Wc=[],Sc=function(a){if(0<
Wc.length){var b=Wc.pop();"undefined"!=typeof a&&(b.ef=a);b.Ua.da();return b}return new Vc(a)};Vc.prototype.Vc=function(){this.ef=this.parent=this.ag=this.fe=null;Wc.push(this)};Vc.prototype.Xt=function(){return null===this.fe};var Uc=function(a,b){this.Il=a;this.Jl=b},Yc=function(){this.Ha=this.cc=0;this.ka=[];for(var a=0;2>a;a++)this.ka[a]=new Xc;this.Rc=Q.q(0,0);this.wa=Q.q(0,0)};Yc.prototype.Mc=function(){for(var a=0;2>a;a++)this.ka[a].Mc();this.Rc.da();this.wa.da();this.cc=this.Ha=0};Yc.prototype.Set=
function(a){this.cc=a.cc;for(var b=0;2>b;b++)this.ka[b].Set(a.ka[b]);this.Rc.D(a.Rc);this.wa.D(a.wa);this.Ha=a.Ha};Yc.prototype.nc=function(){var a=new Yc;a.Set(this);return a};var Xc=function(){this.wa=Q.q(0,0);this.lf=new Ac;this.Mc()};Xc.prototype.Mc=function(){this.wa.da();this.vj=this.rj=0;this.lf.Hi(0)};Xc.prototype.Set=function(a){this.wa.D(a.wa);this.rj=a.rj;this.vj=a.vj;this.lf.Set(a.lf)};var Zc=function(){this.wa=Q.q(0,0);this.S=Q.q(0,0)};Zc.prototype.ic=function(a,b,c,d,e){this.gi=b;this.hi=
d;var f,g,h,k=h=g=0,l=0;d=b=0;var m,n,k=0;1==a.count?(this.Ha=$c,f=this.gi.Wc(a.jc[0]),a=this.hi.Wc(a.kc[0]),n=f,m=c.n,g=c.position.x+(m.j.x*n.x+m.k.x*n.y),h=c.position.y+(m.j.y*n.x+m.k.y*n.y),n=a,m=e.n,k=e.position.x+(m.j.x*n.x+m.k.x*n.y),l=e.position.y+(m.j.y*n.x+m.k.y*n.y),this.S.x=k-g,this.S.y=l-h,this.S.Cd()):(a.kc[0]==a.kc[1]?(this.Ha=ad,b=this.gi.Wc(a.jc[0]),d=this.gi.Wc(a.jc[1]),a=this.hi.Wc(a.kc[0]),this.wa.x=0.5*(b.x+d.x),this.wa.y=0.5*(b.y+d.y),this.S=T.Ng(T.tb(d,b),1),this.S.Cd(),n=this.S,
m=c.n,b=m.j.x*n.x+m.k.x*n.y,d=m.j.y*n.x+m.k.y*n.y,n=this.wa,m=c.n,g=c.position.x+(m.j.x*n.x+m.k.x*n.y),h=c.position.y+(m.j.y*n.x+m.k.y*n.y),n=a,m=e.n,k=e.position.x+(m.j.x*n.x+m.k.x*n.y),l=e.position.y+(m.j.y*n.x+m.k.y*n.y),k=(k-g)*b+(l-h)*d):a.jc[0]==a.jc[0]?(this.Ha=bd,g=this.hi.Wc(a.kc[0]),h=this.hi.Wc(a.kc[1]),f=this.gi.Wc(a.jc[0]),this.wa.x=0.5*(g.x+h.x),this.wa.y=0.5*(g.y+h.y),this.S=T.Ng(T.tb(h,g),1),this.S.Cd(),n=this.S,m=e.n,b=m.j.x*n.x+m.k.x*n.y,d=m.j.y*n.x+m.k.y*n.y,n=this.wa,m=e.n,k=e.position.x+
(m.j.x*n.x+m.k.x*n.y),l=e.position.y+(m.j.y*n.x+m.k.y*n.y),n=f,m=c.n,g=c.position.x+(m.j.x*n.x+m.k.x*n.y),h=c.position.y+(m.j.y*n.x+m.k.y*n.y),k=(g-k)*b+(h-l)*d):(b=this.gi.Wc(a.jc[0]),d=this.gi.Wc(a.jc[1]),g=this.hi.Wc(a.kc[0]),h=this.hi.Wc(a.kc[1]),k=T.Zb(c.n,T.tb(d,b)),l=T.Zb(e.n,T.tb(h,g)),e=k.x*k.x+k.y*k.y,c=l.x*l.x+l.y*l.y,f=T.tb(l,k),a=k.x*f.x+k.y*f.y,f=l.x*f.x+l.y*f.y,l=k.x*l.x+k.y*l.y,m=e*c-l*l,k=0,0!=m&&(k=T.Cb((l*f-a*c)/m,0,1)),0>(l*k+f)/c&&(k=T.Cb((l-a)/e,0,1)),f=Q.q(0,0),f.x=b.x+k*(d.x-
b.x),f.y=b.y+k*(d.y-b.y),a=Q.q(0,0),a.x=g.x+k*(h.x-g.x),a.y=g.y+k*(h.y-g.y),0==k||1==k?(this.Ha=bd,this.S=T.Ng(T.tb(h,g),1),this.S.Cd(),this.wa=a):(this.Ha=ad,this.S=T.Ng(T.tb(d,b),1),this.wa=f)),0>k&&this.S.bu())};Zc.prototype.Wf=function(a,b){var c,d,e=0;switch(this.Ha){case $c:c=T.Pg(a.n,this.S);d=T.Pg(b.n,this.S.Gh());c=this.gi.gl(c);d=this.hi.gl(d);c=T.yc(a,c);d=T.yc(b,d);e=(d.x-c.x)*this.S.x+(d.y-c.y)*this.S.y;break;case ad:e=T.Zb(a.n,this.S);c=T.yc(a,this.wa);d=T.Pg(b.n,e.Gh());d=this.hi.gl(d);
d=T.yc(b,d);e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case bd:e=T.Zb(b.n,this.S),d=T.yc(b,this.wa),c=T.Pg(a.n,e.Gh()),c=this.gi.gl(c),c=T.yc(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e};var $c=1,ad=2,bd=4,Mc=function(){this.na=new cd;this.Ia=new cd;this.ke=new cd;this.H=[this.na,this.Ia,this.ke]};B=Mc.prototype;B.My=function(a,b,c,d,e){var f,g;this.ma=a.count;for(var h=this.H,k=0;k<this.ma;k++){var l=h[k];l.jc=a.jc[k];l.kc=a.kc[k];f=b.Wc(l.jc);g=d.Wc(l.kc);l.md=T.yc(c,f);l.uf=T.yc(e,g);l.Uc=T.tb(l.uf,l.md);
l.I=0}1<this.ma&&(a=a.dC,f=this.Vt(),f<0.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.ma=0);0==this.ma&&(l=h[0],l.jc=0,l.kc=0,f=b.Wc(0),g=d.Wc(0),l.md=T.yc(c,f),l.uf=T.yc(e,g),l.Uc=T.tb(l.uf,l.md),this.ma=1)};B.fz=function(a){a.dC=this.Vt();a.count=this.ma;for(var b=this.H,c=0;c<this.ma;c++)a.jc[c]=b[c].jc,a.kc[c]=b[c].kc};B.fy=function(){if(1==this.ma)return this.na.Uc.Gh();if(2==this.ma){var a=T.tb(this.Ia.Uc,this.na.Uc);return 0<T.Bi(a,this.na.Uc.Gh())?T.Jp(1,a):T.Ng(a,1)}return Q.q(0,0)};B.gy=function(a,
b){1==this.ma?(a.D(this.na.md),b.D(this.na.uf)):2==this.ma?(a.x=this.na.I*this.na.md.x+this.Ia.I*this.Ia.md.x,a.y=this.na.I*this.na.md.y+this.Ia.I*this.Ia.md.y,b.x=this.na.I*this.na.uf.x+this.Ia.I*this.Ia.uf.x,b.y=this.na.I*this.na.uf.y+this.Ia.I*this.Ia.uf.y):3==this.ma&&(b.x=a.x=this.na.I*this.na.md.x+this.Ia.I*this.Ia.md.x+this.ke.I*this.ke.md.x,b.y=a.y=this.na.I*this.na.md.y+this.Ia.I*this.Ia.md.y+this.ke.I*this.ke.md.y)};B.Vt=function(){return 1==this.ma?0:2==this.ma?T.tb(this.na.Uc,this.Ia.Uc).Yf():
3==this.ma?T.Bi(T.tb(this.Ia.Uc,this.na.Uc),T.tb(this.ke.Uc,this.na.Uc)):0};B.Uy=function(){var a=this.na.Uc,b=this.Ia.Uc,c=T.tb(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.ma=this.na.I=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.ma=this.Ia.I=1,this.na.Set(this.Ia)):(c=1/(b+a),this.na.I=b*c,this.Ia.I=a*c,this.ma=2))};B.Vy=function(){var a=this.na.Uc,b=this.Ia.Uc,c=this.ke.Uc,d=T.tb(b,a),e=T.Jb(b,d),f=-T.Jb(a,d),g=T.tb(c,a),h=T.Jb(c,g),k=-T.Jb(a,g),l=T.tb(c,b),m=T.Jb(c,l),l=-T.Jb(b,l),g=T.Bi(d,g),d=g*T.Bi(b,c),c=g*T.Bi(c,
a),a=g*T.Bi(a,b);0>=f&&0>=k?this.ma=this.na.I=1:0<e&&0<f&&0>=a?(h=1/(e+f),this.na.I=e*h,this.Ia.I=f*h,this.ma=2):0<h&&0<k&&0>=c?(e=1/(h+k),this.na.I=h*e,this.ke.I=k*e,this.ma=2,this.Ia.Set(this.ke)):0>=e&&0>=l?(this.ma=this.Ia.I=1,this.na.Set(this.Ia)):0>=h&&0>=m?(this.ma=this.ke.I=1,this.na.Set(this.ke)):0<m&&0<l&&0>=d?(e=1/(m+l),this.Ia.I=m*e,this.ke.I=l*e,this.ma=2,this.na.Set(this.ke)):(e=1/(d+c+a),this.na.I=d*e,this.Ia.I=c*e,this.ke.I=a*e,this.ma=3)};var dd=function(){this.jc=[0,0,0];this.kc=
[0,0,0]},cd=r();cd.prototype.Set=function(a){this.md.D(a.md);this.uf.D(a.uf);this.Uc.D(a.Uc);this.I=a.I;this.jc=a.jc;this.kc=a.kc};var ed=function(){this.uh=new Qc;this.vh=new Qc;this.ox=new wc;this.qx=new wc},fd=function(){this.xa=Q.q(0,0);this.ka=[];for(var a=this.cc=0;2>a;a++)this.ka[a]=Q.q(0,0)};fd.prototype.ic=function(a,b,c,d,e){if(0!=a.cc){var f=0,g,h,k=0,l=0,m=0,n=0,p=0;g=0;switch(a.Ha){case 1:h=b.n;g=a.wa;f=b.position.x+h.j.x*g.x+h.k.x*g.y;b=b.position.y+h.j.y*g.x+h.k.y*g.y;h=d.n;g=a.ka[0].wa;
a=d.position.x+h.j.x*g.x+h.k.x*g.y;d=d.position.y+h.j.y*g.x+h.k.y*g.y;g=a-f;h=d-b;k=g*g+h*h;k>tc?(k=Math.sqrt(k),this.xa.x=g/k,this.xa.y=h/k):(this.xa.x=1,this.xa.y=0);g=b+c*this.xa.y;d-=e*this.xa.y;this.ka[0].x=0.5*(f+c*this.xa.x+(a-e*this.xa.x));this.ka[0].y=0.5*(g+d);break;case 2:h=b.n;g=a.Rc;k=h.j.x*g.x+h.k.x*g.y;l=h.j.y*g.x+h.k.y*g.y;h=b.n;g=a.wa;m=b.position.x+h.j.x*g.x+h.k.x*g.y;n=b.position.y+h.j.y*g.x+h.k.y*g.y;this.xa.x=k;this.xa.y=l;for(f=0;f<a.cc;f++)h=d.n,g=a.ka[f].wa,p=d.position.x+
h.j.x*g.x+h.k.x*g.y,g=d.position.y+h.j.y*g.x+h.k.y*g.y,this.ka[f].x=p+0.5*(c-(p-m)*k-(g-n)*l-e)*k,this.ka[f].y=g+0.5*(c-(p-m)*k-(g-n)*l-e)*l;break;case 4:for(h=d.n,g=a.Rc,k=h.j.x*g.x+h.k.x*g.y,l=h.j.y*g.x+h.k.y*g.y,h=d.n,g=a.wa,m=d.position.x+h.j.x*g.x+h.k.x*g.y,n=d.position.y+h.j.y*g.x+h.k.y*g.y,this.xa.x=-k,this.xa.y=-l,f=0;f<a.cc;f++)h=b.n,g=a.ka[f].wa,p=b.position.x+h.j.x*g.x+h.k.x*g.y,g=b.position.y+h.j.y*g.x+h.k.y*g.y,this.ka[f].x=p+0.5*(e-(p-m)*k-(g-n)*l-c)*k,this.ka[f].y=g+0.5*(e-(p-m)*k-
(g-n)*l-c)*l}}};var gc=function(a,b){this.Ad="Body"+gc.Xp++;this.u=new dc;this.u.position.D(a.position);this.u.n.Set(a.F);this.m=new wc;this.m.M.da();this.m.xd=1;this.m.We=this.m.I=a.F;this.m.r.x=this.u.n.j.x*this.m.M.x+this.u.n.k.x*this.m.M.y;this.m.r.y=this.u.n.j.y*this.m.M.x+this.u.n.k.y*this.m.M.y;this.m.r.x+=this.u.position.x;this.m.r.y+=this.u.position.y;this.m.Oc.D(this.m.r);this.p=a.Sr.nc();this.pg=Q.q(0,0);this.zk=a.Qi;this.MB=a.Wq;this.cs=a.Ju;this.ds=a.Ou;this.hm=a.Ae;this.Ja=b;this.Hb=
null;this.Ed=new gd;this.Ti=new hd;this.C=a.Ku;this.TB=a.kj;this.HB=a.Mi;this.vm=this.ii=0;this.Ha=a.type;this.P=this.Ha==U.Ac?1:0;this.G=this.Ha==U.Ac?1:0;this.R=this.jf=0;this.QB=a.Hv;this.fk=new id;this.Bk=[]};B=gc.prototype;B.cn=function(a){a=new fc(this,this.u,a);this.hm&&a.al(this.Ja.Jd.yk,this.u);this.fk.Ox(a);a.km=this;0<a.Io&&this.hq();this.Ja.qs=!0;return a};B.Vc=function(){Q.Kc(this.p);Q.Kc(this.pg)};B.Pt=function(a){this.fk.Ny(a);for(var b=this.Ed.Ga(jd);b;b=b.next)a!=b.oc.Mb&&a!=b.oc.Gb||
this.Ja.Jd.Vc(b.oc);this.hm&&a.bl(this.Ja.Jd.yk);a.Vc();a.km=null;this.hq()};B.rl=function(a,b){this.u.n.Set(b);this.u.position.D(a);var c=this.u.n,d=this.m.M;this.m.r.x=c.j.x*d.x+c.k.x*d.y;this.m.r.y=c.j.y*d.x+c.k.y*d.y;this.m.r.x+=this.u.position.x;this.m.r.y+=this.u.position.y;this.m.Oc.D(this.m.r);this.m.We=this.m.I=b;c=this.Ja.Jd.yk;for(d=this.fk.Ga();d;d=d.next)d.ef.xu(c,this.u,this.u);this.Ja.Jd.hn()};B.ae=v("u");B.lq=function(a){this.rl(a,this.zd())};B.zd=function(){return this.m.I};B.qn=
function(a){this.rl(this.u.position,a)};B.Sj=function(){return this.m.r};B.Di=function(){return this.m.M};B.Ii=function(a){this.Ha!=U.ee&&this.p.D(a)};B.Ci=v("p");B.ql=function(a){void 0===a&&(a=0);this.Ha!=U.ee&&(this.C=a)};B.jn=v("C");B.vf=function(a,b){this.Ha==U.Ac&&(this.zc(!0),this.pg.x+=a.x,this.pg.y+=a.y,this.ii+=(b.x-this.m.r.x)*a.y-(b.y-this.m.r.y)*a.x)};B.Xm=function(a){void 0===a&&(a=0);this.Ha==U.Ac&&(this.zc(!0),this.ii+=a)};B.Ut=function(a){a||(a=new zc);a.vg=this.P;a.Tj=this.jf;a.Vg.D(this.m.M);
return a};B.hq=function(){this.R=this.jf=this.G=this.P=0;this.m.M.da();if(this.Ha!=U.ee&&this.Ha!=U.Qu){for(var a=Q.q(0,0),b=this.fk.Ga();b;b=b.next){var c=b.ef;0!=c.Io&&(c=c.Ut(),this.P+=c.vg,a.x+=c.Vg.x*c.vg,a.y+=c.Vg.y*c.vg,this.jf+=c.Tj)}0<this.P?(this.G=1/this.P,a.x*=this.G,a.y*=this.G):this.G=this.P=1;0<this.jf&&!this.MB?(this.jf-=this.P*(a.x*a.x+a.y*a.y),this.jf*=this.QB,this.R=1/this.jf):this.R=this.jf=0;b=this.m.r.nc();this.m.M.D(a);this.m.Oc.D(T.yc(this.u,this.m.M));this.m.r.D(this.m.Oc);
this.p.x+=this.C*-(this.m.r.y-b.y);this.p.y+=this.C*+(this.m.r.x-b.x);Q.Kc(a);Q.Kc(b)}};B.nn=function(a){var b=this.u.n;a=Q.q(b.j.x*a.x+b.k.x*a.y,b.j.y*a.x+b.k.y*a.y);a.x+=this.u.position.x;a.y+=this.u.position.y;return a};B.Tp=function(a){return T.Zb(this.u.n,a)};B.od=function(a){return T.Wp(this.u,a)};B.Sp=function(a){return T.Pg(this.u.n,a)};B.ey=function(a){return Q.q(this.p.x-this.C*(a.y-this.m.r.y),this.p.y+this.C*(a.x-this.m.r.x))};B.vu=function(a){if(this.Ha!=a){this.Ha=a;this.hq();this.Ha==
U.ee&&(this.p.da(),this.C=0);this.zc(!0);this.pg.da();this.ii=0;for(a=this.Ed.Ga(jd);a;a=a.next)a.oc.Op();for(a=0;a<this.Bk.length;a++)this.Bk[a].rq(this)}};B.Lc=v("Ha");B.zc=function(a){if(this.ds!=a)for(this.ds=a,this.vm=0,a||(this.p.da(),this.C=0,this.pg.da(),this.ii=0),a=0;a<this.Bk.length;a++)this.Bk[a].rq(this)};B.pd=v("ds");B.Fi=v("hm");B.Qp=v("fk");B.Xk=function(a){this.Ti.Xk(a)};B.ol=function(a){this.Ti.ol(a)};B.Fh=v("Ed");B.yu=function(){var a=gc.LC;a.n.Set(this.m.We);var b=a.n,c=this.m.M;
a.position.x=this.m.Oc.x-(b.j.x*c.x+b.k.x*c.y);a.position.y=this.m.Oc.y-(b.j.y*c.x+b.k.y*c.y);b=this.Ja.Jd.yk;for(c=this.fk.Ga();c;c=c.next)c.ef.xu(b,a,this.u)};B.Kb=function(){this.u.n.Set(this.m.I);var a=this.u.n,b=this.m.M;this.u.position.x=this.m.r.x-(a.j.x*b.x+a.k.x*b.y);this.u.position.y=this.m.r.y-(a.j.y*b.x+a.k.y*b.y)};B.Ji=function(a){if(this.Ha!=U.Ac&&a.Ha!=U.Ac)return!1;for(var b=this.Hb;b;b=b.next)if(b.Oe==a&&!1==b.gh.dw)return!1;return!0};B.Eh=function(a){this.m.Eh(a);this.m.r.D(this.m.Oc);
this.m.I=this.m.We;this.Kb()};gc.Xp=0;var U=function(){this.position=Q.q(0,0);this.Sr=Q.q(0,0);this.Mi=this.kj=this.Ku=this.F=0;this.Ou=this.Ju=!0;this.Qi=this.Wq=!1;this.type=U.ee;this.Ae=!0;this.Hv=1};U.ee=0;U.Qu=1;U.Ac=2;var ld=function(){this.Cn=[];for(var a=0;a<=kd;a++)this.Cn[a]=null;this.Dn=[];for(a=0;a<=kd;a++)this.Dn[a]=null;this.Xj={}};B=ld.prototype;B.Ga=function(a){return this.Cn[a]};B.Oj=function(a){var b=a.Ad;null==this.Xj[b]&&(this.Vf(a,b,kd),this.rq(a),a.Bk.push(this))};B.rq=function(a){var b=
a.Lc(),c=a.Ad,d=a.pd(),e=a.Fi();b==U.Ac?this.Vf(a,c,md):this.Zf(c,md);b!=U.ee?this.Vf(a,c,nd):this.Zf(c,nd);b!=U.ee&&e&&d?this.Vf(a,c,od):this.Zf(c,od);d?this.Vf(a,c,pd):this.Zf(c,pd);e?this.Vf(a,c,qd):this.Zf(c,qd)};B.nl=function(a){var b=a.Ad;if(null!=this.Xj[b]){sa(a.Bk,this);for(a=0;a<=kd;a++)this.Zf(b,a);delete this.Xj[b]}};B.Zf=function(a,b){var c=this.Xj[a];if(null!=c){var d=c[b];null!=d&&(c[b]=null,c=d.pf,d=d.next,null==c?this.Cn[b]=d:c.yf(d),null==d?this.Dn[b]=c:d.zf(c))}};B.Vf=function(a,
b,c){var d=this.Xj[b];if(null==d){for(var d=[],e=0;e<=kd;e++)d[e]=null;this.Xj[b]=d}null==d[c]&&(d[c]=new rd(a),a=this.Dn[c],null!=a?a.yf(d[c]):this.Cn[c]=d[c],d[c].zf(a),this.Dn[c]=d[c])};var md=0,nd=1,qd=2,od=3,pd=4,kd=5,rd=function(a){this.body=a;this.pf=this.next=null};rd.prototype.yf=aa("next");rd.prototype.zf=aa("pf");rd.prototype.Ta=v("body");var ic=r();ic.prototype.Ji=function(a,b){var c=a.Tt(),d=b.Tt();return c.Wh==d.Wh&&0!=c.Wh?0<c.Wh:0!=(c.Ik&d.Zj)&&0!=(c.Zj&d.Ik)};ic.Bz=new ic;var sd=
function(){this.gC=[];this.UC=[]},hc=r();hc.prototype.Ym=r();var ud=function(a){this.Ja=a;this.es=ic.Bz;this.kh=hc.Pu;this.ew=new td;this.yk=new Tc};ud.prototype.Qx=function(a,b){var c=a.Ta(),d=b.Ta();if(c!=d&&d.Ji(c)&&this.es.Ji(a,b)){for(c=d.Ed.Ga(jd);c;c=c.next)if(d=c.oc.Mb,d==a){if(d=c.oc.Gb,d==b)return}else if(d==b&&(d=c.oc.Gb,d==a))return;this.ew.Ue(a,b)}};ud.prototype.hn=function(){var a=this;this.yk.bz(function(b,c){a.Qx(b,c)})};ud.prototype.Vc=function(a){0<a.Me.cc&&(a.Mb.Ta().zc(!0),a.Gb.Ta().zc(!0));
a.Oy();this.ew.Vc(a)};ud.prototype.Ux=function(){for(var a=this.Ja.Ed.Ga(jd);a;a=a.next){var b=a.oc,c=b.Mb,d=b.Gb,e=c.Ta(),f=d.Ta();if(!1!=e.pd()||!1!=f.pd()){if(b.Yn){if(!1==f.Ji(e)){this.Vc(b);continue}if(!1==this.es.Ji(c,d)){this.Vc(b);continue}b.Tx()}!1==this.yk.ul(c.sj,d.sj)?this.Vc(b):b.zu(this.kh)}}};var vd=function(){this.Zj=1;this.Ik=65535;this.Wh=0};vd.prototype.nc=function(){var a=new vd;a.Zj=this.Zj;a.Ik=this.Ik;a.Wh=this.Wh;return a};var fc=function(a,b,c){this.Ad="Fixture"+fc.Xp++;this.LB=
c.filter.nc();this.nj=Ec();this.km=a;this.qh=c.shape.nc();this.Io=c.Cf;this.js=c.gg;this.um=c.Eg;this.Ko=c.yr};B=fc.prototype;B.xc=v("qh");B.Gi=v("Ko");B.Tt=function(){return this.LB.nc()};B.Ta=v("km");B.Ut=function(a){a||(a=new zc);this.qh.$k(a,this.Io);return a};B.Vc=function(){Dc.push(this.nj)};B.al=function(a,b){this.qh.Qj(this.nj,b);this.sj=a.al(this.nj,this)};B.bl=function(a){null!=this.sj&&(a.bl(this.sj),this.sj=null)};B.xu=function(a,b,c){if(this.sj){var d=Ec(),e=Ec();this.qh.Qj(d,b);this.qh.Qj(e,
c);this.nj.$m(d,e);Dc.push(d);Dc.push(e);b=T.tb(c.position,b.position);a.Vp(this.sj,this.nj,b);Q.Kc(b)}};fc.Xp=0;var lc=function(){this.filter=new vd;this.filter.Zj=1;this.filter.Ik=65535;this.filter.Wh=0;this.shape=null;this.gg=0.2;this.Cf=this.Eg=0;this.yr=!1},id=function(){this.Yq=this.Xq=null;this.Zn={}};id.prototype.Ga=v("Xq");id.prototype.Ox=function(a){var b=a.Ad;if(null==this.Zn[b]){a=new wd(a);var c=this.Yq;null!=c?c.yf(a):this.Xq=a;a.zf(c);this.Yq=a;this.Zn[b]=a}};id.prototype.Ny=function(a){a=
a.Ad;var b=this.Zn[a];if(null!=b){var c=b.pf,b=b.next;null==c?this.Xq=b:c.yf(b);null==b?this.Yq=c:b.zf(c);delete this.Zn[a]}};var wd=function(a){this.ef=a;this.pf=this.next=null};wd.prototype.yf=aa("next");wd.prototype.zf=aa("pf");var xd=function(a,b){this.UB=a;this.Kf=b;this.mg=[];this.Jo=[];this.fi=[];this.lh=[];this.ud=[]};B=xd.prototype;B.Zm=function(){this.mg=[];this.Jo=[];this.fi=[];this.lh=[];this.ud=[]};B.Ih=function(a,b,c){this.jz(a,b);this.Kf.ic(a,this.lh,this.lh.length);this.pz(a);this.lz(a);
this.mz(a);this.ku(this.Kf.ng);c&&this.kz(a)};B.jz=function(a,b){for(var c=0;c<this.Jo.length;c++){var d=this.Jo[c];d.p.x+=a.Ca*(b.x+d.G*d.pg.x);d.p.y+=a.Ca*(b.y+d.G*d.pg.y);d.C+=a.Ca*d.R*d.ii;d.p.Bd(T.Cb(1-a.Ca*d.TB,0,1));d.C*=T.Cb(1-a.Ca*d.HB,0,1)}};B.pz=function(a){this.Kf.Ve(a);for(var b=0;b<this.ud.length;b++)this.ud[b].Ve(a);for(b=0;b<a.Tm;b++){for(var c=0;c<this.ud.length;c++)this.ud[c].ze(a);this.Kf.ze()}for(a=0;a<this.ud.length;a++)this.ud[a].Np();this.Kf.Np()};B.lz=function(a){for(var b=
0;b<this.fi.length;++b){var c=this.fi[b],d=a.Ca*c.p.x,e=a.Ca*c.p.y;4<d*d+e*e&&(c.p.Cd(),c.p.x=2*c.p.x*a.eh,c.p.y=2*c.p.y*a.eh);d=a.Ca*c.C;d*d>rc&&(c.C=0>c.C?-qc*a.eh:qc*a.eh);c.m.Oc.D(c.m.r);c.m.We=c.m.I;c.m.r.x+=a.Ca*c.p.x;c.m.r.y+=a.Ca*c.p.y;c.m.I+=a.Ca*c.C;c.Kb()}};B.mz=function(a){for(var b=0;b<a.Fm;b++){for(var c=this.Kf.ye(0.2),d=!0,e=0;e<this.ud.length;e++)var f=this.ud[e].ye(0.2),d=d&&f;if(c&&d)break}};B.kz=function(a){for(var b=Number.MAX_VALUE,c=0;c<this.fi.length;c++){var d=this.fi[c];
!d.cs||Math.abs(d.C)>sc||1E-4<T.Jb(d.p,d.p)?b=d.vm=0:(d.vm+=a.Ca,b=Math.min(b,d.vm))}if(0.5<=b)for(a=0;a<this.mg.length;a++)this.mg[a].zc(!1)};B.oq=function(a){var b=0,c=0;this.Kf.ic(a,this.lh,this.lh.length);for(var d=this.Kf,b=0;b<this.ud.length;++b)this.ud[b].Ve(a);for(b=0;b<a.Tm;++b)for(d.ze(),c=0;c<this.ud.length;++c)this.ud[c].ze(a);for(b=0;b<this.fi.length;++b){var c=this.fi[b],e=a.Ca*c.p.x,f=a.Ca*c.p.y;4<e*e+f*f&&(c.p.Cd(),c.p.x=2*c.p.x*a.eh,c.p.y=2*c.p.y*a.eh);e=a.Ca*c.C;e*e>rc&&(c.C=0>c.C?
-qc*a.eh:qc*a.eh);c.m.Oc.D(c.m.r);c.m.We=c.m.I;c.m.r.x+=a.Ca*c.p.x;c.m.r.y+=a.Ca*c.p.y;c.m.I+=a.Ca*c.C;c.Kb()}for(b=0;b<a.Fm;++b){e=d.ye(0.75);f=!0;for(c=0;c<this.ud.length;++c)var g=this.ud[c].ye(0.2),f=f&&g;if(e&&f)break}this.ku(d.ng)};B.ku=function(a){if(null!=this.UB)for(var b=0;b<this.lh.length;++b)for(var c=a[b],d=new sd,e=0;e<c.of;++e)d.gC[e]=c.hc[e].fc,d.UC[e]=c.hc[e].Ig};B.Oj=function(a){this.mg.push(a);a.Lc()!=U.ee&&(this.fi.push(a),a.Lc()==U.Ac&&this.Jo.push(a))};B.Pj=function(a){this.lh.push(a)};
B.Jt=function(a){this.ud.push(a)};var yd=function(a,b,c,d,e){this.Ca=a;var f=0;0<a&&(f=1/a);this.eh=f;this.pc=b;this.Fm=c;this.Tm=d;this.Dh=e},jc=function(a,b){this.Jd=new ud(this);this.Kf=new zd;this.qs=!1;this.Nc=new ld;this.Ed=new gd;this.Hb=null;this.Ti=new hd;this.Lo=0;this.JB=this.$B=!0;this.cs=b;this.fw=a;this.gw=0;this.PB=this.Ip(new U)};jc.ky=1-100*Number.MIN_VALUE;B=jc.prototype;B.pu=function(a){this.Jd.es=a};B.qu=function(a){this.Jd.kh=a};B.Ip=function(a){a=new gc(a,this);this.Nc.Oj(a);
return a};B.en=function(a){for(var b=a.Hb;b;){var c=b,b=b.next;this.gn(c.gh)}for(b=a.Ti.Ga();b;b=b.next)b.av.nl(a);for(b=a.Ed.Ga(jd);b;b=b.next)this.Jd.Vc(b.oc);for(b=a.Qp().Ga();b;b=b.next)a.Pt(b.ef);a.Vc();this.Nc.nl(a)};B.dn=function(a){var b=X.Ue(a);b.Ck=null;if(b.ei=this.Hb)this.Hb.Ck=b;this.Hb=b;this.Lo++;b.Kd.gh=b;b.Kd.Oe=b.U;b.Kd.prev=null;if(b.Kd.next=b.T.Hb)b.T.Hb.prev=b.Kd;b.T.Hb=b.Kd;b.Ld.gh=b;b.Ld.Oe=b.T;b.Ld.prev=null;if(b.Ld.next=b.U.Hb)b.U.Hb.prev=b.Ld;b.U.Hb=b.Ld;var c=a.J,d=a.K;
if(!a.Dq)for(a=d.Ed.Ga(jd);a;a=a.next)a.oc.ln(d)==c&&a.oc.Op();return b};B.gn=function(a){var b=a.dw;a.Ck&&(a.Ck.ei=a.ei);a.ei&&(a.ei.Ck=a.Ck);a==this.Hb&&(this.Hb=a.ei);var c=a.T,d=a.U;c.zc(!0);d.zc(!0);a.Kd.prev&&(a.Kd.prev.next=a.Kd.next);a.Kd.next&&(a.Kd.next.prev=a.Kd.prev);a.Kd==c.Hb&&(c.Hb=a.Kd.next);a.Kd.prev=null;a.Kd.next=null;a.Ld.prev&&(a.Ld.prev.next=a.Ld.next);a.Ld.next&&(a.Ld.next.prev=a.Ld.prev);a.Ld==d.Hb&&(d.Hb=a.Ld.next);a.Ld.prev=null;a.Ld.next=null;this.Lo--;if(!b)for(a=d.Ed.Ga(jd);a;a=
a.next)a.oc.ln(d)==c&&a.oc.Op()};B.Xk=function(a){if(null!==a.Ja&&a.Ja!=this)throw Error("Controller can only be a member of one world");this.Ti.Xk(a);a.Ja=this;return a};B.ol=function(a){this.Ti.ol(a);a.Ja=null;a.Zm()};B.Qg=function(a,b,c){this.qs&&(this.Jd.hn(),this.qs=!1);a=new yd(a,this.gw*a,b,c,this.$B);this.Jd.Ux();0<a.Ca&&(this.Ih(a),this.JB&&this.oq(a),this.gw=a.eh)};B.Nt=function(){for(var a=this.Nc.Ga(md);a;a=a.next)a.body.pg.da(),a.body.ii=0};B.Fh=v("Ed");var Ad=[];jc.prototype.Ih=function(a){for(var b=
this.Ti.Ga();b;b=b.next)b.av.Qg(a);for(var b=new xd(this.Jd.kh,this.Kf),c=this.Nc.Ga(kd);c;c=c.next)c.body.zb=!1;for(var d=this.Ed.Ga(jd);d;d=d.next)d.oc.zb=!1;for(c=this.Hb;c;c=c.ei)c.zb=!1;for(c=this.Nc.Ga(od);c;c=c.next)if(d=c.body,!d.zb){b.Zm();Ad.length=0;var e=Ad;e.push(d);for(d.zb=!0;0<e.length;){var f=e.pop();b.Oj(f);f.pd()||f.zc(!0);if(f.Lc()!=U.ee){for(d=f.Ed.Ga(Bd);d;d=d.next){var g=d.oc;g.zb||(b.Pj(g),g.zb=!0,g=g.ln(f),g.zb||(e.push(g),g.zb=!0))}for(d=f.Hb;d;d=d.next)!d.gh.zb&&d.Oe.Fi()&&
(b.Jt(d.gh),d.gh.zb=!0,d.Oe.zb||(e.push(d.Oe),d.Oe.zb=!0))}}b.Ih(a,this.fw,this.cs)}for(c=this.Nc.Ga(od);c;c=c.next)c.body.yu();this.Jd.hn()};jc.prototype.oq=function(a){for(var b=new xd(this.Jd.kh,this.Kf),c=this.Nc.Ga(kd);c;c=c.next){var d=c.body;d.zb=!1;d.m.xd=0}for(var e=this.Ed.Ga(jd);e;e=e.next)e.oc.zb=!1,e.oc.Gk=null;for(c=this.Hb;c;c=c.ei)c.zb=!1;for(;;){var c=this.nz(),f=c.eC,c=c.fC;if(null===f||jc.ky<c)break;e=f.Mb.Ta();d=f.Gb.Ta();jc.Uw.Set(e.m);jc.Vw.Set(d.m);e.Eh(c);d.Eh(c);f.zu(this.Jd.kh);
f.Gk=null;if(f.lp||!f.enabled)e.m.Set(jc.Uw),d.m.Set(jc.Vw),e.Kb(),d.Kb();else if(f.Qm){e.Lc()!=U.Ac&&(e=d);b.Zm();Ad.length=0;f=Ad;f.push(e);for(e.zb=!0;0<f.length;)if(d=f.pop(),b.Oj(d),d.pd()||d.zc(!0),d.Lc()==U.Ac){for(e=d.Ed.Ga(Bd);e&&32!=b.IB;e=e.next){var g=e.oc;g.zb||(b.Pj(g),g.zb=!0,g=g.ln(d),g.zb||(g.Lc()!=U.ee&&(g.Eh(c),g.zc(!0),f.push(g)),g.zb=!0))}for(d=d.Hb;d;d=d.next)32!=b.Lo&&!d.gh.zb&&d.Oe.Fi()&&(b.Jt(d.gh),d.gh.zb=!0,d.Oe.zb||(d.Oe.Lc()!=U.ee&&(d.Oe.Eh(c),d.Oe.zc(!0),f.push(d.Oe)),
d.Oe.zb=!0))}b.oq(new yd((1-c)*a.Ca,0,a.Tm,a.Fm,!1));for(c=0;c<b.mg.length;c++)if(b.mg[c].zb=!1,b.mg[c].pd()&&b.mg[c].Lc()==U.Ac)for(b.mg[c].yu(),e=b.mg[c].Ed.Ga(jd);e;e=e.next)e.oc.Gk=null;for(c=0;c<b.IB;c++)b.lh[c].zb=!1,b.lh[c].Gk=null;for(c=0;c<b.Lo;c++)b.ud[c].zb=!1;this.Jd.hn()}}};jc.prototype.nz=function(){for(var a=null,b=1,c=this.Ed.Ga(Cd);c;c=c.next){var d=c.oc;if(!this.oz(d)){var e=1;if(null!=d.Gk)e=d.Gk;else{if(d.Qm)e=1;else{var e=d.Mb.Ta(),f=d.Gb.Ta(),g=e.m.xd;e.m.xd<f.m.xd?(g=f.m.xd,
e.m.Eh(g)):f.m.xd<e.m.xd&&(g=e.m.xd,f.m.Eh(g));e=d.Zx(e.m,f.m);0<e&&1>e&&(e=(1-e)*g+e)}d.Gk=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}}return{eC:a,fC:b}};jc.prototype.oz=function(a){var b=a.Mb.Ta();a=a.Gb.Ta();return b.Lc()==U.Ac&&b.pd()||a.Lc()==U.Ac&&a.pd()?!1:!0};var Ed=function(a,b){this.Ad="Contact"+Dd++;this.Me=new Yc;this.rm=new Yc;this.Qm=!1;var c=a.Ta(),d=b.Ta();this.Eq=c.Lc()!=U.Ac||c.zk||d.Lc()!=U.Ac||d.zk;this.lp=a.Gi()||b.Gi();this.Yn=!1;this.Mb=a;this.Gb=b;this.enabled=!0;this.An=c.Fh();
this.Bn=d.Fh();this.Gp=d.Ja.Fh();this.Kt()};B=Ed.prototype;B.Mc=function(a,b){this.Me.Mc();this.rm.Mc();this.Qm=!1;var c=a.Ta(),d=b.Ta();this.Eq=c.Lc()!=U.Ac||c.zk||d.Lc()!=U.Ac||d.zk;this.lp=a.Gi()||b.Gi();this.Yn=!1;this.Mb=a;this.Gb=b;this.enabled=!0;this.An=c.Fh();this.Bn=d.Fh();this.Gp=d.Ja.Fh();this.Kt()};B.Kt=function(){this.An.Pj(this);this.Bn.Pj(this);this.Gp.Pj(this);this.Au()};B.Au=function(){var a=!1,b=!1;!this.Gi()&&this.enabled&&(this.Up()&&(a=!0),this.Eq&&(b=!0));this.An.sq(this,a,
b);this.Bn.sq(this,a,b);this.Gp.sq(this,a,b)};B.Oy=function(){this.An.gq(this);this.Bn.gq(this);this.Gp.gq(this)};B.Up=v("Qm");B.Gi=v("lp");B.ln=function(a){var b=this.Mb.Ta();return b!=a?b:this.Gb.Ta()};B.Op=function(){this.Yn=!0};B.Tx=function(){this.Yn=!1};B.zu=function(a){var b=this.rm;this.rm=this.Me;this.Me=b;this.enabled=!0;var c=!1,b=this.Up(),d=this.Mb.Ta(),e=this.Gb.Ta(),f=this.Mb.nj.ul(this.Gb.nj);if(this.lp){if(f){var c=this.Mb.xc(),d=d.ae(),f=this.Gb.xc(),g=e.ae(),e=new Oc;e.uh=new Qc;
e.uh.Set(c);e.vh=new Qc;e.vh.Set(f);e.vp=d;e.wp=g;e.Jx=!0;d=new dd;d.count=0;c=new Pc;Nc(c,d,e);c=c.Zg<10*Number.MIN_VALUE}this.Me.cc=0}else{this.Eq=d.Lc()!=U.Ac||d.zk||e.Lc()!=U.Ac||e.zk?!0:!1;if(f)for(this.Wf(),c=0<this.Me.cc,f=0;f<this.Me.cc;f++){g=this.Me.ka[f];g.rj=0;for(var h=g.vj=0;h<this.rm.cc;h++){var k=this.rm.ka[h];if(k.lf.Dd==g.lf.Dd){g.rj=k.rj;g.vj=k.vj;break}}}else this.Me.cc=0;c!=b&&(d.zc(!0),e.zc(!0))}this.Qm=c;c!=b&&this.Au();!b&&c&&a.Ym(this)};B.Wf=r();B.Zx=function(a,b){Fd.uh.Set(this.Mb.xc());
Fd.vh.Set(this.Gb.xc());Fd.ox=a;Fd.qx=b;Fd.XC=0.005;var c=Fd;Gd++;var d=c.uh,e=c.vh,f=c.ox,g=c.qx,h=d.Za+e.Za,c=c.XC,k=0,l=0,m=0;Hd.count=0;for(Id.Jx=!1;;){f.ae(Nd,k);g.ae(Od,k);Id.uh=d;Id.vh=e;Id.vp=Nd;Id.wp=Od;Nc(Pd,Hd,Id);if(0>=Pd.Zg){k=1;break}Qd.ic(Hd,d,Nd,e,Od);var n=Qd.Wf(Nd,Od);if(0>=n){k=1;break}0==l&&(m=n>h?Math.max(h-c,0.75*h):Math.max(n-c,0.02*h));if(n-m<0.5*c){if(0==l){k=1;break}break}var p=k,u=k,s=1;f.ae(Nd,s);g.ae(Od,s);var q=Qd.Wf(Nd,Od);if(q>=m){k=1;break}for(var x=0;;){var C=0,C=
x&1?u+(m-n)*(s-u)/(q-n):0.5*(u+s);f.ae(Nd,C);g.ae(Od,C);var D=Qd.Wf(Nd,Od);if(Math.abs(D-m)<0.025*c){p=C;break}D>m?(u=C,n=D):(s=C,q=D);x++;Rd++;if(50==x)break}Sd=Math.max(Sd,x);if(p<(1+100*Number.MIN_VALUE)*k)break;k=p;l++;Td++;if(1E3==l)break}Ud=Math.max(Ud,l);return k};var Fd=new ed,Dd=0,Vd=function(a,b){Ed.call(this,a,b)};M(Vd,Ed);Vd.prototype.Mc=function(a,b){Ed.prototype.Mc.call(this,a,b)};Vd.prototype.Wf=function(){var a=this.Me,b=this.Mb.xc(),c=this.Mb.Ta().u,d=this.Gb.xc(),e=this.Gb.Ta().u;
a.cc=0;var f=e.position.x+(e.n.j.x*d.ib.x+e.n.k.x*d.ib.y)-(c.position.x+(c.n.j.x*b.ib.x+c.n.k.x*b.ib.y)),c=e.position.y+(e.n.j.y*d.ib.x+e.n.k.y*d.ib.y)-(c.position.y+(c.n.j.y*b.ib.x+c.n.k.y*b.ib.y)),e=b.Za+d.Za;f*f+c*c>e*e||(a.Ha=1,a.wa.D(b.ib),a.Rc.da(),a.cc=1,a.ka[0].wa.D(d.ib),a.ka[0].lf.Hi(0))};var Xd=function(){this.lg=Q.q(0,0);this.ac=Q.q(0,0);this.vd=Q.q(0,0);this.sh=new R;this.be=new R;this.hc=[];for(var a=0;2>a;a++)this.hc[a]=new Wd},Wd=function(){this.ac=Q.q(0,0);this.Qb=Q.q(0,0);this.Rb=
Q.q(0,0)};Wd.prototype.Mc=function(){this.ac.Set(0,0);this.Qb.Set(0,0);this.Rb.Set(0,0)};var td=function(){this.Mf={};this.mh={};this.Yk(Vd,kc.wf,kc.wf);this.Yk(Yd,V.wf,kc.wf);this.Yk(Zd,V.wf,V.wf);this.Yk($d,"b2EdgeShape",kc.wf);this.Yk(ae,V.wf,"b2EdgeShape")};td.prototype.Yk=function(a,b,c){this.mh[b]=this.mh[b]||{};this.mh[b][c]=this.mh[b][c]||[];this.Mf[b]=this.Mf[b]||{};this.Mf[b][c]=new be;this.Mf[b][c].dv=a;this.Mf[b][c].Lw=!0;b!=c&&(this.Mf[c]=this.Mf[c]||{},this.Mf[c][b]=new be,this.Mf[c][b].dv=
a,this.Mf[c][b].Lw=!1)};td.prototype.Ue=function(a,b){var c=a.xc().Ei(),d=b.xc().Ei(),e=this.Mf[c][d],f=e.dv;return null!=f?e.Lw?0<this.mh[c][d].length?(c=this.mh[c][d].pop(),c.Mc(a,b),c):new f(a,b):0<this.mh[d][c].length?(c=this.mh[d][c].pop(),c.Mc(b,a),c):new f(b,a):null};td.prototype.Vc=function(a){var b=a.Mb.xc().Ei(),c=a.Gb.xc().Ei();this.mh[b][c].push(a)};var gd=function(){this.Hn=[];for(var a=0;a<=jd;a++)this.Hn[a]=null;this.In=[];for(a=0;a<=jd;a++)this.In[a]=null;this.Si={}};B=gd.prototype;
B.Ga=function(a){return this.Hn[a]};B.Pj=function(a){var b=a.Ad;if(null==this.Si[b]){this.Si[b]=[];for(var c=0;c<=jd;c++)this.Si[b][c]=null;this.Vf(a,b,jd)}};B.sq=function(a,b,c){b?this.Vf(a,a.Ad,Bd):this.Zf(a.Ad,Bd);c?this.Vf(a,a.Ad,Cd):this.Zf(a.Ad,Cd)};B.gq=function(a){a=a.Ad;if(null!=this.Si[a]){for(var b=0;b<=jd;b++)this.Zf(a,b);delete this.Si[a]}};B.Zf=function(a,b){var c=this.Si[a];if(null!=c){var d=c[b];if(null!=d){c[b]=null;var c=d.pf,e=d.next;null==c?this.Hn[b]=e:c.yf(e);null==e?this.In[b]=
c:e.zf(c);ce.push(d)}}};B.Vf=function(a,b,c){b=this.Si[b];if(null==b[c]){if(0<ce.length){var d=ce.pop();d.next=null;d.pf=null;d.oc=a;a=d}else a=new de(a);b[c]=a;a=this.In[c];null!=a?(a.yf(b[c]),b[c].zf(a)):this.Hn[c]=b[c];this.In[c]=b[c]}};var Bd=0,Cd=1,jd=2,de=function(a){this.oc=a;this.pf=this.next=null},ce=[];de.prototype.yf=aa("next");de.prototype.zf=aa("pf");var be=r(),ee=function(){this.xa=Q.q(0,0);this.Po=[];this.ka=[];for(var a=0;2>a;a++)this.ka[a]=Q.q(0,0)};ee.prototype.ic=function(a){switch(a.type){case 1:this.gz(a);
break;case 2:this.hz(a);break;case 4:this.iz(a)}};ee.prototype.gz=function(a){var b=a.J.u.n,c=a.ac,d=a.J.u.position.x+(b.j.x*c.x+b.k.x*c.y),e=a.J.u.position.y+(b.j.y*c.x+b.k.y*c.y),b=a.K.u.n,c=a.hc[0].ac,f=a.K.u.position.x+(b.j.x*c.x+b.k.x*c.y),b=a.K.u.position.y+(b.j.y*c.x+b.k.y*c.y),c=f-d,g=b-e,h=c*c+g*g;h>tc?(h=Math.sqrt(h),this.xa.x=c/h,this.xa.y=g/h):(this.xa.x=1,this.xa.y=0);this.ka[0].x=0.5*(d+f);this.ka[0].y=0.5*(e+b);this.Po[0]=c*this.xa.x+g*this.xa.y-a.fp};ee.prototype.hz=function(a){this.xa.x=
a.J.u.n.j.x*a.lg.x+a.J.u.n.k.x*a.lg.y;this.xa.y=a.J.u.n.j.y*a.lg.x+a.J.u.n.k.y*a.lg.y;for(var b=a.J.u.position.x+(a.J.u.n.j.x*a.ac.x+a.J.u.n.k.x*a.ac.y),c=a.J.u.position.y+(a.J.u.n.j.y*a.ac.x+a.J.u.n.k.y*a.ac.y),d=0;d<a.of;d++){var e=a.K.u.position.x+(a.K.u.n.j.x*a.hc[d].ac.x+a.K.u.n.k.x*a.hc[d].ac.y),f=a.K.u.position.y+(a.K.u.n.j.y*a.hc[d].ac.x+a.K.u.n.k.y*a.hc[d].ac.y);this.Po[d]=(e-b)*this.xa.x+(f-c)*this.xa.y-a.fp;this.ka[d].x=e;this.ka[d].y=f}};ee.prototype.iz=function(a){this.xa.x=a.K.u.n.j.x*
a.lg.x+a.K.u.n.k.x*a.lg.y;this.xa.y=a.K.u.n.j.y*a.lg.x+a.K.u.n.k.y*a.lg.y;for(var b=a.K.u.position.x+(a.K.u.n.j.x*a.ac.x+a.K.u.n.k.x*a.ac.y),c=a.K.u.position.y+(a.K.u.n.j.y*a.ac.x+a.K.u.n.k.y*a.ac.y),d=0;d<a.of;d++){var e=a.J.u.position.x+(a.J.u.n.j.x*a.hc[d].ac.x+a.J.u.n.k.x*a.hc[d].ac.y),f=a.J.u.position.y+(a.J.u.n.j.y*a.hc[d].ac.x+a.J.u.n.k.y*a.hc[d].ac.y);this.Po[d]=(e-b)*this.xa.x+(f-c)*this.xa.y-a.fp;this.ka[d].Set(e,f)}this.xa.x*=-1;this.xa.y*=-1};var zd=function(){this.ng=[]};B=zd.prototype;
B.ic=function(a,b,c){for(this.lm=c;this.ng.length<this.lm;)this.ng[this.ng.length]=new Xd;for(a=0;a<c;a++){var d=b[a],e=d.Mb,f=d.Gb,g=e.qh.Za,h=f.qh.Za,k=e.Ta(),l=f.Ta(),m=d.Me,n=Math.sqrt(e.js*f.js),p=e.um>f.um?e.um:f.um,u=k.p.x,s=k.p.y,q=l.p.x,x=l.p.y,C=k.C,D=l.C;fe.ic(m,k.u,g,l.u,h);f=fe.xa.x;d=fe.xa.y;e=this.ng[a];e.J=k;e.K=l;e.aC=m;e.vd.x=f;e.vd.y=d;e.of=m.cc;e.gg=n;e.Eg=p;e.lg.x=m.Rc.x;e.lg.y=m.Rc.y;e.ac.x=m.wa.x;e.ac.y=m.wa.y;e.fp=g+h;e.type=m.Ha;for(g=0;g<e.of;++g){n=m.ka[g];h=e.hc[g];h.fc=
n.rj;h.Ig=n.vj;h.ac.D(n.wa);var n=h.Qb.x=fe.ka[g].x-k.m.r.x,p=h.Qb.y=fe.ka[g].y-k.m.r.y,E=h.Rb.x=fe.ka[g].x-l.m.r.x,F=h.Rb.y=fe.ka[g].y-l.m.r.y,G=n*d-p*f,z=E*d-F*f,G=G*G,z=z*z;h.sh=1/(k.G+l.G+k.R*G+l.R*z);var A=k.P*k.G+l.P*l.G,A=A+(k.P*k.R*G+l.P*l.R*z);h.mA=1/A;z=d;A=-f;G=n*A-p*z;z=E*A-F*z;G*=G;z*=z;h.VC=1/(k.G+l.G+k.R*G+l.R*z);h.Sm=0;n=e.vd.x*(q+-D*F-u- -C*p)+e.vd.y*(x+D*E-s-C*n);-1>n&&(h.Sm+=-e.Eg*n)}2==e.of&&(x=e.hc[0],q=e.hc[1],m=k.G,k=k.R,u=l.G,l=l.R,s=x.Qb.x*d-x.Qb.y*f,x=x.Rb.x*d-x.Rb.y*f,C=
q.Qb.x*d-q.Qb.y*f,q=q.Rb.x*d-q.Rb.y*f,f=m+u+k*s*s+l*x*x,d=m+u+k*C*C+l*q*q,l=m+u+k*s*C+l*x*q,f*f<100*(f*d-l*l)?(e.be.j.Set(f,l),e.be.k.Set(l,d),e.be.Rp(e.sh)):e.of=1)}};B.Ve=function(a){for(var b=0;b<this.lm;++b){var c=this.ng[b],d=c.J,e=c.K,f=d.G,g=d.R,h=e.G,k=e.R,l=c.vd.x,m=c.vd.y,n=m,p=-l,u=0,s=0;if(a.Dh)for(s=c.of,u=0;u<s;++u){var q=c.hc[u];q.fc*=a.pc;q.Ig*=a.pc;var x=q.fc*l+q.Ig*n,C=q.fc*m+q.Ig*p;d.C-=g*(q.Qb.x*C-q.Qb.y*x);d.p.x-=f*x;d.p.y-=f*C;e.C+=k*(q.Rb.x*C-q.Rb.y*x);e.p.x+=h*x;e.p.y+=h*C}else for(s=
c.of,u=0;u<s;++u)d=c.hc[u],d.fc=0,d.Ig=0}};B.ze=function(){for(var a=0;a<this.lm;a++)this.Wy(this.ng[a])};B.Wy=function(a){for(var b=a.vd.x,c=a.vd.y,d=0;d<a.of;d++)zd.prototype.Xy(a,a.hc[d]);if(1==a.of){var d=a.hc[0],e=d.fc-d.sh*((a.K.p.x-a.K.C*d.Rb.y-a.J.p.x+a.J.C*d.Qb.y)*b+(a.K.p.y+a.K.C*d.Rb.x-a.J.p.y-a.J.C*d.Qb.x)*c-d.Sm),e=0<e?e:0,f=e-d.fc,g=f*b,c=f*c;a.J.p.x-=a.J.G*g;a.J.p.y-=a.J.G*c;a.J.C-=a.J.R*(d.Qb.x*c-d.Qb.y*g);a.K.p.x+=a.K.G*g;a.K.p.y+=a.K.G*c;a.K.C+=a.K.R*(d.Rb.x*c-d.Rb.y*g);d.fc=e}else for(var d=
a.hc[0],e=a.hc[1],f=d.fc,g=e.fc,h=(a.K.p.x-a.K.C*d.Rb.y-a.J.p.x+a.J.C*d.Qb.y)*b+(a.K.p.y+a.K.C*d.Rb.x-a.J.p.y-a.J.C*d.Qb.x)*c-d.Sm,c=(a.K.p.x-a.K.C*e.Rb.y-a.J.p.x+a.J.C*e.Qb.y)*b+(a.K.p.y+a.K.C*e.Rb.x-a.J.p.y-a.J.C*e.Qb.x)*c-e.Sm,h=h-(a.be.j.x*f+a.be.k.x*g),c=c-(a.be.j.y*f+a.be.k.y*g);;){b=-(a.sh.j.x*h+a.sh.k.x*c);if(0<=b){var k=-(a.sh.j.y*h+a.sh.k.y*c);if(0<=k){this.vn(a,d,e,b-f,k-g);d.fc=b;e.fc=k;break}}b=-d.sh*h;if(0<=b&&0<=a.be.j.y*b+c){this.vn(a,d,e,b-f,-g);d.fc=b;e.fc=0;break}b=-e.sh*c;if(0<=
b&&0<=a.be.k.x*b+h){this.vn(a,d,e,-f,b-g);d.fc=0;e.fc=b;break}if(0<=h&&0<=c){this.vn(a,d,e,-f,-g);d.fc=0;e.fc=0;break}break}};B.Xy=function(a,b){var c=a.vd.y,d=-a.vd.x,e=a.gg*b.fc,e=T.Cb(b.Ig-b.VC*((a.K.p.x-a.K.C*b.Rb.y-a.J.p.x+a.J.C*b.Qb.y)*c+(a.K.p.y+a.K.C*b.Rb.x-a.J.p.y-a.J.C*b.Qb.x)*d),-e,e),f=e-b.Ig,c=f*c,d=f*d;a.J.p.x-=a.J.G*c;a.J.p.y-=a.J.G*d;a.J.C-=a.J.R*(b.Qb.x*d-b.Qb.y*c);a.K.p.x+=a.K.G*c;a.K.p.y+=a.K.G*d;a.K.C+=a.K.R*(b.Rb.x*d-b.Rb.y*c);b.Ig=e};B.vn=function(a,b,c,d,e){var f=d*a.vd.x;d*=
a.vd.y;var g=e*a.vd.x;e*=a.vd.y;a.J.p.x-=a.J.G*(f+g);a.J.p.y-=a.J.G*(d+e);a.J.C-=a.J.R*(b.Qb.x*d-b.Qb.y*f+c.Qb.x*e-c.Qb.y*g);a.K.p.x+=a.K.G*(f+g);a.K.p.y+=a.K.G*(d+e);a.K.C+=a.K.R*(b.Rb.x*d-b.Rb.y*f+c.Rb.x*e-c.Rb.y*g);b.fc=0;c.fc=0};B.Np=function(){for(var a=0;a<this.lm;++a)for(var b=this.ng[a],c=b.aC,d=0;d<b.of;++d){var e=c.ka[d],f=b.hc[d];e.rj=f.fc;e.vj=f.Ig}};B.ye=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.lm;c++){var d=this.ng[c],e=d.J,f=d.K,g=e.P*e.G,h=e.P*e.R,k=f.P*f.G,l=f.P*f.R;ge.ic(d);
for(var m=ge.xa,n=0;n<d.of;n++){var p=d.hc[n],u=ge.ka[n],s=ge.Po[n],q=u.x-e.m.r.x,x=u.y-e.m.r.y,C=u.x-f.m.r.x,u=u.y-f.m.r.y,b=b<s?b:s,s=-p.mA*T.Cb(a*(s+0.005),-0.2,0),p=s*m.x,s=s*m.y;e.m.r.x-=g*p;e.m.r.y-=g*s;e.m.I-=h*(q*s-x*p);e.Kb();f.m.r.x+=k*p;f.m.r.y+=k*s;f.m.I+=l*(C*s-u*p);f.Kb()}}return-0.0075<b};var $d=function(a,b){Ed.call(this,a,b)};M($d,Ed);$d.prototype.Mc=function(a,b){Ed.prototype.Mc.call(this,a,b)};$d.prototype.Wf=function(){this.Mb.xc();this.Gb.xc()};var Yd=function(a,b){Ed.call(this,
a,b)};M(Yd,Ed);Yd.prototype.Mc=function(a,b){Ed.prototype.Mc.call(this,a,b)};Yd.prototype.Wf=function(){a:{var a=this.Me,b=this.Mb.xc(),c=this.Mb.Ta().u,d=this.Gb.xc(),e=this.Gb.Ta().u;a.cc=0;for(var f=e.position.x+(e.n.j.x*d.ib.x+e.n.k.x*d.ib.y)-c.position.x,g=e.position.y+(e.n.j.y*d.ib.x+e.n.k.y*d.ib.y)-c.position.y,e=f*c.n.j.x+g*c.n.j.y,c=f*c.n.k.x+g*c.n.k.y,f=0,g=-Number.MAX_VALUE,h=b.Za+d.Za,k=0;k<b.Ma;++k){var l=b.ya[k].x*(e-b.H[k].x)+b.ya[k].y*(c-b.H[k].y);if(l>h)break a;l>g&&(g=l,f=k)}l=f+
1;l>=b.Ma&&(l=0);var k=b.H[f],m=b.H[l];g<Number.MIN_VALUE?(a.cc=1,a.Ha=2,a.Rc.D(b.ya[f]),a.wa.x=0.5*(k.x+m.x),a.wa.y=0.5*(k.y+m.y),a.ka[0].wa.D(d.ib),a.ka[0].lf.Hi(0)):0>=(e-k.x)*(m.x-k.x)+(c-k.y)*(m.y-k.y)?(e-k.x)*(e-k.x)+(c-k.y)*(c-k.y)>h*h||(a.cc=1,a.Ha=2,a.Rc.x=e-k.x,a.Rc.y=c-k.y,a.Rc.Cd(),a.wa.D(k),a.ka[0].wa.D(d.ib),a.ka[0].lf.Hi(0)):0>=(e-m.x)*(k.x-m.x)+(c-m.y)*(k.y-m.y)?(e-m.x)*(e-m.x)+(c-m.y)*(c-m.y)>h*h||(a.cc=1,a.Ha=2,a.Rc.x=e-m.x,a.Rc.y=c-m.y,a.Rc.Cd(),a.wa.D(m),a.ka[0].wa.D(d.ib),a.ka[0].lf.Hi(0)):
(l=0.5*(k.x+m.x),k=0.5*(k.y+m.y),g=(e-l)*b.ya[f].x+(c-k)*b.ya[f].y,g>h||(a.cc=1,a.Ha=2,a.Rc.x=b.ya[f].x,a.Rc.y=b.ya[f].y,a.Rc.Cd(),a.wa.Set(l,k),a.ka[0].wa.D(d.ib),a.ka[0].lf.Hi(0)))}};var ae=function(a,b){Ed.call(this,a,b)};M(ae,Ed);ae.prototype.Mc=function(a,b){Ed.prototype.Mc.call(this,a,b)};ae.prototype.Wf=function(){this.Mb.xc();this.Gb.xc()};var Zd=function(a,b){Ed.call(this,a,b)};M(Zd,Ed);Zd.prototype.Mc=function(a,b){Ed.prototype.Mc.call(this,a,b)};Zd.prototype.Wf=function(){var a=this.Me,
b=this.Mb.xc(),c=this.Mb.Ta().u,d=this.Gb.xc(),e=this.Gb.Ta().u;a.cc=0;var f=b.Za+d.Za,g=Lc(b,c,d,e),h=g.Ru;if(!(g.mp>f)){var k=Lc(d,e,b,c);if(!(k.mp>f)){var l=b,m=d,n=c,p=e,u=0;a.Ha=2;k.mp>0.98*g.mp+0.001&&(l=d,m=b,n=e,p=c,h=k.Ru,a.Ha=4,u=1);b=h;c=p;d=he;void 0===b&&(b=0);for(var e=n.n.j.x*l.ya[b].x+n.n.k.x*l.ya[b].y,g=n.n.j.y*l.ya[b].x+n.n.k.y*l.ya[b].y,k=c.n.j.x*e+c.n.j.y*g,g=c.n.k.x*e+c.n.k.y*g,e=k,k=0,s=Number.MAX_VALUE,q=0;q<m.Ma;q++){var x=e*m.ya[q].x+g*m.ya[q].y;x<s&&(s=x,k=q)}e=k+1;e>=m.Ma&&
(e=0);d[0].Te.x=c.position.x+(c.n.j.x*m.H[k].x+c.n.k.x*m.H[k].y);d[0].Te.y=c.position.y+(c.n.j.y*m.H[k].x+c.n.k.y*m.H[k].y);d[0].id.uu(b);d[0].id.ru(k);d[0].id.su(0);d[1].Te.x=c.position.x+(c.n.j.x*m.H[e].x+c.n.k.x*m.H[e].y);d[1].Te.y=c.position.y+(c.n.j.y*m.H[e].x+c.n.k.y*m.H[e].y);d[1].id.uu(b);d[1].id.ru(e);d[1].id.su(1);b=l.H[h];h=h+1<l.Ma?l.H[h+1]:l.H[0];ie.Set(h.x-b.x,h.y-b.y);ie.Cd();je.x=ie.y;je.y=-ie.x;ke.Set(0.5*(b.x+h.x),0.5*(b.y+h.y));le.x=n.n.j.x*ie.x+n.n.k.x*ie.y;le.y=n.n.j.y*ie.x+n.n.k.y*
ie.y;me.x=-le.x;me.y=-le.y;ne.x=le.y;ne.y=-le.x;oe.x=n.position.x+(n.n.j.x*b.x+n.n.k.x*b.y);oe.y=n.position.y+(n.n.j.y*b.x+n.n.k.y*b.y);pe.x=n.position.x+(n.n.j.x*h.x+n.n.k.x*h.y);pe.y=n.position.y+(n.n.j.y*h.x+n.n.k.y*h.y);if(!(2>Fc(qe,he,me,-le.x*oe.x-le.y*oe.y+f)||2>Fc(re,qe,le,le.x*pe.x+le.y*pe.y+f))){a.Rc.D(je);a.wa.D(ke);n=ne.x*oe.x+ne.y*oe.y;for(l=h=0;2>l;++l)ne.x*re[l].Te.x+ne.y*re[l].Te.y-n<=f&&(b=re[l].Te.x-p.position.x,m=re[l].Te.y-p.position.y,a.ka[h].wa.x=b*p.n.j.x+m*p.n.j.y,a.ka[h].wa.y=
b*p.n.k.x+m*p.n.k.y,a.ka[h].lf.Set(re[l].id),a.ka[h].lf.Ry(u),h++);a.cc=h}}}};var te=function(){this.Ad="Controller"+se++;this.Ja=null;this.Nc=new ld};te.prototype.Qg=r();te.prototype.Oj=function(a){this.Nc.Oj(a);a.Xk(this)};te.prototype.nl=function(a){this.Nc.nl(a);a.ol(this)};te.prototype.Zm=function(){for(var a=this.Nc.Ga(kd);a;a=a.next)this.nl(a.body)};var se=0,ue=function(){te.call(this);this.vd=Q.q(0,-1);this.Cf=this.offset=0;this.Lx=Q.q(0,0);this.DB=2;this.yz=1;this.dD=!0;this.Cv=null};M(ue,
te);ue.prototype.Qg=function(){this.dD&&(this.Cv=this.Ja.fw.nc());for(var a=this.Nc.Ga(pd);a;a=a.next){for(var b=a.body,c=Q.q(0,0),d=Q.q(0,0),e=0,f=0,g=b.Qp().Ga();g;g=g.next){var h=Q.q(0,0),k=g.ef.xc().bn(this.vd,this.offset,b.ae(),h),e=e+k;c.x+=k*h.x;c.y+=k*h.y;var l=0,l=1,f=f+k*l;d.x+=k*h.x*l;d.y+=k*h.y*l}e<Number.MIN_VALUE||(c.x/=e,c.y/=e,d.x/=f,d.y/=f,f=this.Cv.Gh(),f.Bd(this.Cf*e),b.vf(f,d),f=b.ey(c),f.qq(this.Lx),f.Bd(-this.DB*e),b.vf(f,c),b.Xm(-b.jf/b.P*e*b.jn()*this.yz),Q.Kc(c),Q.Kc(d))}};
var ve=function(){te.call(this);this.It=Q.q(0,0)};M(ve,te);ve.prototype.Qg=function(a){a=Q.q(this.It.x*a.Ca,this.It.y*a.Ca);for(var b=this.Nc.Ga(pd);b;b=b.next){var c=b.body,d=c.Ci();c.Ii(Q.q(d.x+a.x,d.y+a.y))}Q.Kc(a)};var we=function(){te.call(this);this.ay=Q.q(0,0)};M(we,te);we.prototype.Qg=function(){for(var a=this.Nc.Ga(pd);a;a=a.next){var b=a.body;b.vf(this.ay,b.Sj())}};var hd=function(){this.Gq=this.Fq=null;this.Jn={}};hd.prototype.Ga=v("Fq");hd.prototype.Xk=function(a){var b=a.Ad;if(null==
this.Jn[b]){a=new xe(a);var c=this.Gq;null!=c?c.yf(a):this.Fq=a;a.zf(c);this.Gq=a;this.Jn[b]=a}};hd.prototype.ol=function(a){a=a.Ad;var b=this.Jn[a];if(null!=b){var c=b.pf,b=b.next;null==c?this.Fq=b:c.yf(b);null==b?this.Gq=c:b.zf(c);delete this.Jn[a]}};var xe=function(a){this.av=a;this.pf=this.next=null};xe.prototype.yf=aa("next");xe.prototype.zf=aa("pf");var ye=function(){te.call(this);this.St=1;this.vB=!0};M(ye,te);ye.prototype.Qg=function(){var a=null,b=null,c=0,d=null,e=null,f=0,g=0,h=0,f=null;
if(this.vB)for(var k=this.Nc.Ga(kd);k;k=k.next)for(var a=k.body,b=a.Sj(),c=a.P,l=this.Nc.Ga(kd);l;l=l.next){if(d=l.body,a.pd()||d.pd())e=d.Sj(),f=e.x-b.x,g=e.y-b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=Q.q(f,g),f.Bd(this.St/h/Math.sqrt(h)*c*d.P),a.pd()&&a.vf(f,b),f.Bd(-1),d.pd()&&d.vf(f,e),Q.Kc(f))}else for(k=this.Nc.Ga(kd);k;k=k.next)for(a=bodyNode.body,b=a.Sj(),c=a.P,l=this.Nc.Ga(kd);l;l=l.next)if(d=bodyNode.body,a.pd()||d.pd())e=d.Sj(),f=e.x-b.x,g=e.y-b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=Q.q(f,g),f.Bd(this.St/
h*c*d.P),a.pd()&&a.vf(f,b),f.Bd(-1),d.pd()&&d.vf(f,e),Q.Kc(f))};var ze=function(){te.call(this);this.Zy=new R;this.vs=0};M(ze,te);ze.prototype.Qg=function(a){a=a.Ca;if(!(a<=Number.MIN_VALUE)){a>this.vs&&0<this.vs&&(a=this.vs);for(var b=this.Nc.Ga(pd);b;b=b.next){var c=b.body,d=c.Tp(T.Zb(this.Zy,c.Sp(c.Ci())));c.Ii(Q.q(c.Ci().x+d.x*a,c.Ci().y+d.y*a))}}};var X=function(a){this.Kd=new Ae;this.Ld=new Ae;this.sg=Q.q(0,0);this.tg=Q.q(0,0);this.Ha=a.type;this.ei=this.Ck=null;this.T=a.J;this.U=a.K;this.dw=
a.Dq};X.prototype.Lc=v("Ha");X.prototype.dl=v("T");X.prototype.Pp=v("U");X.prototype.Fi=function(){return this.T.Fi()&&this.U.Fi()};X.Ue=function(a){return a.Ue()};X.prototype.Ve=r();X.prototype.ze=r();X.prototype.Np=r();X.prototype.ye=w(!1);X.hA=0;X.ak=1;X.fA=2;X.Qq=3;X.gA=4;X.yE=5;X.dA=6;X.eA=7;X.iA=8;X.cA=9;X.Fd=0;X.dg=1;X.Pc=2;X.Sh=3;var Be=function(){this.type=X.hA;this.K=this.J=null;this.Dq=!1},Ae=r(),Ce=function(a){X.call(this,a);this.ba=Q.q(0,0);this.ca=Q.q(0,0);this.tc=Q.q(0,0);this.ba.D(a.xb);
this.ca.D(a.yb);this.ks=a.length;this.hs=a.bo;this.KB=a.Nn;this.cw=this.qj=this.B=0};M(Ce,X);Ce.prototype.Ve=function(a){var b,c=0,d=this.T,e=this.U;b=d.u.n;var f=this.ba.x-d.m.M.x,g=this.ba.y-d.m.M.y,c=b.j.x*f+b.k.x*g,g=b.j.y*f+b.k.y*g,f=c;b=e.u.n;var h=this.ca.x-e.m.M.x,k=this.ca.y-e.m.M.y,c=b.j.x*h+b.k.x*k,k=b.j.y*h+b.k.y*k,h=c;this.tc.x=e.m.r.x+h-d.m.r.x-f;this.tc.y=e.m.r.y+k-d.m.r.y-g;c=Math.sqrt(this.tc.x*this.tc.x+this.tc.y*this.tc.y);0.005<c?this.tc.Bd(1/c):this.tc.da();b=f*this.tc.y-g*this.tc.x;
var l=h*this.tc.y-k*this.tc.x;b=d.G+d.R*b*b+e.G+e.R*l*l;this.P=0!=b?1/b:0;if(0<this.hs){var c=c-this.ks,l=2*Math.PI*this.hs,m=this.P*l*l;this.qj=a.Ca*(2*this.P*this.KB*l+a.Ca*m);this.qj=0!=this.qj?1/this.qj:0;this.cw=c*a.Ca*m*this.qj;this.P=b+this.qj;this.P=0!=this.P?1/this.P:0}a.Dh?(this.B*=a.pc,a=this.B*this.tc.x,b=this.B*this.tc.y,d.p.x-=d.G*a,d.p.y-=d.G*b,d.C-=d.R*(f*b-g*a),e.p.x+=e.G*a,e.p.y+=e.G*b,e.C+=e.R*(h*b-k*a)):this.B=0};Ce.prototype.ze=function(){var a=this.ba.x-this.T.m.M.x,b=this.ba.y-
this.T.m.M.y,c=this.T.u.n.j.x*a+this.T.u.n.k.x*b,b=this.T.u.n.j.y*a+this.T.u.n.k.y*b,a=c,d=this.ca.x-this.U.m.M.x,e=this.ca.y-this.U.m.M.y,c=this.U.u.n.j.x*d+this.U.u.n.k.x*e,e=this.U.u.n.j.y*d+this.U.u.n.k.y*e,d=c,f=-this.P*(this.tc.x*(this.U.p.x-this.U.C*e-(this.T.p.x-this.T.C*b))+this.tc.y*(this.U.p.y+this.U.C*d-(this.T.p.y+this.T.C*a))+this.cw+this.qj*this.B);this.B+=f;c=f*this.tc.x;f*=this.tc.y;this.T.p.x-=this.T.G*c;this.T.p.y-=this.T.G*f;this.T.C-=this.T.R*(a*f-b*c);this.U.p.x+=this.U.G*c;
this.U.p.y+=this.U.G*f;this.U.C+=this.U.R*(d*f-e*c)};Ce.prototype.ye=function(){if(0<this.hs)return!0;var a=this.ba.x-this.T.m.M.x,b=this.ba.y-this.T.m.M.y,c=this.T.u.n.j.x*a+this.T.u.n.k.x*b,b=this.T.u.n.j.y*a+this.T.u.n.k.y*b,a=c,d=this.ca.x-this.U.m.M.x,e=this.ca.y-this.U.m.M.y,c=this.U.u.n.j.x*d+this.U.u.n.k.x*e,e=this.U.u.n.j.y*d+this.U.u.n.k.y*e,d=c,f=this.U.m.r.x+d-this.T.m.r.x-a,g=this.U.m.r.y+e-this.T.m.r.y-b,h=Math.sqrt(f*f+g*g),c=T.Cb(h-this.ks,-0.2,0.2),k=-this.P*c;this.tc.Set(f/h,g/h);
f=k*this.tc.x;k*=this.tc.y;this.T.m.r.x-=this.T.G*f;this.T.m.r.y-=this.T.G*k;this.T.m.I-=this.T.R*(a*k-b*f);this.U.m.r.x+=this.U.G*f;this.U.m.r.y+=this.U.G*k;this.U.m.I+=this.U.R*(d*k-e*f);this.T.Kb();this.U.Kb();return 0.005>Math.abs(c)};var mc=function(){Be.call(this);this.xb=Q.q(0,0);this.yb=Q.q(0,0);this.type=X.Qq;this.length=1;this.Nn=this.bo=0};M(mc,Be);mc.prototype.ic=function(a,b,c,d){this.J=a;this.K=b;this.xb.D(this.J.od(c));this.yb.D(this.K.od(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*
a+c*c);this.Nn=this.bo=0};mc.prototype.Ue=function(){return new Ce(this)};var De=function(a){X.call(this,a);this.Je=Q.q(0,0);this.Ke=Q.q(0,0);this.ns=new R;this.Ie=Q.q(0,0);this.Je.D(a.xb);this.Ke.D(a.yb);this.ns.da();this.jm=0;this.Ie.da();this.jh=0;this.VB=a.bC;this.XB=a.cC};M(De,X);De.prototype.Ve=function(a){var b,c=0,d=this.T,e=this.U;b=d.u.n;var f=this.Je.x-d.m.M.x,g=this.Je.y-d.m.M.y,c=b.j.x*f+b.k.x*g,g=b.j.y*f+b.k.y*g,f=c;b=e.u.n;var h=this.Ke.x-e.m.M.x,k=this.Ke.y-e.m.M.y,c=b.j.x*h+b.k.x*
k,k=b.j.y*h+b.k.y*k,h=c;b=d.G;var c=e.G,l=d.R,m=e.R,n=new R;n.j.x=b+c;n.k.x=0;n.j.y=0;n.k.y=b+c;n.j.x+=l*g*g;n.k.x+=-l*f*g;n.j.y+=-l*f*g;n.k.y+=l*f*f;n.j.x+=m*k*k;n.k.x+=-m*h*k;n.j.y+=-m*h*k;n.k.y+=m*h*h;n.Rp(this.ns);this.jm=l+m;0<this.jm&&(this.jm=1/this.jm);a.Dh?(this.Ie.x*=a.pc,this.Ie.y*=a.pc,this.jh*=a.pc,a=this.Ie,d.p.x-=b*a.x,d.p.y-=b*a.y,d.C-=l*(f*a.y-g*a.x+this.jh),e.p.x+=c*a.x,e.p.y+=c*a.y,e.C+=m*(h*a.y-k*a.x+this.jh)):(this.Ie.da(),this.jh=0)};De.prototype.ze=function(a){var b,c=0,d=this.T,
e=this.U,f=d.p,g=d.C,h=e.p,k=e.C,l=d.G,m=e.G,n=d.R,p=e.R;b=d.u.n;var u=this.Je.x-d.m.M.x,s=this.Je.y-d.m.M.y,c=b.j.x*u+b.k.x*s,s=b.j.y*u+b.k.y*s,u=c;b=e.u.n;var q=this.Ke.x-e.m.M.x,x=this.Ke.y-e.m.M.y,c=b.j.x*q+b.k.x*x,x=b.j.y*q+b.k.y*x,q=c;b=0;var c=-this.jm*(k-g),C=this.jh;b=a.Ca*this.XB;this.jh=T.Cb(this.jh+c,-b,b);c=this.jh-C;g-=n*c;k+=p*c;b=T.Zb(this.ns,Q.q(-(h.x-k*x-f.x+g*s),-(h.y+k*q-f.y-g*u)));c=this.Ie.nc();this.Ie.Mg(b);b=a.Ca*this.VB;this.Ie.pn()>b*b&&(this.Ie.Cd(),this.Ie.Bd(b));b=T.tb(this.Ie,
c);f.x-=l*b.x;f.y-=l*b.y;g-=n*(u*b.y-s*b.x);h.x+=m*b.x;h.y+=m*b.y;k+=p*(q*b.y-x*b.x);d.C=g;e.C=k};De.prototype.ye=w(!0);var Ee=function(){Be.call(this);this.xb=Q.q(0,0);this.yb=Q.q(0,0);this.type=X.cA;this.cC=this.bC=0};M(Ee,Be);Ee.prototype.ic=function(a,b,c){this.J=a;this.K=b;this.xb.D(this.J.od(c));this.yb.D(this.K.od(c))};Ee.prototype.Ue=function(){return new De(this)};var Ge=function(a){X.call(this,a);this.nh=Q.q(0,0);this.oh=Q.q(0,0);this.ba=Q.q(0,0);this.ca=Q.q(0,0);this.Fb=new Fe;var b=a.qk.Ha,
c=a.rk.Ha;this.Ek=this.uj=this.Dk=this.tj=null;var d=0,e=0;this.NB=a.qk.dl();this.T=a.qk.Pp();b==X.ak?(this.tj=a.qk,this.nh.D(this.tj.ba),this.ba.D(this.tj.ca),d=this.tj.kn()):(this.Dk=a.qk,this.nh.D(this.Dk.ba),this.ba.D(this.Dk.ca),d=this.Dk.fl());this.OB=a.rk.dl();this.U=a.rk.Pp();c==X.ak?(this.uj=a.rk,this.oh.D(this.uj.ba),this.ca.D(this.uj.ca),e=this.uj.kn()):(this.Ek=a.rk,this.oh.D(this.Ek.ba),this.ca.D(this.Ek.ca),e=this.Ek.fl());this.Pb=a.ni;this.Ak=d+this.Pb*e;this.B=0};M(Ge,X);Ge.prototype.Ve=
function(a){var b=this.NB,c=this.OB,d=this.T,e=this.U,f=0,g=0,h=0,k=0,l=h=0,m=0;this.Fb.da();this.tj?(this.Fb.Ki=-1,m+=d.R):(b=b.u.n,g=this.Dk.Xd,f=b.j.x*g.x+b.k.x*g.y,g=b.j.y*g.x+b.k.y*g.y,b=d.u.n,h=this.ba.x-d.m.M.x,k=this.ba.y-d.m.M.y,l=b.j.x*h+b.k.x*k,k=b.j.y*h+b.k.y*k,h=l*g-k*f,this.Fb.If.Set(-f,-g),this.Fb.Ki=-h,m+=d.G+d.R*h*h);this.uj?(this.Fb.Li=-this.Pb,m+=this.Pb*this.Pb*e.R):(b=c.u.n,g=this.Ek.Xd,f=b.j.x*g.x+b.k.x*g.y,g=b.j.y*g.x+b.k.y*g.y,b=e.u.n,h=this.ca.x-e.m.M.x,k=this.ca.y-e.m.M.y,
l=b.j.x*h+b.k.x*k,k=b.j.y*h+b.k.y*k,h=l*g-k*f,this.Fb.Jf.Set(-this.Pb*f,-this.Pb*g),this.Fb.Li=-this.Pb*h,m+=this.Pb*this.Pb*(e.G+e.R*h*h));this.P=0<m?1/m:0;a.Dh?(d.p.x+=d.G*this.B*this.Fb.If.x,d.p.y+=d.G*this.B*this.Fb.If.y,d.C+=d.R*this.B*this.Fb.Ki,e.p.x+=e.G*this.B*this.Fb.Jf.x,e.p.y+=e.G*this.B*this.Fb.Jf.y,e.C+=e.R*this.B*this.Fb.Li):this.B=0};Ge.prototype.ze=function(){var a=this.T,b=this.U,c=-this.P*this.Fb.Xx(a.p,a.C,b.p,b.C);this.B+=c;a.p.x+=a.G*c*this.Fb.If.x;a.p.y+=a.G*c*this.Fb.If.y;
a.C+=a.R*c*this.Fb.Ki;b.p.x+=b.G*c*this.Fb.Jf.x;b.p.y+=b.G*c*this.Fb.Jf.y;b.C+=b.R*c*this.Fb.Li};Ge.prototype.ye=function(){var a=this.T,b=this.U,c=0,d=0,c=this.tj?this.tj.kn():this.Dk.fl(),d=this.uj?this.uj.kn():this.Ek.fl(),c=-this.P*(this.Ak-(c+this.Pb*d));a.m.r.x+=a.G*c*this.Fb.If.x;a.m.r.y+=a.G*c*this.Fb.If.y;a.m.I+=a.R*c*this.Fb.Ki;b.m.r.x+=b.G*c*this.Fb.Jf.x;b.m.r.y+=b.G*c*this.Fb.Jf.y;b.m.I+=b.R*c*this.Fb.Li;a.Kb();b.Kb();return!0};var He=function(){Be.call(this);this.type=X.dA;this.rk=this.qk=
null;this.ni=1};M(He,Be);He.prototype.ic=function(a,b,c){this.qk=a;this.J=a.dl();this.rk=b;this.K=b.dl();this.ni=c};He.prototype.Ue=function(){return new Ge(this)};var Fe=function(){this.If=Q.q(0,0);this.Jf=Q.q(0,0)};Fe.prototype.da=function(){this.If.da();this.Ki=0;this.Jf.da();this.Li=0};Fe.prototype.Set=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.If.D(a);this.Ki=b;this.Jf.D(c);this.Li=d};Fe.prototype.Xx=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.If.x*a.x+this.If.y*
a.y+this.Ki*b+(this.Jf.x*c.x+this.Jf.y*c.y)+this.Li*d};var Ie=function(a){X.call(this,a);this.ba=Q.q(0,0);this.ca=Q.q(0,0);this.Xd=Q.q(0,0);this.ph=Q.q(0,0);this.S=Q.q(0,0);this.ga=Q.q(0,0);this.$=new R;this.B=Q.q(0,0);this.ba.D(a.xb);this.ca.D(a.yb);this.Xd.D(a.lj);this.ph.x=-this.Xd.y;this.ph.y=this.Xd.x;this.B.da();this.La=this.Md=0;this.Le=a.bs;this.Ne=a.Bt;this.os=a.us;this.qm=a.Jk;this.Lf=a.Wi;this.di=a.bk;this.Ba=X.Fd;this.S.da();this.ga.da()};M(Ie,X);Ie.prototype.fl=function(){var a=this.T,
b=this.U,c=a.nn(this.ba),d=b.nn(this.ca),b=d.x-c.x,c=d.y-c.y,a=a.Tp(this.Xd);return a.x*b+a.y*c};Ie.prototype.Ve=function(a){var b=this.T,c=this.U,d,e=0;this.sg.D(b.Di());this.tg.D(c.Di());var f=b.ae();c.ae();d=b.u.n;var g=this.ba.x-this.sg.x,h=this.ba.y-this.sg.y,e=d.j.x*g+d.k.x*h,h=d.j.y*g+d.k.y*h,g=e;d=c.u.n;var k=this.ca.x-this.tg.x,l=this.ca.y-this.tg.y,e=d.j.x*k+d.k.x*l,l=d.j.y*k+d.k.y*l,k=e;d=c.m.r.x+k-b.m.r.x-g;e=c.m.r.y+l-b.m.r.y-h;this.Nb=b.G;this.Ob=c.G;this.sd=b.R;this.td=c.R;this.S.D(T.Zb(f.n,
this.Xd));this.$a=(d+g)*this.S.y-(e+h)*this.S.x;this.ab=k*this.S.y-l*this.S.x;this.Md=this.Nb+this.Ob+this.sd*this.$a*this.$a+this.td*this.ab*this.ab;this.Md=this.Md>Number.MIN_VALUE?1/this.Md:0;this.ga.D(T.Zb(f.n,this.ph));this.eb=(d+g)*this.ga.y-(e+h)*this.ga.x;this.fb=k*this.ga.y-l*this.ga.x;f=this.Nb;g=this.Ob;h=this.sd;k=this.td;this.$.j.x=f+g+h*this.eb*this.eb+k*this.fb*this.fb;this.$.j.y=h*this.eb*this.$a+k*this.fb*this.ab;this.$.k.x=this.$.j.y;this.$.k.y=f+g+h*this.$a*this.$a+k*this.ab*this.ab;
this.Lf?(d=this.S.x*d+this.S.y*e,0.01>Math.abs(this.Ne-this.Le)?this.Ba=X.Sh:d<=this.Le?this.Ba!=X.dg&&(this.Ba=X.dg,this.B.y=0):d>=this.Ne?this.Ba!=X.Pc&&(this.Ba=X.Pc,this.B.y=0):(this.Ba=X.Fd,this.B.y=0)):this.Ba=X.Fd;!1==this.di&&(this.La=0);a.Dh?(this.B.x*=a.pc,this.B.y*=a.pc,this.La*=a.pc,a=this.B.x*this.ga.x+(this.La+this.B.y)*this.S.x,d=this.B.x*this.ga.y+(this.La+this.B.y)*this.S.y,e=this.B.x*this.eb+(this.La+this.B.y)*this.$a,f=this.B.x*this.fb+(this.La+this.B.y)*this.ab,b.p.x-=this.Nb*
a,b.p.y-=this.Nb*d,b.C-=this.sd*e,c.p.x+=this.Ob*a,c.p.y+=this.Ob*d,c.C+=this.td*f):(this.B.da(),this.La=0)};Ie.prototype.ze=function(a){var b=this.T,c=this.U,d=b.p,e=b.C,f=c.p,g=c.C,h=0,k=0,l=0,m=0;this.di&&this.Ba!=X.Sh&&(m=this.Md*(this.qm-(this.S.x*(f.x-d.x)+this.S.y*(f.y-d.y)+this.ab*g-this.$a*e)),h=this.La,k=a.Ca*this.os,this.La=T.Cb(this.La+m,-k,k),m=this.La-h,h=m*this.S.x,k=m*this.S.y,l=m*this.$a,m*=this.ab,d.x-=this.Nb*h,d.y-=this.Nb*k,e-=this.sd*l,f.x+=this.Ob*h,f.y+=this.Ob*k,g+=this.td*
m);k=this.ga.x*(f.x-d.x)+this.ga.y*(f.y-d.y)+this.fb*g-this.eb*e;this.Lf&&this.Ba!=X.Fd?(l=this.S.x*(f.x-d.x)+this.S.y*(f.y-d.y)+this.ab*g-this.$a*e,h=this.B.nc(),a=this.$.Ih(Q.q(0,0),-k,-l),this.B.Mg(a),this.Ba==X.dg?this.B.y=Math.max(this.B.y,0):this.Ba==X.Pc&&(this.B.y=Math.min(this.B.y,0)),k=-k-(this.B.y-h.y)*this.$.k.x,l=0,l=0!=this.$.j.x?k/this.$.j.x+h.x:h.x,this.B.x=l,a.x=this.B.x-h.x,a.y=this.B.y-h.y,h=a.x*this.ga.x+a.y*this.S.x,k=a.x*this.ga.y+a.y*this.S.y,l=a.x*this.eb+a.y*this.$a,m=a.x*
this.fb+a.y*this.ab):(a=0,a=0!=this.$.j.x?-k/this.$.j.x:0,this.B.x+=a,h=a*this.ga.x,k=a*this.ga.y,l=a*this.eb,m=a*this.fb);d.x-=this.Nb*h;d.y-=this.Nb*k;e-=this.sd*l;f.x+=this.Ob*h;f.y+=this.Ob*k;g+=this.td*m;b.p.D(d);b.C=e;c.p.D(f);c.C=g};Ie.prototype.ye=function(){var a=this.T,b=this.U,c=a.m.r,d=a.m.I,e=b.m.r,f=b.m.I,g,h=0,k=0,l=0,m=0,n=g=0,p=0,k=!1,u=0,s=R.Rj(d),l=R.Rj(f);g=s;var p=this.ba.x-this.sg.x,q=this.ba.y-this.sg.y,h=g.j.x*p+g.k.x*q,q=g.j.y*p+g.k.y*q,p=h;g=l;l=this.ca.x-this.tg.x;m=this.ca.y-
this.tg.y;h=g.j.x*l+g.k.x*m;m=g.j.y*l+g.k.y*m;l=h;g=e.x+l-c.x-p;h=e.y+m-c.y-q;if(this.Lf){this.S=T.Zb(s,this.Xd);this.$a=(g+p)*this.S.y-(h+q)*this.S.x;this.ab=l*this.S.y-m*this.S.x;var x=this.S.x*g+this.S.y*h;0.01>Math.abs(this.Ne-this.Le)?(u=T.Cb(x,-0.2,0.2),n=Math.abs(x),k=!0):x<=this.Le?(u=T.Cb(x-this.Le+0.005,-0.2,0),n=this.Le-x,k=!0):x>=this.Ne&&(u=T.Cb(x-this.Ne+0.005,0,0.2),n=x-this.Ne,k=!0)}this.ga=T.Zb(s,this.ph);this.eb=(g+p)*this.ga.y-(h+q)*this.ga.x;this.fb=l*this.ga.y-m*this.ga.x;s=Q.q(0,
0);q=this.ga.x*g+this.ga.y*h;n=Math.max(n,Math.abs(q));p=0;k?(k=this.Nb,l=this.Ob,m=this.sd,g=this.td,this.$.j.x=k+l+m*this.eb*this.eb+g*this.fb*this.fb,this.$.j.y=m*this.eb*this.$a+g*this.fb*this.ab,this.$.k.x=this.$.j.y,this.$.k.y=k+l+m*this.$a*this.$a+g*this.ab*this.ab,this.$.Ih(s,-q,-u)):(k=this.Nb,l=this.Ob,m=this.sd,g=this.td,u=k+l+m*this.eb*this.eb+g*this.fb*this.fb,s.x=0!=u?-q/u:0,s.y=0);u=s.x*this.ga.x+s.y*this.S.x;k=s.x*this.ga.y+s.y*this.S.y;q=s.x*this.eb+s.y*this.$a;s=s.x*this.fb+s.y*
this.ab;c.x-=this.Nb*u;c.y-=this.Nb*k;d-=this.sd*q;e.x+=this.Ob*u;e.y+=this.Ob*k;f+=this.td*s;a.m.I=d;b.m.I=f;a.Kb();b.Kb();return 0.005>=n&&p<=oc};var Je=function(){Be.call(this);this.xb=Q.q(0,0);this.yb=Q.q(0,0);this.lj=Q.q(0,0);this.type=X.eA;this.lj.Set(1,0);this.Wi=!1;this.Bt=this.bs=0;this.bk=!1;this.Jk=this.us=0};M(Je,Be);Je.prototype.ic=function(a,b,c,d){this.J=a;this.K=b;this.xb=this.J.od(c);this.yb=this.K.od(c);this.lj=this.J.Sp(d)};Je.prototype.Ue=function(){return new Ie(this)};var Ke=
function(a){X.call(this,a);this.ba=Q.q(0,0);this.ca=Q.q(0,0);this.Xd=Q.q(0,0);this.ph=Q.q(0,0);this.S=Q.q(0,0);this.ga=Q.q(0,0);this.$=new vc;this.B=new uc(0,0,0);this.ba.D(a.xb);this.ca.D(a.yb);this.Xd.D(a.lj);this.ph.x=-this.Xd.y;this.ph.y=this.Xd.x;this.YB=a.Cg;this.B.da();this.La=this.Md=0;this.Le=a.bs;this.Ne=a.Bt;this.os=a.us;this.qm=a.Jk;this.Lf=a.Wi;this.di=a.bk;this.Ba=X.Fd;this.S.da();this.ga.da()};M(Ke,X);Ke.prototype.fl=function(){var a=this.T,b=this.U,c=a.nn(this.ba),d=b.nn(this.ca),
b=d.x-c.x,c=d.y-c.y,a=a.Tp(this.Xd);return a.x*b+a.y*c};Ke.prototype.Ve=function(a){var b=this.T,c=this.U,d,e=0;this.sg.D(b.Di());this.tg.D(c.Di());var f=b.ae();c.ae();d=b.u.n;var g=this.ba.x-this.sg.x,h=this.ba.y-this.sg.y,e=d.j.x*g+d.k.x*h,h=d.j.y*g+d.k.y*h,g=e;d=c.u.n;var k=this.ca.x-this.tg.x,l=this.ca.y-this.tg.y,e=d.j.x*k+d.k.x*l,l=d.j.y*k+d.k.y*l,k=e;d=c.m.r.x+k-b.m.r.x-g;e=c.m.r.y+l-b.m.r.y-h;this.Nb=b.G;this.Ob=c.G;this.sd=b.R;this.td=c.R;this.S.D(T.Zb(f.n,this.Xd));this.$a=(d+g)*this.S.y-
(e+h)*this.S.x;this.ab=k*this.S.y-l*this.S.x;this.Md=this.Nb+this.Ob+this.sd*this.$a*this.$a+this.td*this.ab*this.ab;this.Md>Number.MIN_VALUE&&(this.Md=1/this.Md);this.ga.D(T.Zb(f.n,this.ph));this.eb=(d+g)*this.ga.y-(e+h)*this.ga.x;this.fb=k*this.ga.y-l*this.ga.x;f=this.Nb;g=this.Ob;h=this.sd;k=this.td;this.$.j.x=f+g+h*this.eb*this.eb+k*this.fb*this.fb;this.$.j.y=h*this.eb+k*this.fb;this.$.j.z=h*this.eb*this.$a+k*this.fb*this.ab;this.$.k.x=this.$.j.y;this.$.k.y=h+k;this.$.k.z=h*this.$a+k*this.ab;
this.$.ra.x=this.$.j.z;this.$.ra.y=this.$.k.z;this.$.ra.z=f+g+h*this.$a*this.$a+k*this.ab*this.ab;this.Lf?(d=this.S.x*d+this.S.y*e,0.01>Math.abs(this.Ne-this.Le)?this.Ba=X.Sh:d<=this.Le?this.Ba!=X.dg&&(this.Ba=X.dg,this.B.z=0):d>=this.Ne?this.Ba!=X.Pc&&(this.Ba=X.Pc,this.B.z=0):(this.Ba=X.Fd,this.B.z=0)):this.Ba=X.Fd;!1==this.di&&(this.La=0);a.Dh?(this.B.x*=a.pc,this.B.y*=a.pc,this.La*=a.pc,a=this.B.x*this.ga.x+(this.La+this.B.z)*this.S.x,d=this.B.x*this.ga.y+(this.La+this.B.z)*this.S.y,e=this.B.x*
this.eb+this.B.y+(this.La+this.B.z)*this.$a,f=this.B.x*this.fb+this.B.y+(this.La+this.B.z)*this.ab,b.p.x-=this.Nb*a,b.p.y-=this.Nb*d,b.C-=this.sd*e,c.p.x+=this.Ob*a,c.p.y+=this.Ob*d,c.C+=this.td*f):(this.B.da(),this.La=0)};Ke.prototype.ze=function(a){var b=this.T,c=this.U,d=b.p,e=b.C,f=c.p,g=c.C,h=0,k=0,l=0,m=0;this.di&&this.Ba!=X.Sh&&(m=this.Md*(this.qm-(this.S.x*(f.x-d.x)+this.S.y*(f.y-d.y)+this.ab*g-this.$a*e)),h=this.La,a=a.Ca*this.os,this.La=T.Cb(this.La+m,-a,a),m=this.La-h,h=m*this.S.x,k=m*
this.S.y,l=m*this.$a,m*=this.ab,d.x-=this.Nb*h,d.y-=this.Nb*k,e-=this.sd*l,f.x+=this.Ob*h,f.y+=this.Ob*k,g+=this.td*m);l=this.ga.x*(f.x-d.x)+this.ga.y*(f.y-d.y)+this.fb*g-this.eb*e;k=g-e;this.Lf&&this.Ba!=X.Fd?(a=this.S.x*(f.x-d.x)+this.S.y*(f.y-d.y)+this.ab*g-this.$a*e,h=this.B.nc(),a=this.$.tl(new uc(0,0,0),-l,-k,-a),this.B.Mg(a),this.Ba==X.dg?this.B.z=Math.max(this.B.z,0):this.Ba==X.Pc&&(this.B.z=Math.min(this.B.z,0)),l=-l-(this.B.z-h.z)*this.$.ra.x,k=-k-(this.B.z-h.z)*this.$.ra.y,k=this.$.Uj(Q.q(0,
0),l,k),k.x+=h.x,k.y+=h.y,this.B.x=k.x,this.B.y=k.y,a.x=this.B.x-h.x,a.y=this.B.y-h.y,a.z=this.B.z-h.z,h=a.x*this.ga.x+a.z*this.S.x,k=a.x*this.ga.y+a.z*this.S.y,l=a.x*this.eb+a.y+a.z*this.$a,m=a.x*this.fb+a.y+a.z*this.ab):(a=this.$.Uj(Q.q(0,0),-l,-k),this.B.x+=a.x,this.B.y+=a.y,h=a.x*this.ga.x,k=a.x*this.ga.y,l=a.x*this.eb+a.y,m=a.x*this.fb+a.y);d.x-=this.Nb*h;d.y-=this.Nb*k;e-=this.sd*l;f.x+=this.Ob*h;f.y+=this.Ob*k;g+=this.td*m;b.p.D(d);b.C=e;c.p.D(f);c.C=g};Ke.prototype.ye=function(){var a=this.T,
b=this.U,c=a.m.r,d=a.m.I,e=b.m.r,f=b.m.I,g,h=0,k=0,l=0,m=h=g=0,n=0,k=!1,p=0,u=R.Rj(d),s=R.Rj(f);g=u;var n=this.ba.x-this.sg.x,q=this.ba.y-this.sg.y,h=g.j.x*n+g.k.x*q,q=g.j.y*n+g.k.y*q,n=h;g=s;s=this.ca.x-this.tg.x;l=this.ca.y-this.tg.y;h=g.j.x*s+g.k.x*l;l=g.j.y*s+g.k.y*l;s=h;g=e.x+s-c.x-n;h=e.y+l-c.y-q;if(this.Lf){this.S=T.Zb(u,this.Xd);this.$a=(g+n)*this.S.y-(h+q)*this.S.x;this.ab=s*this.S.y-l*this.S.x;var x=this.S.x*g+this.S.y*h;0.01>Math.abs(this.Ne-this.Le)?(p=T.Cb(x,-0.2,0.2),m=Math.abs(x),k=
!0):x<=this.Le?(p=T.Cb(x-this.Le+0.005,-0.2,0),m=this.Le-x,k=!0):x>=this.Ne&&(p=T.Cb(x-this.Ne+0.005,0,0.2),m=x-this.Ne,k=!0)}this.ga=T.Zb(u,this.ph);this.eb=(g+n)*this.ga.y-(h+q)*this.ga.x;this.fb=s*this.ga.y-l*this.ga.x;u=new uc(0,0,0);q=this.ga.x*g+this.ga.y*h;s=f-d-this.YB;m=Math.max(m,Math.abs(q));n=Math.abs(s);k?(k=this.Nb,l=this.Ob,g=this.sd,h=this.td,this.$.j.x=k+l+g*this.eb*this.eb+h*this.fb*this.fb,this.$.j.y=g*this.eb+h*this.fb,this.$.j.z=g*this.eb*this.$a+h*this.fb*this.ab,this.$.k.x=
this.$.j.y,this.$.k.y=g+h,this.$.k.z=g*this.$a+h*this.ab,this.$.ra.x=this.$.j.z,this.$.ra.y=this.$.k.z,this.$.ra.z=k+l+g*this.$a*this.$a+h*this.ab*this.ab,this.$.tl(u,-q,-s,-p)):(k=this.Nb,l=this.Ob,g=this.sd,h=this.td,p=g*this.eb+h*this.fb,x=g+h,this.$.j.Set(k+l+g*this.eb*this.eb+h*this.fb*this.fb,p,0),this.$.k.Set(p,x,0),p=this.$.Uj(Q.q(0,0),-q,-s),u.x=p.x,u.y=p.y,u.z=0);p=u.x*this.ga.x+u.z*this.S.x;k=u.x*this.ga.y+u.z*this.S.y;q=u.x*this.eb+u.y+u.z*this.$a;u=u.x*this.fb+u.y+u.z*this.ab;c.x-=this.Nb*
p;c.y-=this.Nb*k;d-=this.sd*q;e.x+=this.Ob*p;e.y+=this.Ob*k;f+=this.td*u;a.m.I=d;b.m.I=f;a.Kb();b.Kb();return 0.005>=m&&n<=oc};var Le=function(){Be.call(this);this.xb=Q.q(0,0);this.yb=Q.q(0,0);this.lj=Q.q(0,0);this.type=X.fA;this.lj.Set(1,0);this.Cg=0;this.Wi=!1;this.Bt=this.bs=0;this.bk=!1;this.Jk=this.us=0};M(Le,Be);Le.prototype.ic=function(a,b,c,d){this.J=a;this.K=b;this.xb=this.J.od(c);this.yb=this.K.od(c);this.lj=this.J.Sp(d);this.Cg=this.K.zd()-this.J.zd()};Le.prototype.Ue=function(){return new Ke(this)};
var Oe=function(a){X.call(this,a);this.nh=Q.q(0,0);this.oh=Q.q(0,0);this.ba=Q.q(0,0);this.ca=Q.q(0,0);this.jb=Q.q(0,0);this.kb=Q.q(0,0);this.kf=this.T.Ja.PB;this.nh.x=a.io.x-this.kf.u.position.x;this.nh.y=a.io.y-this.kf.u.position.y;this.oh.x=a.jo.x-this.kf.u.position.x;this.oh.y=a.jo.y-this.kf.u.position.y;this.ba.D(a.xb);this.ca.D(a.yb);this.Pb=a.ni;this.Ak=a.Pr+this.Pb*a.Qr;this.hw=Math.min(a.jw,this.Ak-this.Pb*Me);this.iw=Math.min(a.kw,(this.Ak-Me)/this.Pb);this.rg=this.qg=this.B=0};M(Oe,X);Oe.prototype.Ve=
function(a){var b=this.T,c=this.U,d;d=b.u.n;var e=this.ba.x-b.m.M.x,f=this.ba.y-b.m.M.y,g=d.j.x*e+d.k.x*f,f=d.j.y*e+d.k.y*f,e=g;d=c.u.n;var h=this.ca.x-c.m.M.x,k=this.ca.y-c.m.M.y,g=d.j.x*h+d.k.x*k,k=d.j.y*h+d.k.y*k,h=g;d=c.m.r.x+h;var g=c.m.r.y+k,l=this.kf.u.position.x+this.oh.x,m=this.kf.u.position.y+this.oh.y;this.jb.Set(b.m.r.x+e-(this.kf.u.position.x+this.nh.x),b.m.r.y+f-(this.kf.u.position.y+this.nh.y));this.kb.Set(d-l,g-m);d=this.jb.Yf();g=this.kb.Yf();0.005<d?this.jb.Bd(1/d):this.jb.da();
0.005<g?this.kb.Bd(1/g):this.kb.da();0<this.Ak-d-this.Pb*g?(this.rs=X.Fd,this.B=0):this.rs=X.Pc;d<this.hw?(this.ls=X.Fd,this.qg=0):this.ls=X.Pc;g<this.iw?(this.ms=X.Fd,this.rg=0):this.ms=X.Pc;d=e*this.jb.y-f*this.jb.x;g=h*this.kb.y-k*this.kb.x;this.nm=b.G+b.R*d*d;this.pm=c.G+c.R*g*g;this.Oo=this.nm+this.Pb*this.Pb*this.pm;this.nm=1/this.nm;this.pm=1/this.pm;this.Oo=1/this.Oo;a.Dh?(this.B*=a.pc,this.qg*=a.pc,this.rg*=a.pc,a=(-this.B-this.qg)*this.jb.x,d=(-this.B-this.qg)*this.jb.y,g=(-this.Pb*this.B-
this.rg)*this.kb.x,l=(-this.Pb*this.B-this.rg)*this.kb.y,b.p.x+=b.G*a,b.p.y+=b.G*d,b.C+=b.R*(e*d-f*a),c.p.x+=c.G*g,c.p.y+=c.G*l,c.C+=c.R*(h*l-k*g)):this.rg=this.qg=this.B=0};Oe.prototype.ze=function(){var a=this.T,b=this.U,c;c=a.u.n;var d=this.ba.x-a.m.M.x,e=this.ba.y-a.m.M.y,f=c.j.x*d+c.k.x*e,e=c.j.y*d+c.k.y*e,d=f;c=b.u.n;var g=this.ca.x-b.m.M.x,h=this.ca.y-b.m.M.y,f=c.j.x*g+c.k.x*h,h=c.j.y*g+c.k.y*h,g=f,k=f=c=0,l=0;c=l=c=l=k=f=c=0;this.rs==X.Pc&&(c=a.p.x+-a.C*e,f=a.p.y+a.C*d,k=b.p.x+-b.C*h,l=b.p.y+
b.C*g,c=-(this.jb.x*c+this.jb.y*f)-this.Pb*(this.kb.x*k+this.kb.y*l),l=this.Oo*-c,c=this.B,this.B=Math.max(0,this.B+l),l=this.B-c,c=-l*this.jb.x,f=-l*this.jb.y,k=-this.Pb*l*this.kb.x,l=-this.Pb*l*this.kb.y,a.p.x+=a.G*c,a.p.y+=a.G*f,a.C+=a.R*(d*f-e*c),b.p.x+=b.G*k,b.p.y+=b.G*l,b.C+=b.R*(g*l-h*k));this.ls==X.Pc&&(c=a.p.x+-a.C*e,f=a.p.y+a.C*d,c=-(this.jb.x*c+this.jb.y*f),l=-this.nm*c,c=this.qg,this.qg=Math.max(0,this.qg+l),l=this.qg-c,c=-l*this.jb.x,f=-l*this.jb.y,a.p.x+=a.G*c,a.p.y+=a.G*f,a.C+=a.R*
(d*f-e*c));this.ms==X.Pc&&(k=b.p.x+-b.C*h,l=b.p.y+b.C*g,c=-(this.kb.x*k+this.kb.y*l),l=-this.pm*c,c=this.rg,this.rg=Math.max(0,this.rg+l),l=this.rg-c,k=-l*this.kb.x,l=-l*this.kb.y,b.p.x+=b.G*k,b.p.y+=b.G*l,b.C+=b.R*(g*l-h*k))};Oe.prototype.ye=function(){var a=this.T,b=this.U,c,d=this.kf.u.position.x+this.nh.x,e=this.kf.u.position.y+this.nh.y,f=this.kf.u.position.x+this.oh.x,g=this.kf.u.position.y+this.oh.y,h=0,k=0,l=0,m=0,n=c=0,p=0,u=0,s=n=u=c=n=c=0;this.rs==X.Pc&&(c=a.u.n,h=this.ba.x-a.m.M.x,k=this.ba.y-
a.m.M.y,n=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=n,c=b.u.n,l=this.ca.x-b.m.M.x,m=this.ca.y-b.m.M.y,n=c.j.x*l+c.k.x*m,m=c.j.y*l+c.k.y*m,l=n,c=a.m.r.x+h,n=a.m.r.y+k,p=b.m.r.x+l,u=b.m.r.y+m,this.jb.Set(c-d,n-e),this.kb.Set(p-f,u-g),c=this.jb.Yf(),n=this.kb.Yf(),0.005<c?this.jb.Bd(1/c):this.jb.da(),0.005<n?this.kb.Bd(1/n):this.kb.da(),c=this.Ak-c-this.Pb*n,s=Math.max(s,-c),c=T.Cb(c+0.005,-0.2,0),u=-this.Oo*c,c=-u*this.jb.x,n=-u*this.jb.y,p=-this.Pb*u*this.kb.x,u=-this.Pb*u*this.kb.y,a.m.r.x+=a.G*c,a.m.r.y+=
a.G*n,a.m.I+=a.R*(h*n-k*c),b.m.r.x+=b.G*p,b.m.r.y+=b.G*u,b.m.I+=b.R*(l*u-m*p),a.Kb(),b.Kb());this.ls==X.Pc&&(c=a.u.n,h=this.ba.x-a.m.M.x,k=this.ba.y-a.m.M.y,n=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=n,c=a.m.r.x+h,n=a.m.r.y+k,this.jb.Set(c-d,n-e),c=this.jb.Yf(),0.005<c?(this.jb.x*=1/c,this.jb.y*=1/c):this.jb.da(),c=this.hw-c,s=Math.max(s,-c),c=T.Cb(c+0.005,-0.2,0),u=-this.nm*c,c=-u*this.jb.x,n=-u*this.jb.y,a.m.r.x+=a.G*c,a.m.r.y+=a.G*n,a.m.I+=a.R*(h*n-k*c),a.Kb());this.ms==X.Pc&&(c=b.u.n,l=this.ca.x-b.m.M.x,
m=this.ca.y-b.m.M.y,n=c.j.x*l+c.k.x*m,m=c.j.y*l+c.k.y*m,l=n,p=b.m.r.x+l,u=b.m.r.y+m,this.kb.Set(p-f,u-g),n=this.kb.Yf(),0.005<n?(this.kb.x*=1/n,this.kb.y*=1/n):this.kb.da(),c=this.iw-n,s=Math.max(s,-c),c=T.Cb(c+0.005,-0.2,0),u=-this.pm*c,p=-u*this.kb.x,u=-u*this.kb.y,b.m.r.x+=b.G*p,b.m.r.y+=b.G*u,b.m.I+=b.R*(l*u-m*p),b.Kb());return 0.005>s};var Me=1,Pe=function(){Be.call(this);this.io=Q.q(0,0);this.jo=Q.q(0,0);this.xb=Q.q(0,0);this.yb=Q.q(0,0);this.type=X.gA;this.io.Set(-1,1);this.jo.Set(1,1);this.xb.Set(-1,
0);this.yb.Set(1,0);this.kw=this.Qr=this.jw=this.Pr=0;this.ni=1;this.Dq=!0};M(Pe,Be);Pe.prototype.ic=function(a,b,c,d,e,f,g){void 0===g&&(g=0);this.J=a;this.K=b;this.io.D(c);this.jo.D(d);this.xb=this.J.od(e);this.yb=this.K.od(f);a=e.x-c.x;c=e.y-c.y;this.Pr=Math.sqrt(a*a+c*c);c=f.x-d.x;d=f.y-d.y;this.Qr=Math.sqrt(c*c+d*d);this.ni=g;g=this.Pr+this.ni*this.Qr;this.jw=g-this.ni*Me;this.kw=(g-Me)/this.ni};Pe.prototype.Ue=function(){return new Oe(this)};var Qe=function(a){X.call(this,a);this.be=new R;this.il=
new R;this.jl=new R;this.kl=new R;this.Ec=new uc(0,0,0);this.Df=Q.q(0,0);this.Bg=Q.q(0,0);this.ba=Q.q(0,0);this.ca=Q.q(0,0);this.B=new uc(0,0,0);this.P=new vc;this.ba.D(a.xb);this.ca.D(a.yb);this.tm=a.Cg;this.B.da();this.La=0;this.Mo=a.as;this.ss=a.At;this.WB=a.lw;this.qm=a.Jk;this.Lf=a.Wi;this.di=a.bk;this.Ba=X.Fd};M(Qe,X);Qe.prototype.kn=function(){return this.U.m.I-this.T.m.I-this.tm};Qe.prototype.Ve=function(a){var b=this.T,c=this.U,d,e=0;d=b.u.n;var f=this.ba.x-b.m.M.x,g=this.ba.y-b.m.M.y,e=
d.j.x*f+d.k.x*g,g=d.j.y*f+d.k.y*g,f=e;d=c.u.n;var h=this.ca.x-c.m.M.x,k=this.ca.y-c.m.M.y,e=d.j.x*h+d.k.x*k,k=d.j.y*h+d.k.y*k,h=e;d=b.G;var e=c.G,l=b.R,m=c.R;this.P.j.x=d+e+g*g*l+k*k*m;this.P.k.x=-g*f*l-k*h*m;this.P.ra.x=-g*l-k*m;this.P.j.y=this.P.k.x;this.P.k.y=d+e+f*f*l+h*h*m;this.P.ra.y=f*l+h*m;this.P.j.z=this.P.ra.x;this.P.k.z=this.P.ra.y;this.P.ra.z=l+m;this.Md=1/(l+m);this.di||(this.La=0);if(this.Lf){var n=c.m.I-b.m.I-this.tm;Math.abs(this.ss-this.Mo)<2*oc?this.Ba=X.Sh:n<=this.Mo?(this.Ba!=
X.dg&&(this.B.z=0),this.Ba=X.dg):n>=this.ss?(this.Ba!=X.Pc&&(this.B.z=0),this.Ba=X.Pc):(this.Ba=X.Fd,this.B.z=0)}else this.Ba=X.Fd;a.Dh?(this.B.x*=a.pc,this.B.y*=a.pc,this.La*=a.pc,a=this.B.x,n=this.B.y,b.p.x-=d*a,b.p.y-=d*n,b.C-=l*(f*n-g*a+this.La+this.B.z),c.p.x+=e*a,c.p.y+=e*n,c.C+=m*(h*n-k*a+this.La+this.B.z)):(this.B.da(),this.La=0)};Qe.prototype.ze=function(a){var b=this.T,c=this.U,d=0,e=d=0,f=0,g=0,h=0,k=b.p,l=b.C,m=c.p,n=c.C,p=b.G,u=c.G,s=b.R,q=c.R;this.di&&this.Ba!=X.Sh&&(e=this.Md*-(n-l-
this.qm),f=this.La,g=a.Ca*this.WB,this.La=T.Cb(this.La+e,-g,g),e=this.La-f,l-=s*e,n+=q*e);if(this.Lf&&this.Ba!=X.Fd){a=b.u.n;e=this.ba.x-b.m.M.x;f=this.ba.y-b.m.M.y;d=a.j.x*e+a.k.x*f;f=a.j.y*e+a.k.y*f;e=d;a=c.u.n;g=this.ca.x-c.m.M.x;h=this.ca.y-c.m.M.y;d=a.j.x*g+a.k.x*h;h=a.j.y*g+a.k.y*h;g=d;a=m.x+-n*h-k.x- -l*f;var x=m.y+n*g-k.y-l*e;this.P.tl(this.Ec,-a,-x,-(n-l));this.Ba==X.Sh?this.B.Mg(this.Ec):this.Ba==X.dg?(d=this.B.z+this.Ec.z,0>d&&(this.P.Uj(this.Bg,-a,-x),this.Ec.x=this.Bg.x,this.Ec.y=this.Bg.y,
this.Ec.z=-this.B.z,this.B.x+=this.Bg.x,this.B.y+=this.Bg.y,this.B.z=0)):this.Ba==X.Pc&&(d=this.B.z+this.Ec.z,0<d&&(this.P.Uj(this.Bg,-a,-x),this.Ec.x=this.Bg.x,this.Ec.y=this.Bg.y,this.Ec.z=-this.B.z,this.B.x+=this.Bg.x,this.B.y+=this.Bg.y,this.B.z=0));k.x-=p*this.Ec.x;k.y-=p*this.Ec.y;l-=s*(e*this.Ec.y-f*this.Ec.x+this.Ec.z);m.x+=u*this.Ec.x;m.y+=u*this.Ec.y;n+=q*(g*this.Ec.y-h*this.Ec.x+this.Ec.z)}else a=b.u.n,e=this.ba.x-b.m.M.x,f=this.ba.y-b.m.M.y,d=a.j.x*e+a.k.x*f,f=a.j.y*e+a.k.y*f,e=d,a=c.u.n,
g=this.ca.x-c.m.M.x,h=this.ca.y-c.m.M.y,d=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=d,this.P.Uj(this.Df,-(m.x+-n*h-k.x- -l*f),-(m.y+n*g-k.y-l*e)),this.B.x+=this.Df.x,this.B.y+=this.Df.y,k.x-=p*this.Df.x,k.y-=p*this.Df.y,l-=s*(e*this.Df.y-f*this.Df.x),m.x+=u*this.Df.x,m.y+=u*this.Df.y,n+=q*(g*this.Df.y-h*this.Df.x);b.p.D(k);b.C=l;c.p.D(m);c.C=n};Qe.prototype.ye=function(){var a=0,b,c=this.T,d=this.U,e=0,f=b=0,g=0,h=0;if(this.Lf&&this.Ba!=X.Fd){var a=d.m.I-c.m.I-this.tm,k=0;this.Ba==X.Sh?(a=T.Cb(a-this.Mo,
-pc,pc),k=-this.Md*a,e=Math.abs(a)):this.Ba==X.dg?(a-=this.Mo,e=-a,a=T.Cb(a+oc,-pc,0),k=-this.Md*a):this.Ba==X.Pc&&(e=a-=this.ss,a=T.Cb(a-oc,0,pc),k=-this.Md*a);c.m.I-=c.R*k;d.m.I+=d.R*k;c.Kb();d.Kb()}b=c.u.n;k=this.ba.x-c.m.M.x;a=this.ba.y-c.m.M.y;f=b.j.x*k+b.k.x*a;a=b.j.y*k+b.k.y*a;k=f;b=d.u.n;var l=this.ca.x-d.m.M.x,m=this.ca.y-d.m.M.y,f=b.j.x*l+b.k.x*m,m=b.j.y*l+b.k.y*m,l=f,g=d.m.r.x+l-c.m.r.x-k,h=d.m.r.y+m-c.m.r.y-a,n=g*g+h*h;b=Math.sqrt(n);var f=c.G,p=d.G,u=c.R,s=d.R;n>0.05*0.05&&(n=1/(f+p),
g=n*-g,h=n*-h,c.m.r.x-=0.5*f*g,c.m.r.y-=0.5*f*h,d.m.r.x+=0.5*p*g,d.m.r.y+=0.5*p*h,g=d.m.r.x+l-c.m.r.x-k,h=d.m.r.y+m-c.m.r.y-a);this.il.j.x=f+p;this.il.k.x=0;this.il.j.y=0;this.il.k.y=f+p;this.jl.j.x=u*a*a;this.jl.k.x=-u*k*a;this.jl.j.y=-u*k*a;this.jl.k.y=u*k*k;this.kl.j.x=s*m*m;this.kl.k.x=-s*l*m;this.kl.j.y=-s*l*m;this.kl.k.y=s*l*l;this.be.xf(this.il);this.be.Wm(this.jl);this.be.Wm(this.kl);this.be.Ih(Re,-g,-h);g=Re.x;h=Re.y;c.m.r.x-=c.G*g;c.m.r.y-=c.G*h;c.m.I-=c.R*(k*h-a*g);d.m.r.x+=d.G*g;d.m.r.y+=
d.G*h;d.m.I+=d.R*(l*h-m*g);c.Kb();d.Kb();return 0.005>=b&&e<=oc};var Re=Q.q(0,0),nc=function(){Be.call(this);this.xb=Q.q(0,0);this.yb=Q.q(0,0);this.type=X.ak;this.xb.da();this.yb.da();this.Jk=this.lw=this.At=this.as=this.Cg=0;this.bk=this.Wi=!1};M(nc,Be);nc.prototype.ic=function(a,b,c){this.J=a;this.K=b;this.xb=this.J.od(c);this.yb=this.K.od(c);this.Cg=this.K.zd()-this.J.zd()};nc.prototype.Ue=function(){return new Qe(this)};var Se=function(a){X.call(this,a);this.Je=Q.q(0,0);this.Ke=Q.q(0,0);this.B=
new uc(0,0,0);this.P=new vc;this.Je.D(a.xb);this.Ke.D(a.yb);this.tm=a.Cg};M(Se,X);Se.prototype.Ve=function(a){var b,c=0,d=this.T,e=this.U;b=d.u.n;var f=this.Je.x-d.m.M.x,g=this.Je.y-d.m.M.y,c=b.j.x*f+b.k.x*g,g=b.j.y*f+b.k.y*g,f=c;b=e.u.n;var h=this.Ke.x-e.m.M.x,k=this.Ke.y-e.m.M.y,c=b.j.x*h+b.k.x*k,k=b.j.y*h+b.k.y*k,h=c;b=d.G;var c=e.G,l=d.R,m=e.R;this.P.j.x=b+c+g*g*l+k*k*m;this.P.k.x=-g*f*l-k*h*m;this.P.ra.x=-g*l-k*m;this.P.j.y=this.P.k.x;this.P.k.y=b+c+f*f*l+h*h*m;this.P.ra.y=f*l+h*m;this.P.j.z=
this.P.ra.x;this.P.k.z=this.P.ra.y;this.P.ra.z=l+m;a.Dh?(this.B.x*=a.pc,this.B.y*=a.pc,this.B.z*=a.pc,d.p.x-=b*this.B.x,d.p.y-=b*this.B.y,d.C-=l*(f*this.B.y-g*this.B.x+this.B.z),e.p.x+=c*this.B.x,e.p.y+=c*this.B.y,e.C+=m*(h*this.B.y-k*this.B.x+this.B.z)):this.B.da()};Se.prototype.ze=function(){var a,b=0,c=this.T,d=this.U,e=c.p,f=c.C,g=d.p,h=d.C,k=c.G,l=d.G,m=c.R,n=d.R;a=c.u.n;var p=this.Je.x-c.m.M.x,u=this.Je.y-c.m.M.y,b=a.j.x*p+a.k.x*u,u=a.j.y*p+a.k.y*u,p=b;a=d.u.n;var s=this.Ke.x-d.m.M.x,q=this.Ke.y-
d.m.M.y,b=a.j.x*s+a.k.x*q,q=a.j.y*s+a.k.y*q,s=b;a=new uc(0,0,0);this.P.tl(a,-(g.x-h*q-e.x+f*u),-(g.y+h*s-e.y-f*p),-(h-f));this.B.Mg(a);e.x-=k*a.x;e.y-=k*a.y;f-=m*(p*a.y-u*a.x+a.z);g.x+=l*a.x;g.y+=l*a.y;h+=n*(s*a.y-q*a.x+a.z);c.C=f;d.C=h};Se.prototype.ye=function(){var a,b=0,c=this.T,d=this.U;a=c.u.n;var e=this.Je.x-c.m.M.x,f=this.Je.y-c.m.M.y,b=a.j.x*e+a.k.x*f,f=a.j.y*e+a.k.y*f,e=b;a=d.u.n;var g=this.Ke.x-d.m.M.x,h=this.Ke.y-d.m.M.y,b=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=b;a=c.G;var b=d.G,k=c.R,l=
d.R,m=d.m.r.x+g-c.m.r.x-e,n=d.m.r.y+h-c.m.r.y-f,p=d.m.I-c.m.I-this.tm,u=Math.sqrt(m*m+n*n),s=Math.abs(p);0.05<u&&(k*=1,l*=1);this.P.j.x=a+b+f*f*k+h*h*l;this.P.k.x=-f*e*k-h*g*l;this.P.ra.x=-f*k-h*l;this.P.j.y=this.P.k.x;this.P.k.y=a+b+e*e*k+g*g*l;this.P.ra.y=e*k+g*l;this.P.j.z=this.P.ra.x;this.P.k.z=this.P.ra.y;this.P.ra.z=k+l;var q=new uc(0,0,0);this.P.tl(q,-m,-n,-p);c.m.r.x-=a*q.x;c.m.r.y-=a*q.y;c.m.I-=k*(e*q.y-f*q.x+q.z);d.m.r.x+=b*q.x;d.m.r.y+=b*q.y;d.m.I+=l*(g*q.y-h*q.x+q.z);c.Kb();d.Kb();return 0.005>=
u&&s<=oc};var Te=function(){Be.call(this);this.xb=Q.q(0,0);this.yb=Q.q(0,0);this.type=X.iA;this.Cg=0};M(Te,Be);Te.prototype.ic=function(a,b,c){this.J=a;this.K=b;this.xb.D(this.J.od(c));this.yb.D(this.K.od(c));this.Cg=this.K.zd()-this.J.zd()};Te.prototype.Ue=function(){return new Se(this)};var he=[new Bc,new Bc],qe=[new Bc,new Bc],re=[new Bc,new Bc],ie=Q.q(0,0),je=Q.q(0,0),ke=Q.q(0,0),ne=Q.q(0,0),le=Q.q(0,0),me=Q.q(0,0),oe=Q.q(0,0),pe=Q.q(0,0),Gd=0,Td=0,Ud=0,Rd=0,Sd=0,Hd=new dd,Id=new Oc,Nd=new dc,
Od=new dc,Qd=new Zc,Pd=new Pc;gc.LC=new dc;hc.Pu=new hc;new function(){this.position=Q.q(0,0);this.Lx=Q.q(0,0);this.vd=Q.q(0,0);this.id=new Ac};jc.ME=new dc;jc.Uw=new wc;jc.Vw=new wc;var Fd=new ed,fe=new fd,ge=new ee}function Ue(a,b,c,d,e,f){return(c+0.1>=a&&a>=e-0.1||c-0.1<=a&&a<=e+0.1)&&(d+0.1>=b&&b>=f-0.1||d-0.1<=b&&b<=f+0.1)&&(0.1<Math.abs(e-c)?0.1>Math.abs((f-d)/(e-c)*(a-c)+d-b):0.1>Math.abs(a-c))}
function Ve(a){var b=[],c=0,d=0,e=0,f=0,g=0,h=g=0,k=0,l=0,m=0,f=0,n,p,u,s,q,x=f=c=0,C=0,e=[],k=[],D=!1,E=[],F=[];for(F.push(a);F.length;){b=F[0];d=b.length;D=!0;for(c=0;c<d;c++)if(l=c,m=c<d-1?c+1:c+1-d,f=c<d-2?c+2:c+2-d,a=b[l],n=b[m],f=b[f],f=a.x*n.y+n.x*f.y+f.x*a.y-a.y*n.x-n.y*f.x-f.y*a.x,0>f){D=!1;k=1E9;for(e=0;e<d;e++)if(e!==l&&e!==m){c=e;f=e<d-1?e+1:0;p=b[c];u=b[f];h=a.x;s=a.y;var G=n.x,z=n.y,g=p.x;p=p.y;var A=u.x;u=u.y;var t=G-h,y=z-s,H=A-g,N=u-p,H=(H*(p-s)-N*(g-h))/(y*H-t*N),t=h+H*t,y=s+H*y,
h=Ue(G,z,h,s,t,y),g=Ue(t,y,g,p,A,u);if(s=h&&g?Q.q(t,y):null)g=n.x-s.x,h=n.y-s.y,g=g*g+h*h,g<k&&(C=c,x=f,q=s,k=g)}if(1E9===k)return[];e=[];k=[];c=C;f=x;p=b[c];u=b[f];0.1>Math.abs(u.x-q.x)&&0.1>Math.abs(u.y-q.y)||e.push(q);0.1>Math.abs(p.x-q.x)&&0.1>Math.abs(p.y-q.y)||k.push(q);C=-1;for(x=l;;){if(x!==f)e.push(b[x]);else{if(0>C||C>=d)return[];Ue(u.x,u.y,b[C].x,b[C].y,a.x,a.y)||e.push(b[x]);break}C=x;0>x-1?x=d-1:x--}e.reverse();C=-1;for(x=m;;){if(x!==c)k.push(b[x]);else{if(0>C||C>=d)return[];x!==c||Ue(p.x,
p.y,b[C].x,b[C].y,n.x,n.y)||k.push(b[x]);break}C=x;x+1>d-1?x=0:x++}F.push(e,k);F.shift();break}D&&E.push(F.shift())}return E}
function We(a){for(var b=0;4E3>b;b++)Q.Rg.push(new Q(0,0));this.i=a;this.$d=new jc(Q.q(0,10),!0);this.Lr=-1;a=new hc;a.pb=this;a.Ym=function(a){this.pb.i.Rw(a.Mb.Ta().Ug.N,a.Gb.Ta().Ug.N)};this.$d.qu(a);a=new ic;a.pb=this;a.Ji=function(a,b){if(this.pb.vz)return!0;var e=a.Ta().Ug.N.type,f=b.Ta().Ug.N.type,g=e.Y.Ly;return g&&g.contains(f)?!1:(g=f.Y.Ly)&&g.contains(e)?!1:!0};this.$d.pu(a);this.SC=0;this.Tm=8;this.Fm=3;this.vz=!0}
(function(){function a(){}var b=Q,c=U,d=lc,e=V,f=kc,g=mc,h=nc,k=We.prototype;k.ub=function(a){this.pb=a;this.i=a.i};k.ub.prototype.Ka=r();k.mb=function(a,b){this.type=a;this.pb=a.pb;this.N=b;this.i=a.i;this.$d=this.pb.$d};var l=k.mb.prototype;l.Ka=function(){this.ik=0!==this.Z[0];this.Zu=this.Z[1];this.Ps=0!==this.Z[2];this.Cf=this.Z[3];this.gg=this.Z[4];this.Eg=this.Z[5];this.kj=this.Z[6];this.Mi=this.Z[7];this.Qi=0!==this.Z[8];this.enabled=0!==this.Z[9];this.body=null;this.N.wc();this.uo=this.N.x;
this.vo=this.N.y;this.kg=this.N.F;this.Jr=this.Mr=0;this.Pw=this.Kr=!1;this.Hr=null;this.Ir=-1;this.le?(this.le.length=0,this.nf.length=0,this.Zh.clear()):(this.le=[],this.nf=[],this.Zh=new Ia);var a=this;this.se||(this.qw=function(b){a.Cs(b)});this.i.wq(this.qw)};l.Kw=function(){this.N.wc();this.Iq();this.Hr=this.N.Db;this.Ir=this.N.aa};l.Nk=function(){this.Qn();this.nf.length=0;this.Zh.clear();this.body&&(this.$d.en(this.body),this.body=null);this.i.DC(this.qw)};l.Nd=function(){var a={e:this.enabled,
im:this.ik,pr:this.Ps,d:this.Cf,fr:this.gg,re:this.Eg,ld:this.kj,ad:this.Mi,b:this.Qi,mcj:this.nf};if(this.enabled){var c=b.q(0,0);c.D(this.body.Ci());a.vx=c.x;a.vy=c.y;a.om=this.body.jn()}return a};l.je=function(a){this.Qn();this.nf.length=0;this.Zh.clear();this.body&&(this.$d.en(this.body),this.body=null);this.enabled=a.e;this.ik=a.im;this.Ps=a.pr;this.Cf=a.d;this.gg=a.fr;this.Eg=a.re;this.kj=a.ld;this.Mi=a.ad;this.Qi=a.b;this.uo=this.N.x;this.vo=this.N.y;this.kg=this.N.F;this.Mr=this.N.width;this.Jr=
this.N.height;this.enabled&&(this.Iq(),this.body.Ii(b.q(a.vx,a.vy)),this.body.ql(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.zc(!0),this.nf=a.mcj)};l.Wj=function(){this.enabled&&this.Ts();this.pb.Lr=this.i.tf-1};l.Cs=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.nf.length;b<c;b++)this.nf[d]=this.nf[b],d<this.le.length&&(this.le[d]=this.le[b]),this.nf[b].gc[1]==e?this.$d.gn(this.le[b]):d++;this.nf.length=d;d<this.le.length&&(this.le.length=d);this.Zh.remove(a)};l.Qn=function(){var a,b;a=0;for(b=
this.le.length;a<b;a++)this.$d.gn(this.le[a]);this.le.length=0};l.Ts=function(){var a,b,c;a=0;for(b=this.nf.length;a<b;a++)switch(c=this.nf[a],c.type){case 0:this.Rz(c.gc[0],c.gc[1],c.gc[2],c.gc[3],c.gc[4]);break;case 1:this.Tz(c.gc[0],c.gc[1]);break;case 2:this.Sz(c.gc[0],c.gc[1],c.gc[2],c.gc[3])}};l.Oz=function(){this.body&&(this.Qn(),this.$d.en(this.body),this.body=null,this.N.Y.Bf=null)};l.Iq=function(){if(this.enabled){var a=this.N,g=!1,h=null,k=null,l,q,x,C,D,E;this.body&&(g=!0,h=b.q(0,0),h.D(this.body.Ci()),
k=this.body.jn(),this.Oz());var F=new d;F.Cf=this.Cf;F.gg=this.gg;F.Eg=this.Eg;E=new c;E.type=this.ik?0:2;a.wc();E.position.x=0.02*a.wb.xj();E.position.y=0.02*a.wb.yj();E.F=a.F;E.Wq=this.Ps;E.kj=this.kj;E.Mi=this.Mi;E.Qi=this.Qi;q=this.N.hb&&!this.N.hb.nk();this.body=this.$d.Ip(E);this.body.Ug=this;E=this.Zu;q||0!==this.Zu||(E=1);q=Math.max(Math.abs(a.width),1);x=Math.max(Math.abs(a.height),1);var G=0>a.width;D=0>a.height;if(0===E){E=a.F;a.F=0;a.Oa();a.wc();var z=a.wb.xj()-a.x,A=a.wb.yj()-a.y;a.F=
E;a.Oa();a.hb.Yj(G?-q:q,D?-x:x,0);var t=a.hb.gd;C=a.hb.zg;E=[];E.length=C;for(l=0;l<C;l++)E[l]=b.q(t[2*l]-z,t[2*l+1]-A);G!==D&&E.reverse();l=q*x;D=Q;var z=Ve(E),G=[],y,H,N,O,J,P,Y;N=0;for(O=z.length;N<O;N++){t=z[N];A=[];A.length=t.length;J=Y=0;for(P=t.length;J<P;J++)y=t[J],H=t[(J+1)%P],Y+=y.x*H.y-y.y*H.x,A[J]=D.q(y.x,y.y);Y=Math.abs(Y/2);Y>=0.001*l&&G.push(A)}for(l=0;l<C;l++)b.Kc(E[l]);if(G.length)for(l=0,q=G.length;l<q;l++){E=G[l];x=0;for(C=E.length;x<C;x++)D=E[x],D.x*=0.02,D.y*=0.02;F.shape=new e;
F.shape.iq(E,E.length);this.body.cn(F);x=0;for(C=E.length;x<C;x++)b.Kc(E[x])}else F.shape=new e,F.shape.rn(0.01*q,0.01*x),this.body.cn(F)}else 1===E?(F.shape=new e,F.shape.rn(0.01*q,0.01*x)):F.shape=new f(0.01*Math.min(q,x)),this.body.cn(F);a.Y.Bf=this.body;this.Mr=a.width;this.Jr=a.height;if(g)for(this.body.Ii(h),this.body.ql(k),b.Kc(h),this.Ts(),E=this.Zh.Lj(),l=0,q=E.length;l<q;l++)a=E[l].Y.Bf.Ug,a.Qn(),a.Ts()}};l.Jc=function(){if(this.enabled){var a=this.N,c;0===this.pb.SC?c=this.i.zh/60:(c=this.i.Kl(this.N),
c>1/30&&(c=1/30));this.i.tf>this.pb.Lr&&0<this.i.zh&&(this.$d.Qg(c,this.pb.Tm,this.pb.Fm),this.$d.Nt(),this.pb.Lr=this.i.tf);if(this.Pw||a.width!==this.Mr||a.height!==this.Jr||a.Db!==this.Hr||a.aa!==this.Ir)this.Iq(),this.Pw=!1,this.Hr=a.Db,this.Ir=a.aa;c=a.F!==this.kg;if(a.x!==this.uo||a.y!==this.vo){a.wc();var d=a.wb.xj(),e=a.wb.yj(),f=d-this.uo,g=e-this.vo;this.body.lq(b.q(0.02*d,0.02*e));this.body.Ii(b.q(f,g));this.Kr=!0;this.body.zc(!0)}else this.Kr&&(this.Kr=!1,this.body.Ii(b.q(0,0)),this.body.lq(b.q(0.02*
a.wb.xj(),0.02*a.wb.yj())));c&&(this.body.qn(a.F),this.body.zc(!0));d=this.body.u.position;c=d.x/0.02;d=d.y/0.02;e=this.body.zd();if(c!==a.x||d!==a.y||e!==a.F)if(a.x=c,a.y=d,a.F=e,a.Oa(),a.wc(),c=a.wb.xj()-a.x,d=a.wb.yj()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.Oa();this.uo=a.x;this.vo=a.y;this.kg=a.F}};l.Ll=function(a){return-1!==a&&this.N.ff?0===a&&this.body?(this.body.u.position.x+this.body.Di().x)/0.02:this.N.ff(a,!0):this.N.x};l.Ml=function(a){return-1!==a&&this.N.ff?0===a&&this.body?(this.body.u.position.y+
this.body.Di().y)/0.02:this.N.ff(a,!1):this.N.y};k.L=new (r());a.prototype.vf=function(a,c,d){if(this.enabled){var e=this.Ll(d);d=this.Ml(d);this.body.vf(b.q(a,c),b.q(0.02*e,0.02*d))}};a.prototype.Rx=function(a,c,d){if(this.enabled){c=I(c);var e=this.Ll(d);d=this.Ml(d);this.body.vf(b.q(Math.cos(c)*a,Math.sin(c)*a),b.q(0.02*e,0.02*d))}};a.prototype.Xm=function(a){this.enabled&&this.body.Xm(I(a))};a.prototype.ql=function(a){this.enabled&&(this.body.ql(I(a)),this.body.zc(!0))};l.Rz=function(a,c,d,e,
f){if(this.enabled&&(c=this.i.aj(c))&&c!=this.N&&c.Y.Bf){c.Y.Bf.Ug.Zh.add(this.N);var h=this.Ll(a);a=this.Ml(a);var k;c.ff?(k=c.ff(d,!0),d=c.ff(d,!1)):(k=c.x,d=c.y);var l=h-k,D=a-d,E=new g;E.ic(this.body,c.Y.Bf,b.q(0.02*h,0.02*a),b.q(0.02*k,0.02*d));E.length=0.02*Math.sqrt(l*l+D*D);E.Nn=e;E.bo=f;this.le.push(this.$d.dn(E))}};l.Tz=function(a,c){if(this.enabled){var d=this.i.aj(c);if(d&&d!=this.N&&d.Y.Bf){d.Y.Bf.Ug.Zh.add(this.N);var e=this.Ll(a),f=this.Ml(a),g=new h;g.ic(this.body,d.Y.Bf,b.q(0.02*
e,0.02*f));this.le.push(this.$d.dn(g))}}};l.Sz=function(a,c,d,e){if(this.enabled&&(c=this.i.aj(c))&&c!=this.N&&c.Y.Bf){c.Y.Bf.Ug.Zh.add(this.N);var f=this.Ll(a);a=this.Ml(a);var g=new h;g.ic(this.body,c.Y.Bf,b.q(0.02*f,0.02*a));g.Wi=!0;g.as=I(d);g.At=I(e);this.le.push(this.$d.dn(g))}};a.prototype.kq=function(a){this.enabled&&this.ik!==(0!==a)&&(this.ik=0!==a,this.body.vu(this.ik?0:2),this.body.zc(!0))};k.W=new a;k.Dc=new (r())})();function Xe(a){this.i=a}
(function(){var a=Xe.prototype;a.ub=function(a){this.pb=a;this.i=a.i};a.ub.prototype.Ka=r();a.mb=function(a,c){this.type=a;this.pb=a.pb;this.N=c;this.i=a.i};a=a.mb.prototype;a.Ka=r();a.Jc=function(){this.N.wc();var a=this.N.Qa,c=this.N.O.qb;(0>a.right||0>a.bottom||a.left>c.width||a.top>c.height)&&this.i.Og(this.N)}})();
function ub(){return[null,null,[[Ub,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Vb,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Wb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[Xb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[ac,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Yb,!1,!0,!0,!0,!0,!0,!0,!0,!0],[Zb,!0,!1,!1,!1,!1,!1,!1,!1,!1],[$b,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Tb,!0,!1,!1,!1,!1,!1,!1,!1,!1]],[["t0",$b,!1,[],0,0,null,null,[],!1,!1,0x7327d478cd104,[],[]],["t1",Ub,!1,[],0,0,null,null,[],!1,!1,7904142366221014,[],[]],["t2",Vb,!1,[],0,0,null,null,[],!1,!1,7586640320641521,[],
[]],["t3",Zb,!1,[],0,0,null,null,[],!1,!1,6730577484082432,[],[1]],["t4",Tb,!1,[],0,0,null,null,[],!1,!1,8586720004498409,[],[0,0,1,1,600,600,1E4,1,5E3,1]],["t5",ac,!1,[],0,0,null,null,[],!1,!1,489702204566585,[],[0,0,0,0]],["t6",Xb,!1,[],0,0,null,null,[],!1,!1,0xe5e2a4d14cef,[]],["t7",Xb,!1,[],0,0,null,null,[],!1,!1,0x90d6f18a912df,[]],["t8",Yb,!1,[],0,0,["images/tiledbackground.png",169,3],null,[],!1,!1,0x575c99b7cb2d5,[]],["t9",Yb,!1,[],0,0,["images/tiledbackground2.png",342249,1],null,[],!1,!1,
8472553710923284,[]],["t10",Yb,!1,[],0,0,["images/tiledbackground3.png",2350,1],null,[],!1,!1,812156531590887,[]],["t11",Wb,!1,[],2,0,null,[["Default",5,!1,1,0,!1,9553599953942700,[["images/ship-sheet0.png",10856,0,0,128,128,1,0.5,0.5,[],[-0.132812,0.132813,-0.445313,0,-0.132812,-0.132812,0,-0.34375,0.140625,-0.140625,0.4375,0,0.140625,0.140625,0,0.335938],0]]]],[["DestroyOutsideLayout",Xe,9139805926482788],["Physics",We,8510110817449326]],!1,!1,4885658187828923,[]],["t12",Xb,!1,[],0,0,null,null,
[],!1,!1,7370061230109303,[]],["t13",Wb,!1,[],1,0,null,[["Default",0,!1,1,0,!1,4944126305517704,[["images/asteroid-sheet0.png",2791611,1026,1,901,887,1,0.500555,0.500564,[],[-0.330744,-0.328072,-0.00110993,-0.496054,0.36737,-0.366404,0.45727,-0.00112769,0.36515,0.363021,-0.00110993,0.475761,-0.318535,0.314543,-0.45616,-0.00112769],0],["images/asteroid-sheet0.png",2791611,1,834,709,562,1,0.500705,0.5,[],[-0.327221,-0.281139,0.448519,-0.435943,0.279267,0,0.201693,0.124555,-0.00141025,0.371886,-0.379407,
0.346975,-0.428773,0],0],["images/asteroid-sheet0.png",2791611,1,1,1024,832,1,0.5,0.5,[],[-0.417969,-0.399038,0,-0.47476,0.380859,-0.353365,0.479492,0,0.396484,0.372596,0,0.33774,-0.214844,0.149038,-0.467773,0],0]]]],[["Bullet",bc,0x73657a0b662dd]],!1,!1,4815523817936955,[]],["t14",Wb,!1,[],1,0,null,[["Default",5,!1,1,0,!1,75217084152273,[["images/explode-sheet0.png",731267,0,0,811,759,1,0.500617,0.500659,[],[-0.310728,-0.29776,-0.00123355,-0.408432,0.268803,-0.254282,0.345252,-0.00131774,0.318125,
0.305665,-0.00123355,0.4361,-0.305796,0.291172],0]]]],[["Fade",cc,0xdf3b5b5e1b21f]],!1,!1,0xd7e07b0257c81,[]],["t15",Xb,!1,[],0,0,null,null,[],!1,!1,956225298761685,[]],["t16",Xb,!1,[],0,0,null,null,[],!1,!1,7220589629176597,[]],["t17",Wb,!1,[],0,0,null,[["Default",5,!1,1,0,!1,0xc60386d118a80,[["images/sprite-sheet0.png",1762927,0,0,3580,3402,1,0.5,0.5,[],[-0.163128,-0.145503,0,-0.467078,0.172346,-0.155203,0.343296,0,0.254749,0.241917,0,0.28836,-0.226257,0.211934,-0.335754,0],0]]]],[],!1,!1,7601055811253226,
[]],["t18",Wb,!1,[],1,0,null,[["Default",0,!1,1,0,!1,5251611945285798,[["images/sprite-sheet0.png",1762927,0,0,3580,3402,1,0.500559,0.500588,[],[-0.163687,-0.146091,-5.58674E-4,-0.467666,0.171787,-0.155791,0.342737,-5.87881E-4,0.25419,0.241329,-5.58674E-4,0.287772,-0.226816,0.211346,-0.336313,-5.87881E-4],0]]]],[["Bullet",bc,0xe9de627342f3a]],!1,!1,0xf0c2ab7a9d56d,[]]],[],[["Layout 1",640,480,!1,"Event sheet 1",0xb7068962a2f1b,[["Background",0,0x96edfdb010a9b,!0,[255,255,255],!1,1,1,1,!1,1,0,0,[[[46,
18,0,538,74,0,0,1,0,0,0,0,[]],6,0,[],[],["This layout includes a hidden 'Paused' layer which will become visible, and pause the game, when the view state is 'Snapped'. To view this layer, enable it in the Layers bar.",0,"12pt Arial","rgb(0,0,0)",1,0,0,0,0]],[[292,160,0,338,51,0,0,1,0,0,0,0,[]],6,2,[],[],["Share the text 'Hello world'. You can also share links and HTML.",0,"12pt Arial","rgb(0,0,0)",0,0,0,0,0]],[[41,405,0,581,74,0,0,1,0,0,0,0,[]],6,5,[],[],["Note: you must publish this project to Windows 8 before any of the above features will work.",
0,"12pt Arial","rgb(0,0,0)",1,2,0,0,0]],[[0,0,0,640,480,0,0,1,0,0,0,0,[]],10,1,[],[],[0,0]]],[]],["PausedLayer",1,0x49f2f019f2d3d,!0,[0,0,0],!1,1,1,0.75,!1,1,0,0,[[[25,147,0,587,222,0,0,1,0,0,0,0,[]],7,6,[],[],["Paused! Unsnap to continue playing.",0,"36pt Arial","rgb(255,255,255)",1,0,0,0,0]]],[]],["Main",2,8364228057675478,!0,[255,255,255],!0,1,1,1,!1,1,0,0,[[[122,135,0,75,66,0,0,1,0.5,0.5,0,0,[]],11,3,[],[[],[0,0,0,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]],[[505,-79,0,134,103,0,0,1,0.5,0.5,0,0,
[]],13,13,[],[[100,0,0,0,1,1]],[0,"Default",2,1]],[[322,-82,0,133,118,0,0,1,0.500617,0.500659,0,0,[]],14,14,[],[[1,0,0,2,1]],[0,"Default",0,1]],[[541,449,0,439,149,0,0,1,0,0,0,0,[]],16,16,[],[],["Restart?",1,"bold italic 16pt Arial","rgb(255,255,0)",0,0,0,0,0]],[[650,-78,0,40,39,0,0,1,0.500559,0.500588,0,0,[]],18,18,[],[[100,0,0,0,1,1]],[0,"Default",2,1]]],[]],["HUD",3,5824351394054563,!0,[255,255,255],!0,1,1,1,!1,1,0,0,[[[8,449,0,303,120,0,0,1,0,0,0,0,[]],12,4,[],[],["Score:",0,"bold 16pt Arial",
"rgb(255,255,0)",0,0,0,0,0]],[[105,176,0,436,231,0,0,1,0,0,0,0,[]],15,15,[],[],["Click to Begin Game",0,"bold italic 48pt Arial","rgb(255,255,0)",1,0,0,0,0]]],[]]],[],[]]],[["Event sheet 1",[[1,"FirstClick",0,0,!1,!1,0x6de44a9d694e9,!1],[1,"Score",0,0,!1,!1,0xfe15be098aad5,!1],[0,null,!1,null,4676895655835404,[[-1,L.prototype.L.an,null,0,!1,!1,!1,9506546991710108,!1,[[11,"FirstClick"],[8,0],[7,[0,0]]]]],[[-1,L.prototype.W.un,null,0xb89e943da3309,!1,[[0,[0,0]]]],[15,Xb.prototype.W.sl,null,8619186286576296,
!1,[[3,1]]],[11,We.prototype.W.kq,"Physics",7375207695972982,!1,[[3,1]]]]],[0,null,!1,null,0xfb4db1773c429,[[5,ac.prototype.L.Vx,null,0,!1,!1,!1,0x68c852bd05df8,!1,[[3,2]]]],[[-1,L.prototype.W.tu,null,0x9dd473c66a61f,!1,[[5,[2,"PausedLayer"]],[3,1]]],[-1,L.prototype.W.un,null,0x8ab90fb5d95d2,!1,[[0,[0,0]]]]]],[0,null,!1,null,7259390427483502,[[-1,L.prototype.L.Rt,null,0,!1,!1,!1,5460725092344009,!1]],[[-1,L.prototype.W.tu,null,5022054805501142,!1,[[5,[2,"PausedLayer"]],[3,0]]],[-1,L.prototype.W.un,
null,0x9ffd180e0d8c7,!1,[[0,[0,1]]]]]],[0,null,!0,null,0x3e263ea0e6c1d,[[3,Zb.prototype.L.iy,null,0,!1,!1,!1,0xf7635aabc4623,!1],[2,Vb.prototype.L.hy,null,0,!1,!1,!1,0xe21ccc59d7d3b,!1,[[3,0]]]],[[11,We.prototype.W.Rx,"Physics",9231897520106066,!1,[[0,[0,15]],[0,[0,270]],[7,[0,0]]]]]],[0,null,!1,null,6775601622690752,[[-1,L.prototype.L.Kp,null,0,!1,!1,!1,4884318900219069,!1,[[0,[1,1]]]],[11,Wb.prototype.L.jy,null,0,!1,!1,!1,0xb11242524ba9,!1,[[5,[0,2]]]],[-1,L.prototype.L.an,null,0,!1,!1,!1,7093753920449125,
!1,[[11,"FirstClick"],[8,0],[7,[0,1]]]]],[[-1,L.prototype.W.Lt,null,0xcc813b4ba3d0e,!1,[[11,"Score"],[7,[0,1]]]],[12,Xb.prototype.W.Sy,null,0xb1a15b92a731,!1,[[7,[10,[2,"Score: "],[23,"Score"]]]]]]],[0,null,!1,null,0xfe984199134be,[[-1,L.prototype.L.Kp,null,0,!1,!1,!1,0x514fc30d08778,!1,[[0,[0,3]]]],[-1,L.prototype.L.an,null,0,!1,!1,!1,4625166281589178,!1,[[11,"FirstClick"],[8,0],[7,[0,1]]]]],[[-1,L.prototype.W.Ot,null,0xb75cbec115f41,!1,[[4,13],[5,[0,2]],[0,[0,690]],[0,[19,L.prototype.Dc.random,
[[0,480]]]]]],[13,bc.prototype.W.lu,"Bullet",8108637178262003,!1,[[0,[0,180]]]],[13,Wb.prototype.W.mu,null,9280522793622612,!1,[[0,[19,L.prototype.Dc.floor,[[19,L.prototype.Dc.random,[[0,3]]]]]]]]]],[0,null,!1,null,0x41d17b56891b9,[[-1,L.prototype.L.Kp,null,0,!1,!1,!1,633246240108442,!1,[[0,[0,10]]]],[-1,L.prototype.L.an,null,0,!1,!1,!1,438574276150337,!1,[[11,"FirstClick"],[8,0],[7,[0,1]]]]],[[-1,L.prototype.W.Ot,null,845049503666099,!1,[[4,18],[5,[0,2]],[0,[0,690]],[0,[19,L.prototype.Dc.random,
[[0,480]]]]]],[18,bc.prototype.W.lu,"Bullet",0xc6e711ad02350,!1,[[0,[0,180]]]],[18,Wb.prototype.W.mu,null,8838448181238857,!1,[[0,[19,L.prototype.Dc.floor,[[19,L.prototype.Dc.random,[[0,3]]]]]]]]]],[0,null,!1,null,601276519246659,[[13,Wb.prototype.L.cu,null,0,!1,!1,!0,5794178402908323,!1,[[4,11]]]],[[11,Wb.prototype.W.Vc,null,0xb3d1c9421f8da,!1],[11,Wb.prototype.W.Yy,null,862784555863103,!1,[[4,14],[5,[0,2]],[7,[0,0]]]]]],[0,null,!1,null,9849170471119800,[[13,Wb.prototype.L.Wx,null,0,!1,!1,!1,7321924643317101,
!1,[[8,0],[0,[0,-10]]]]],[[13,Wb.prototype.W.Vc,null,7490826552459137,!1]]],[0,null,!0,null,9185263296693628,[[2,Vb.prototype.L.Yp,null,1,!1,!1,!1,0xe8fca7714ca67,!1,[[3,0],[3,0]]],[3,Zb.prototype.L.dq,null,1,!1,!1,!1,0xc404cdd1036c2,!1]],[[-1,L.prototype.W.nq,null,7242490262772572,!1,[[11,"FirstClick"],[7,[0,1]]]],[-1,L.prototype.W.un,null,693145997435883,!1,[[0,[1,1]]]],[15,Xb.prototype.W.sl,null,5829492788745519,!1,[[3,0]]],[11,We.prototype.W.kq,"Physics",6409520091377368,!1,[[3,0]]],[16,Xb.prototype.W.sl,
null,8422635170952184,!1,[[3,1]]]]],[0,null,!1,null,0x801edc31d3e90,[[11,Wb.prototype.L.du,null,1,!1,!1,!1,9055095257407252,!1]],[[-1,L.prototype.W.cz,null,0xed9ab1798bf91,!1,[[0,[0,2]]]],[12,Xb.prototype.W.tn,null,5467719241275488,!1,[[0,[0,240]],[0,[0,270]]]],[12,Xb.prototype.W.sn,null,0xd1a8eb5bae61a,!1,[[0,[0,32]]]],[16,Xb.prototype.W.sl,null,6833830747704458,!1,[[3,1]]],[16,Xb.prototype.W.tn,null,5382254823722244,!1,[[0,[0,240]],[0,[0,180]]]],[16,Xb.prototype.W.sn,null,0x5dafbb7377a6c,!1,[[0,
[0,36]]]]]],[0,null,!0,null,0x881f5adc1ed10,[[2,Vb.prototype.L.aq,null,1,!1,!1,!1,6402972667075898,!1,[[3,0],[3,0],[4,16]]],[3,Zb.prototype.L.cq,null,1,!1,!1,!1,6358716942663859,!1,[[4,16]]]],[[-1,L.prototype.W.nq,null,981827767824762,!1,[[11,"FirstClick"],[7,[0,0]]]],[-1,L.prototype.W.nq,null,0xe90f3f64fefee,!1,[[11,"Score"],[7,[0,0]]]],[11,We.prototype.W.kq,"Physics",0x952bf128b9b5b,!1,[[3,1]]],[16,Xb.prototype.W.tn,null,9326865150926256,!1,[[0,[0,540]],[0,[0,450]]]],[16,Xb.prototype.W.sn,null,
0x5aa29eca85879,!1,[[0,[0,16]]]],[-1,L.prototype.W.Py,null,4590015704345825,!1]]],[0,null,!1,null,0xc63238605bad,[[-1,L.prototype.L.eu,null,1,!1,!1,!1,0x6e6da5b4bb7e1,!1]],[[16,Xb.prototype.W.sl,null,8296867984801652,!1,[[3,0]]],[16,Xb.prototype.W.tn,null,559967928435762,!1,[[0,[0,540]],[0,[0,450]]]],[16,Xb.prototype.W.sn,null,0x5a8917bac139c,!1,[[0,[0,16]]]]]],[0,null,!1,null,5018423959177973,[[18,Wb.prototype.L.cu,null,0,!1,!1,!0,7599091469771541,!1,[[4,11]]]],[[-1,L.prototype.W.Lt,null,6497584479359321,
!1,[[11,"Score"],[7,[0,10]]]],[18,Wb.prototype.W.Vc,null,0x6e37e676c7f1f,!1]]]]]],"media/",!1,640,480,4,!0,!0,!0,"1.0",1,!1,0,!1,19,!1,[]]};
